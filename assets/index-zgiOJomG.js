(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function JL(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var aT={exports:{}},td={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR;function ZL(){if(dR)return td;dR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return td.Fragment=e,td.jsx=t,td.jsxs=t,td}var fR;function eU(){return fR||(fR=1,aT.exports=ZL()),aT.exports}var te=eU(),oT={exports:{}},nd={},lT={exports:{}},uT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function tU(){return pR||(pR=1,function(n){function e(ne,ue){var ge=ne.length;ne.push(ue);e:for(;0<ge;){var Pe=ge-1>>>1,B=ne[Pe];if(0<r(B,ue))ne[Pe]=ue,ne[ge]=B,ge=Pe;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var ue=ne[0],ge=ne.pop();if(ge!==ue){ne[0]=ge;e:for(var Pe=0,B=ne.length,ae=B>>>1;Pe<ae;){var de=2*(Pe+1)-1,he=ne[de],be=de+1,De=ne[be];if(0>r(he,ge))be<B&&0>r(De,he)?(ne[Pe]=De,ne[be]=ge,Pe=be):(ne[Pe]=he,ne[de]=ge,Pe=de);else if(be<B&&0>r(De,ge))ne[Pe]=De,ne[be]=ge,Pe=be;else break e}}return ue}function r(ne,ue){var ge=ne.sortIndex-ue.sortIndex;return ge!==0?ge:ne.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],g=1,_=null,T=3,w=!1,A=!1,D=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function q(ne){for(var ue=t(f);ue!==null;){if(ue.callback===null)i(f);else if(ue.startTime<=ne)i(f),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=t(f)}}function j(ne){if(D=!1,q(ne),!A)if(t(d)!==null)A=!0,Q||(Q=!0,$());else{var ue=t(f);ue!==null&&st(j,ue.startTime-ne)}}var Q=!1,x=-1,I=5,N=-1;function L(){return C?!0:!(n.unstable_now()-N<I)}function F(){if(C=!1,Q){var ne=n.unstable_now();N=ne;var ue=!0;try{e:{A=!1,D&&(D=!1,O(x),x=-1),w=!0;var ge=T;try{t:{for(q(ne),_=t(d);_!==null&&!(_.expirationTime>ne&&L());){var Pe=_.callback;if(typeof Pe=="function"){_.callback=null,T=_.priorityLevel;var B=Pe(_.expirationTime<=ne);if(ne=n.unstable_now(),typeof B=="function"){_.callback=B,q(ne),ue=!0;break t}_===t(d)&&i(d),q(ne)}else i(d);_=t(d)}if(_!==null)ue=!0;else{var ae=t(f);ae!==null&&st(j,ae.startTime-ne),ue=!1}}break e}finally{_=null,T=ge,w=!1}ue=void 0}}finally{ue?$():Q=!1}}}var $;if(typeof k=="function")$=function(){k(F)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,yt=M.port2;M.port1.onmessage=F,$=function(){yt.postMessage(null)}}else $=function(){P(F,0)};function st(ne,ue){x=P(function(){ne(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var ge=T;T=ue;try{return ne()}finally{T=ge}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(ne,ue){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=T;T=ne;try{return ue()}finally{T=ge}},n.unstable_scheduleCallback=function(ne,ue,ge){var Pe=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Pe+ge:Pe):ge=Pe,ne){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ge+B,ne={id:g++,callback:ue,priorityLevel:ne,startTime:ge,expirationTime:B,sortIndex:-1},ge>Pe?(ne.sortIndex=ge,e(f,ne),t(d)===null&&ne===t(f)&&(D?(O(x),x=-1):D=!0,st(j,ge-Pe))):(ne.sortIndex=B,e(d,ne),A||w||(A=!0,Q||(Q=!0,$()))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var ue=T;return function(){var ge=T;T=ue;try{return ne.apply(this,arguments)}finally{T=ge}}}}(uT)),uT}var mR;function nU(){return mR||(mR=1,lT.exports=tU()),lT.exports}var cT={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function iU(){if(gR)return Ne;gR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function C(B,ae,de){this.props=B,this.context=ae,this.refs=D,this.updater=de||w}C.prototype.isReactComponent={},C.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function P(){}P.prototype=C.prototype;function O(B,ae,de){this.props=B,this.context=ae,this.refs=D,this.updater=de||w}var k=O.prototype=new P;k.constructor=O,A(k,C.prototype),k.isPureReactComponent=!0;var q=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function x(B,ae,de,he,be,De){return de=De.ref,{$$typeof:n,type:B,key:ae,ref:de!==void 0?de:null,props:De}}function I(B,ae){return x(B.type,ae,void 0,void 0,void 0,B.props)}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(de){return ae[de]})}var F=/\/+/g;function $(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):ae.toString(36)}function M(){}function yt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(M,M):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function st(B,ae,de,he,be){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var Ae=!1;if(B===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(B.$$typeof){case n:case e:Ae=!0;break;case g:return Ae=B._init,st(Ae(B._payload),ae,de,he,be)}}if(Ae)return be=be(B),Ae=he===""?"."+$(B,0):he,q(be)?(de="",Ae!=null&&(de=Ae.replace(F,"$&/")+"/"),st(be,ae,de,"",function(un){return un})):be!=null&&(N(be)&&(be=I(be,de+(be.key==null||B&&B.key===be.key?"":(""+be.key).replace(F,"$&/")+"/")+Ae)),ae.push(be)),1;Ae=0;var At=he===""?".":he+":";if(q(B))for(var Ke=0;Ke<B.length;Ke++)he=B[Ke],De=At+$(he,Ke),Ae+=st(he,ae,de,De,be);else if(Ke=T(B),typeof Ke=="function")for(B=Ke.call(B),Ke=0;!(he=B.next()).done;)he=he.value,De=At+$(he,Ke++),Ae+=st(he,ae,de,De,be);else if(De==="object"){if(typeof B.then=="function")return st(yt(B),ae,de,he,be);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ne(B,ae,de){if(B==null)return B;var he=[],be=0;return st(B,he,"","",function(De){return ae.call(de,De,be++)}),he}function ue(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(de){(B._status===0||B._status===-1)&&(B._status=1,B._result=de)},function(de){(B._status===0||B._status===-1)&&(B._status=2,B._result=de)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var ge=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Pe(){}return Ne.Children={map:ne,forEach:function(B,ae,de){ne(B,function(){ae.apply(this,arguments)},de)},count:function(B){var ae=0;return ne(B,function(){ae++}),ae},toArray:function(B){return ne(B,function(ae){return ae})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ne.Component=C,Ne.Fragment=t,Ne.Profiler=r,Ne.PureComponent=O,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(B){return j.H.useMemoCache(B)}},Ne.cache=function(B){return function(){return B.apply(null,arguments)}},Ne.cloneElement=function(B,ae,de){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var he=A({},B.props),be=B.key,De=void 0;if(ae!=null)for(Ae in ae.ref!==void 0&&(De=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!Q.call(ae,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ae.ref===void 0||(he[Ae]=ae[Ae]);var Ae=arguments.length-2;if(Ae===1)he.children=de;else if(1<Ae){for(var At=Array(Ae),Ke=0;Ke<Ae;Ke++)At[Ke]=arguments[Ke+2];he.children=At}return x(B.type,be,void 0,void 0,De,he)},Ne.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Ne.createElement=function(B,ae,de){var he,be={},De=null;if(ae!=null)for(he in ae.key!==void 0&&(De=""+ae.key),ae)Q.call(ae,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=ae[he]);var Ae=arguments.length-2;if(Ae===1)be.children=de;else if(1<Ae){for(var At=Array(Ae),Ke=0;Ke<Ae;Ke++)At[Ke]=arguments[Ke+2];be.children=At}if(B&&B.defaultProps)for(he in Ae=B.defaultProps,Ae)be[he]===void 0&&(be[he]=Ae[he]);return x(B,De,void 0,void 0,null,be)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(B){return{$$typeof:c,render:B}},Ne.isValidElement=N,Ne.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:ue}},Ne.memo=function(B,ae){return{$$typeof:f,type:B,compare:ae===void 0?null:ae}},Ne.startTransition=function(B){var ae=j.T,de={};j.T=de;try{var he=B(),be=j.S;be!==null&&be(de,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Pe,ge)}catch(De){ge(De)}finally{j.T=ae}},Ne.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ne.use=function(B){return j.H.use(B)},Ne.useActionState=function(B,ae,de){return j.H.useActionState(B,ae,de)},Ne.useCallback=function(B,ae){return j.H.useCallback(B,ae)},Ne.useContext=function(B){return j.H.useContext(B)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(B,ae){return j.H.useDeferredValue(B,ae)},Ne.useEffect=function(B,ae,de){var he=j.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(B,ae)},Ne.useId=function(){return j.H.useId()},Ne.useImperativeHandle=function(B,ae,de){return j.H.useImperativeHandle(B,ae,de)},Ne.useInsertionEffect=function(B,ae){return j.H.useInsertionEffect(B,ae)},Ne.useLayoutEffect=function(B,ae){return j.H.useLayoutEffect(B,ae)},Ne.useMemo=function(B,ae){return j.H.useMemo(B,ae)},Ne.useOptimistic=function(B,ae){return j.H.useOptimistic(B,ae)},Ne.useReducer=function(B,ae,de){return j.H.useReducer(B,ae,de)},Ne.useRef=function(B){return j.H.useRef(B)},Ne.useState=function(B){return j.H.useState(B)},Ne.useSyncExternalStore=function(B,ae,de){return j.H.useSyncExternalStore(B,ae,de)},Ne.useTransition=function(){return j.H.useTransition()},Ne.version="19.1.0",Ne}var yR;function vE(){return yR||(yR=1,cT.exports=iU()),cT.exports}var hT={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function rU(){if(_R)return kn;_R=1;var n=vE();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,kn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},kn.flushSync=function(d){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=g,i.d.f()}},kn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},kn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},kn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=c(g,f.crossOrigin),T=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:w}):g==="script"&&i.d.X(d,{crossOrigin:_,integrity:T,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},kn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},kn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=c(g,f.crossOrigin);i.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},kn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=c(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},kn.requestFormReset=function(d){i.d.r(d)},kn.unstable_batchedUpdates=function(d,f){return d(f)},kn.useFormState=function(d,f,g){return l.H.useFormState(d,f,g)},kn.useFormStatus=function(){return l.H.useHostTransitionStatus()},kn.version="19.1.0",kn}var vR;function sU(){if(vR)return hT.exports;vR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hT.exports=rU(),hT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function aU(){if(TR)return nd;TR=1;var n=nU(),e=vE(),t=sU();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var u=s,h=a;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return c(m),s;if(y===h)return c(m),a;y=y.sibling}throw Error(i(188))}if(u.return!==h.return)u=m,h=y;else{for(var b=!1,S=m.child;S;){if(S===u){b=!0,u=m,h=y;break}if(S===h){b=!0,h=m,u=y;break}S=S.sibling}if(!b){for(S=y.child;S;){if(S===u){b=!0,u=y,h=m;break}if(S===h){b=!0,h=y,u=m;break}S=S.sibling}if(!b)throw Error(i(189))}}if(u.alternate!==h)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:a}function f(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=f(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function yt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case C:return"Profiler";case D:return"StrictMode";case j:return"Suspense";case Q:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case k:return(s.displayName||"Context")+".Provider";case O:return(s._context.displayName||"Context")+".Consumer";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case x:return a=s.displayName||null,a!==null?a:yt(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return yt(s(a))}catch{}}return null}var st=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Pe=[],B=-1;function ae(s){return{current:s}}function de(s){0>B||(s.current=Pe[B],Pe[B]=null,B--)}function he(s,a){B++,Pe[B]=s.current,s.current=a}var be=ae(null),De=ae(null),Ae=ae(null),At=ae(null);function Ke(s,a){switch(he(Ae,a),he(De,s),he(be,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?FI(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=FI(a),s=zI(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}de(be),he(be,s)}function un(){de(be),de(De),de(Ae)}function Ai(s){s.memoizedState!==null&&he(At,s);var a=be.current,u=zI(a,s.type);a!==u&&(he(De,s),he(be,u))}function Zn(s){De.current===s&&(de(be),de(De)),At.current===s&&(de(At),Qh._currentValue=ge)}var xn=Object.prototype.hasOwnProperty,to=n.unstable_scheduleCallback,no=n.unstable_cancelCallback,Kc=n.unstable_shouldYield,sp=n.unstable_requestPaint,Si=n.unstable_now,a_=n.unstable_getCurrentPriorityLevel,Wc=n.unstable_ImmediatePriority,kl=n.unstable_UserBlockingPriority,io=n.unstable_NormalPriority,o_=n.unstable_LowPriority,Nl=n.unstable_IdlePriority,Yc=n.log,ap=n.unstable_setDisableYieldValue,Ot=null,et=null;function ui(s){if(typeof Yc=="function"&&ap(s),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ot,s)}catch{}}var Pn=Math.clz32?Math.clz32:ro,op=Math.log,l_=Math.LN2;function ro(s){return s>>>=0,s===0?32:31-(op(s)/l_|0)|0}var so=256,ao=4194304;function Ki(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ol(s,a,u){var h=s.pendingLanes;if(h===0)return 0;var m=0,y=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var S=h&134217727;return S!==0?(h=S&~y,h!==0?m=Ki(h):(b&=S,b!==0?m=Ki(b):u||(u=S&~s,u!==0&&(m=Ki(u))))):(S=h&~y,S!==0?m=Ki(S):b!==0?m=Ki(b):u||(u=h&~s,u!==0&&(m=Ki(u)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,u=a&-a,y>=u||y===32&&(u&4194048)!==0)?a:m}function oo(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Qc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xc(){var s=so;return so<<=1,(so&4194048)===0&&(so=256),s}function Jc(){var s=ao;return ao<<=1,(ao&62914560)===0&&(ao=4194304),s}function Hr(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Gr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Zc(s,a,u,h,m,y){var b=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,Y=s.hiddenUpdates;for(u=b&~u;0<u;){var ie=31-Pn(u),se=1<<ie;S[ie]=0,V[ie]=-1;var X=Y[ie];if(X!==null)for(Y[ie]=null,ie=0;ie<X.length;ie++){var J=X[ie];J!==null&&(J.lane&=-536870913)}u&=~se}h!==0&&rr(s,h,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(b&~a))}function rr(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Pn(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|u&4194090}function eh(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-Pn(u),m=1<<h;m&a|s[h]&a&&(s[h]|=a),u&=~m}}function js(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Vl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function qs(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:aR(s.type))}function lp(s,a){var u=ue.p;try{return ue.p=s,a()}finally{ue.p=u}}var _t=Math.random().toString(36).slice(2),tn="__reactFiber$"+_t,Wt="__reactProps$"+_t,Ii="__reactContainer$"+_t,th="__reactEvents$"+_t,u_="__reactListeners$"+_t,$s="__reactHandles$"+_t,up="__reactResources$"+_t,lo="__reactMarker$"+_t;function Hs(s){delete s[tn],delete s[Wt],delete s[th],delete s[u_],delete s[$s]}function Kr(s){var a=s[tn];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ii]||u[tn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=HI(s);s!==null;){if(u=s[tn])return u;s=HI(s)}return a}s=u,u=s.parentNode}return null}function sr(s){if(s=s[tn]||s[Ii]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ar(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function zn(s){var a=s[up];return a||(a=s[up]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function zt(s){s[lo]=!0}var nh=new Set,Ml={};function Wi(s,a){Wr(s,a),Wr(s+"Capture",a)}function Wr(s,a){for(Ml[s]=a,s=0;s<a.length;s++)nh.add(a[s])}var cp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hp={},uo={};function dp(s){return xn.call(uo,s)?!0:xn.call(hp,s)?!1:cp.test(s)?uo[s]=!0:(hp[s]=!0,!1)}function Gs(s,a,u){if(dp(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function or(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function vn(s,a,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+h)}}var co,fp;function Yr(s){if(co===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);co=a&&a[1]||"",fp=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+co+s+fp}var Ll=!1;function Ul(s,a){if(!s||Ll)return"";Ll=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var X=J}Reflect.construct(s,[],se)}else{try{se.call()}catch(J){X=J}s.call(se.prototype)}}else{try{throw Error()}catch(J){X=J}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),b=y[0],S=y[1];if(b&&S){var V=b.split(`
`),Y=S.split(`
`);for(m=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(h===V.length||m===Y.length)for(h=V.length-1,m=Y.length-1;1<=h&&0<=m&&V[h]!==Y[m];)m--;for(;1<=h&&0<=m;h--,m--)if(V[h]!==Y[m]){if(h!==1||m!==1)do if(h--,m--,0>m||V[h]!==Y[m]){var ie=`
`+V[h].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=h&&0<=m);break}}}finally{Ll=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Yr(u):""}function ih(s){switch(s.tag){case 26:case 27:case 5:return Yr(s.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 15:return Ul(s.type,!1);case 11:return Ul(s.type.render,!1);case 1:return Ul(s.type,!0);case 31:return Yr("Activity");default:return""}}function Bl(s){try{var a="";do a+=ih(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function jn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function rh(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function c_(s){var a=rh(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){h=""+b,y.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Fl(s){s._valueTracker||(s._valueTracker=c_(s))}function sh(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=rh(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function ho(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var h_=/[\n"\\]/g;function Yt(s){return s.replace(h_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ci(s,a,u,h,m,y,b,S){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),a!=null?b==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+jn(a)):s.value!==""+jn(a)&&(s.value=""+jn(a)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),a!=null?Ks(s,b,jn(a)):u!=null?Ks(s,b,jn(u)):h!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+jn(S):s.removeAttribute("name")}function fo(s,a,u,h,m,y,b,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;u=u!=null?""+jn(u):"",a=a!=null?""+jn(a):u,S||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=S?s.checked:!!h,s.defaultChecked=!!h,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b)}function Ks(s,a,u){a==="number"&&ho(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Qr(s,a,u,h){if(s=s.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=a.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+jn(u),a=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function at(s,a,u){if(a!=null&&(a=""+jn(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+jn(u):""}function po(s,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(i(92));if(st(h)){if(1<h.length)throw Error(i(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=jn(a),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h)}function Ri(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pp(s,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,u):typeof u!="number"||u===0||mo.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function ah(s,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&u[m]!==h&&pp(s,m,h)}else for(var y in a)a.hasOwnProperty(y)&&pp(s,y,a[y])}function oh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(s){return f_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Xr=null;function Ci(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jr=null,Zr=null;function lh(s){var a=sr(s);if(a&&(s=a.stateNode)){var u=s[Wt]||null;e:switch(s=a.stateNode,a.type){case"input":if(ci(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var m=h[Wt]||null;if(!m)throw Error(i(90));ci(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===s.form&&sh(h)}break e;case"textarea":at(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Qr(s,!!u.multiple,a,!1)}}}var lr=!1;function mp(s,a,u){if(lr)return s(a,u);lr=!0;try{var h=s(a);return h}finally{if(lr=!1,(Jr!==null||Zr!==null)&&(lm(),Jr&&(a=Jr,s=Zr,Zr=Jr=null,lh(a),s)))for(a=0;a<s.length;a++)lh(s[a])}}function go(s,a){var u=s.stateNode;if(u===null)return null;var h=u[Wt]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=!1;if(Yi)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){xi=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{xi=!1}var ur=null,Ws=null,es=null;function uh(){if(es)return es;var s,a=Ws,u=a.length,h,m="value"in ur?ur.value:ur.textContent,y=m.length;for(s=0;s<u&&a[s]===m[s];s++);var b=u-s;for(h=1;h<=b&&a[u-h]===m[y-h];h++);return es=m.slice(s,1<h?1-h:void 0)}function cr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function hr(){return!0}function ch(){return!1}function cn(s){function a(u,h,m,y,b){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(u=s[S],this[S]=u?u(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hr:ch,this.isPropagationStopped=ch,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),a}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=cn(Xe),_o=g({},Xe,{view:0,detail:0}),gp=cn(_o),ql,$l,dr,vo=g({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==dr&&(dr&&s.type==="mousemove"?(ql=s.screenX-dr.screenX,$l=s.screenY-dr.screenY):$l=ql=0,dr=s),ql)},movementY:function(s){return"movementY"in s?s.movementY:$l}}),Pi=cn(vo),yp=g({},vo,{dataTransfer:0}),p_=cn(yp),To=g({},_o,{relatedTarget:0}),Hl=cn(To),hh=g({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Gl=cn(hh),_p=g({},Xe,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Kl=cn(_p),m_=g({},Xe,{data:0}),dh=cn(m_),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Tp[s])?!!a[s]:!1}function bo(){return fh}var Ep=g({},_o,{key:function(s){if(s.key){var a=Eo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=cr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(s){return s.type==="keypress"?cr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Wl=cn(Ep),bp=g({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=cn(bp),ts=g({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),wp=cn(ts),Ap=g({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sp=cn(Ap),Ip=g({},vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Yl=cn(Ip),qn=g({},Xe,{newState:0,oldState:0}),Rp=cn(qn),Cp=[9,13,27,32],fr=Yi&&"CompositionEvent"in window,p=null;Yi&&"documentMode"in document&&(p=document.documentMode);var v=Yi&&"TextEvent"in window&&!p,E=Yi&&(!fr||p&&8<p&&11>=p),R=" ",G=!1;function ee(s,a){switch(s){case"keyup":return Cp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var je=!1;function nn(s,a){switch(s){case"compositionend":return fe(a);case"keypress":return a.which!==32?null:(G=!0,R);case"textInput":return s=a.data,s===R&&G?null:s;default:return null}}function qe(s,a){if(je)return s==="compositionend"||!fr&&ee(s,a)?(s=uh(),es=Ws=ur=null,je=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!hn[s.type]:a==="textarea"}function ns(s,a,u,h){Jr?Zr?Zr.push(h):Zr=[h]:Jr=h,a=pm(a,"onChange"),0<a.length&&(u=new jl("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var Tn=null,pr=null;function mh(s){VI(s,0)}function xp(s){var a=ar(s);if(sh(a))return s}function nA(s,a){if(s==="change")return a}var iA=!1;if(Yi){var g_;if(Yi){var y_="oninput"in document;if(!y_){var rA=document.createElement("div");rA.setAttribute("oninput","return;"),y_=typeof rA.oninput=="function"}g_=y_}else g_=!1;iA=g_&&(!document.documentMode||9<document.documentMode)}function sA(){Tn&&(Tn.detachEvent("onpropertychange",aA),pr=Tn=null)}function aA(s){if(s.propertyName==="value"&&xp(pr)){var a=[];ns(a,pr,s,Ci(s)),mp(mh,a)}}function C2(s,a,u){s==="focusin"?(sA(),Tn=a,pr=u,Tn.attachEvent("onpropertychange",aA)):s==="focusout"&&sA()}function x2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xp(pr)}function P2(s,a){if(s==="click")return xp(a)}function D2(s,a){if(s==="input"||s==="change")return xp(a)}function k2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var hi=typeof Object.is=="function"?Object.is:k2;function gh(s,a){if(hi(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!xn.call(a,m)||!hi(s[m],a[m]))return!1}return!0}function oA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function lA(s,a){var u=oA(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=oA(u)}}function uA(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?uA(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function cA(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ho(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ho(s.document)}return a}function __(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var N2=Yi&&"documentMode"in document&&11>=document.documentMode,Ql=null,v_=null,yh=null,T_=!1;function hA(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;T_||Ql==null||Ql!==ho(h)||(h=Ql,"selectionStart"in h&&__(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yh&&gh(yh,h)||(yh=h,h=pm(v_,"onSelect"),0<h.length&&(a=new jl("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=Ql)))}function wo(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Xl={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},E_={},dA={};Yi&&(dA=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Ao(s){if(E_[s])return E_[s];if(!Xl[s])return s;var a=Xl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in dA)return E_[s]=a[u];return s}var fA=Ao("animationend"),pA=Ao("animationiteration"),mA=Ao("animationstart"),O2=Ao("transitionrun"),V2=Ao("transitionstart"),M2=Ao("transitioncancel"),gA=Ao("transitionend"),yA=new Map,b_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");b_.push("scrollEnd");function Qi(s,a){yA.set(s,a),Wi(a,[s])}var _A=new WeakMap;function Di(s,a){if(typeof s=="object"&&s!==null){var u=_A.get(s);return u!==void 0?u:(a={value:s,source:a,stack:Bl(a)},_A.set(s,a),a)}return{value:s,source:a,stack:Bl(a)}}var ki=[],Jl=0,w_=0;function Pp(){for(var s=Jl,a=w_=Jl=0;a<s;){var u=ki[a];ki[a++]=null;var h=ki[a];ki[a++]=null;var m=ki[a];ki[a++]=null;var y=ki[a];if(ki[a++]=null,h!==null&&m!==null){var b=h.pending;b===null?m.next=m:(m.next=b.next,b.next=m),h.pending=m}y!==0&&vA(u,m,y)}}function Dp(s,a,u,h){ki[Jl++]=s,ki[Jl++]=a,ki[Jl++]=u,ki[Jl++]=h,w_|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function A_(s,a,u,h){return Dp(s,a,u,h),kp(s)}function Zl(s,a){return Dp(s,null,null,a),kp(s)}function vA(s,a,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var m=!1,y=s.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-Pn(u),s=y.hiddenUpdates,h=s[m],h===null?s[m]=[a]:h.push(a),a.lane=u|536870912),y):null}function kp(s){if(50<jh)throw jh=0,Pv=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var eu={};function L2(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(s,a,u,h){return new L2(s,a,u,h)}function S_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function is(s,a){var u=s.alternate;return u===null?(u=di(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function TA(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Np(s,a,u,h,m,y){var b=0;if(h=s,typeof s=="function")S_(s)&&(b=1);else if(typeof s=="string")b=BL(s,u,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=di(31,u,a,m),s.elementType=N,s.lanes=y,s;case A:return So(u.children,m,y,a);case D:b=8,m|=24;break;case C:return s=di(12,u,a,m|2),s.elementType=C,s.lanes=y,s;case j:return s=di(13,u,a,m),s.elementType=j,s.lanes=y,s;case Q:return s=di(19,u,a,m),s.elementType=Q,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case k:b=10;break e;case O:b=9;break e;case q:b=11;break e;case x:b=14;break e;case I:b=16,h=null;break e}b=29,u=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=di(b,u,a,m),a.elementType=s,a.type=h,a.lanes=y,a}function So(s,a,u,h){return s=di(7,s,h,a),s.lanes=u,s}function I_(s,a,u){return s=di(6,s,null,a),s.lanes=u,s}function R_(s,a,u){return a=di(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var tu=[],nu=0,Op=null,Vp=0,Ni=[],Oi=0,Io=null,rs=1,ss="";function Ro(s,a){tu[nu++]=Vp,tu[nu++]=Op,Op=s,Vp=a}function EA(s,a,u){Ni[Oi++]=rs,Ni[Oi++]=ss,Ni[Oi++]=Io,Io=s;var h=rs;s=ss;var m=32-Pn(h)-1;h&=~(1<<m),u+=1;var y=32-Pn(a)+m;if(30<y){var b=m-m%5;y=(h&(1<<b)-1).toString(32),h>>=b,m-=b,rs=1<<32-Pn(a)+m|u<<m|h,ss=y+s}else rs=1<<y|u<<m|h,ss=s}function C_(s){s.return!==null&&(Ro(s,1),EA(s,1,0))}function x_(s){for(;s===Op;)Op=tu[--nu],tu[nu]=null,Vp=tu[--nu],tu[nu]=null;for(;s===Io;)Io=Ni[--Oi],Ni[Oi]=null,ss=Ni[--Oi],Ni[Oi]=null,rs=Ni[--Oi],Ni[Oi]=null}var $n=null,Vt=null,Qe=!1,Co=null,mr=!1,P_=Error(i(519));function xo(s){var a=Error(i(418,""));throw Th(Di(a,s)),P_}function bA(s){var a=s.stateNode,u=s.type,h=s.memoizedProps;switch(a[tn]=s,a[Wt]=h,u){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(u=0;u<$h.length;u++)Ue($h[u],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":Ue("invalid",a),fo(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Fl(a);break;case"select":Ue("invalid",a);break;case"textarea":Ue("invalid",a),po(a,h.value,h.defaultValue,h.children),Fl(a)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||BI(a.textContent,u)?(h.popover!=null&&(Ue("beforetoggle",a),Ue("toggle",a)),h.onScroll!=null&&Ue("scroll",a),h.onScrollEnd!=null&&Ue("scrollend",a),h.onClick!=null&&(a.onclick=mm),a=!0):a=!1,a||xo(s)}function wA(s){for($n=s.return;$n;)switch($n.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:$n=$n.return}}function _h(s){if(s!==$n)return!1;if(!Qe)return wA(s),Qe=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Gv(s.type,s.memoizedProps)),u=!u),u&&Vt&&xo(s),wA(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){Vt=Ji(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}Vt=null}}else a===27?(a=Vt,ca(s.type)?(s=Qv,Qv=null,Vt=s):Vt=a):Vt=$n?Ji(s.stateNode.nextSibling):null;return!0}function vh(){Vt=$n=null,Qe=!1}function AA(){var s=Co;return s!==null&&(ni===null?ni=s:ni.push.apply(ni,s),Co=null),s}function Th(s){Co===null?Co=[s]:Co.push(s)}var D_=ae(null),Po=null,as=null;function Ys(s,a,u){he(D_,a._currentValue),a._currentValue=u}function os(s){s._currentValue=D_.current,de(D_)}function k_(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function N_(s,a,u,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var b=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var V=0;V<a.length;V++)if(S.context===a[V]){y.lanes|=u,S=y.alternate,S!==null&&(S.lanes|=u),k_(y.return,u,s),h||(b=null);break e}y=S.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=u,y=b.alternate,y!==null&&(y.lanes|=u),k_(b,u,s),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===s){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Eh(s,a,u,h){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=m.type;hi(m.pendingProps.value,b.value)||(s!==null?s.push(S):s=[S])}}else if(m===At.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Qh):s=[Qh])}m=m.return}s!==null&&N_(a,s,u,h),a.flags|=262144}function Mp(s){for(s=s.firstContext;s!==null;){if(!hi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Do(s){Po=s,as=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Dn(s){return SA(Po,s)}function Lp(s,a){return Po===null&&Do(s),SA(s,a)}function SA(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},as===null){if(s===null)throw Error(i(308));as=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else as=as.next=a;return u}var U2=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},B2=n.unstable_scheduleCallback,F2=n.unstable_NormalPriority,sn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function O_(){return{controller:new U2,data:new Map,refCount:0}}function bh(s){s.refCount--,s.refCount===0&&B2(F2,function(){s.controller.abort()})}var wh=null,V_=0,iu=0,ru=null;function z2(s,a){if(wh===null){var u=wh=[];V_=0,iu=Lv(),ru={status:"pending",value:void 0,then:function(h){u.push(h)}}}return V_++,a.then(IA,IA),a}function IA(){if(--V_===0&&wh!==null){ru!==null&&(ru.status="fulfilled");var s=wh;wh=null,iu=0,ru=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function j2(s,a){var u=[],h={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),h}var RA=ne.S;ne.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&z2(s,a),RA!==null&&RA(s,a)};var ko=ae(null);function M_(){var s=ko.current;return s!==null?s:ht.pooledCache}function Up(s,a){a===null?he(ko,ko.current):he(ko,a.pool)}function CA(){var s=M_();return s===null?null:{parent:sn._currentValue,pool:s}}var Ah=Error(i(460)),xA=Error(i(474)),Bp=Error(i(542)),L_={then:function(){}};function PA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Fp(){}function DA(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(Fp,Fp),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,NA(s),s;default:if(typeof a.status=="string")a.then(Fp,Fp);else{if(s=ht,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,NA(s),s}throw Sh=a,Ah}}var Sh=null;function kA(){if(Sh===null)throw Error(i(459));var s=Sh;return Sh=null,s}function NA(s){if(s===Ah||s===Bp)throw Error(i(483))}var Qs=!1;function U_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function B_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Js(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(tt&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=kp(s),vA(s,null,u),a}return Dp(s,h,a,u),kp(s)}function Ih(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,eh(s,u)}}function F_(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var b={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=b:y=y.next=b,u=u.next}while(u!==null);y===null?m=y=a:y=y.next=a}else m=y=a;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var z_=!1;function Rh(){if(z_){var s=ru;if(s!==null)throw s}}function Ch(s,a,u,h){z_=!1;var m=s.updateQueue;Qs=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,Y=V.next;V.next=null,b===null?y=Y:b.next=Y,b=V;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,S=ie.lastBaseUpdate,S!==b&&(S===null?ie.firstBaseUpdate=Y:S.next=Y,ie.lastBaseUpdate=V))}if(y!==null){var se=m.baseState;b=0,ie=Y=V=null,S=y;do{var X=S.lane&-536870913,J=X!==S.lane;if(J?($e&X)===X:(h&X)===X){X!==0&&X===iu&&(z_=!0),ie!==null&&(ie=ie.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ce=s,Se=S;X=a;var ut=u;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){se=Ce.call(ut,se,X);break e}se=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,X=typeof Ce=="function"?Ce.call(ut,se,X):Ce,X==null)break e;se=g({},se,X);break e;case 2:Qs=!0}}X=S.callback,X!==null&&(s.flags|=64,J&&(s.flags|=8192),J=m.callbacks,J===null?m.callbacks=[X]:J.push(X))}else J={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ie===null?(Y=ie=J,V=se):ie=ie.next=J,b|=X;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;J=S,S=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ie===null&&(V=se),m.baseState=V,m.firstBaseUpdate=Y,m.lastBaseUpdate=ie,y===null&&(m.shared.lanes=0),aa|=b,s.lanes=b,s.memoizedState=se}}function OA(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function VA(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)OA(u[s],a)}var su=ae(null),zp=ae(0);function MA(s,a){s=ps,he(zp,s),he(su,a),ps=s|a.baseLanes}function j_(){he(zp,ps),he(su,su.current)}function q_(){ps=zp.current,de(su),de(zp)}var Zs=0,Ve=null,ot=null,Qt=null,jp=!1,au=!1,No=!1,qp=0,xh=0,ou=null,q2=0;function jt(){throw Error(i(321))}function $_(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!hi(s[u],a[u]))return!1;return!0}function H_(s,a,u,h,m,y){return Zs=y,Ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ne.H=s===null||s.memoizedState===null?vS:TS,No=!1,y=u(h,m),No=!1,au&&(y=UA(a,u,h,m)),LA(s),y}function LA(s){ne.H=Yp;var a=ot!==null&&ot.next!==null;if(Zs=0,Qt=ot=Ve=null,jp=!1,xh=0,ou=null,a)throw Error(i(300));s===null||dn||(s=s.dependencies,s!==null&&Mp(s)&&(dn=!0))}function UA(s,a,u,h){Ve=s;var m=0;do{if(au&&(ou=null),xh=0,au=!1,25<=m)throw Error(i(301));if(m+=1,Qt=ot=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ne.H=Q2,y=a(u,h)}while(au);return y}function $2(){var s=ne.H,a=s.useState()[0];return a=typeof a.then=="function"?Ph(a):a,s=s.useState()[0],(ot!==null?ot.memoizedState:null)!==s&&(Ve.flags|=1024),a}function G_(){var s=qp!==0;return qp=0,s}function K_(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function W_(s){if(jp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}jp=!1}Zs=0,Qt=ot=Ve=null,au=!1,xh=qp=0,ou=null}function ei(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ve.memoizedState=Qt=s:Qt=Qt.next=s,Qt}function Xt(){if(ot===null){var s=Ve.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var a=Qt===null?Ve.memoizedState:Qt.next;if(a!==null)Qt=a,ot=s;else{if(s===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Qt===null?Ve.memoizedState=Qt=s:Qt=Qt.next=s}return Qt}function Y_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ph(s){var a=xh;return xh+=1,ou===null&&(ou=[]),s=DA(ou,s,a),a=Ve,(Qt===null?a.memoizedState:Qt.next)===null&&(a=a.alternate,ne.H=a===null||a.memoizedState===null?vS:TS),s}function $p(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ph(s);if(s.$$typeof===k)return Dn(s)}throw Error(i(438,String(s)))}function Q_(s){var a=null,u=Ve.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Ve.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Y_(),Ve.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),h=0;h<s;h++)u[h]=L;return a.index++,u}function ls(s,a){return typeof a=="function"?a(s):a}function Hp(s){var a=Xt();return X_(a,ot,s)}function X_(s,a,u){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=u;var m=s.baseQueue,y=h.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}a.baseQueue=m=y,h.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var S=b=null,V=null,Y=a,ie=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?($e&se)===se:(Zs&se)===se){var X=Y.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===iu&&(ie=!0);else if((Zs&X)===X){Y=Y.next,X===iu&&(ie=!0);continue}else se={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(S=V=se,b=y):V=V.next=se,Ve.lanes|=X,aa|=X;se=Y.action,No&&u(y,se),y=Y.hasEagerState?Y.eagerState:u(y,se)}else X={lane:se,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(S=V=X,b=y):V=V.next=X,Ve.lanes|=se,aa|=se;Y=Y.next}while(Y!==null&&Y!==a);if(V===null?b=y:V.next=S,!hi(y,s.memoizedState)&&(dn=!0,ie&&(u=ru,u!==null)))throw u;s.memoizedState=y,s.baseState=b,s.baseQueue=V,h.lastRenderedState=y}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function J_(s){var a=Xt(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,y=a.memoizedState;if(m!==null){u.pending=null;var b=m=m.next;do y=s(y,b.action),b=b.next;while(b!==m);hi(y,a.memoizedState)||(dn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,h]}function BA(s,a,u){var h=Ve,m=Xt(),y=Qe;if(y){if(u===void 0)throw Error(i(407));u=u()}else u=a();var b=!hi((ot||m).memoizedState,u);b&&(m.memoizedState=u,dn=!0),m=m.queue;var S=jA.bind(null,h,m,s);if(Dh(2048,8,S,[s]),m.getSnapshot!==a||b||Qt!==null&&Qt.memoizedState.tag&1){if(h.flags|=2048,lu(9,Gp(),zA.bind(null,h,m,u,a),null),ht===null)throw Error(i(349));y||(Zs&124)!==0||FA(h,a,u)}return u}function FA(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Ve.updateQueue,a===null?(a=Y_(),Ve.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function zA(s,a,u,h){a.value=u,a.getSnapshot=h,qA(a)&&$A(s)}function jA(s,a,u){return u(function(){qA(a)&&$A(s)})}function qA(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!hi(s,u)}catch{return!0}}function $A(s){var a=Zl(s,2);a!==null&&yi(a,s,2)}function Z_(s){var a=ei();if(typeof s=="function"){var u=s;if(s=u(),No){ui(!0);try{u()}finally{ui(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:s},a}function HA(s,a,u,h){return s.baseState=u,X_(s,ot,typeof h=="function"?h:ls)}function H2(s,a,u,h,m){if(Wp(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};ne.T!==null?u(!0):y.isTransition=!1,h(y),u=a.pending,u===null?(y.next=a.pending=y,GA(a,y)):(y.next=u.next,a.pending=u.next=y)}}function GA(s,a){var u=a.action,h=a.payload,m=s.state;if(a.isTransition){var y=ne.T,b={};ne.T=b;try{var S=u(m,h),V=ne.S;V!==null&&V(b,S),KA(s,a,S)}catch(Y){ev(s,a,Y)}finally{ne.T=y}}else try{y=u(m,h),KA(s,a,y)}catch(Y){ev(s,a,Y)}}function KA(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){WA(s,a,h)},function(h){return ev(s,a,h)}):WA(s,a,u)}function WA(s,a,u){a.status="fulfilled",a.value=u,YA(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,GA(s,u)))}function ev(s,a,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,YA(a),a=a.next;while(a!==h)}s.action=null}function YA(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function QA(s,a){return a}function XA(s,a){if(Qe){var u=ht.formState;if(u!==null){e:{var h=Ve;if(Qe){if(Vt){t:{for(var m=Vt,y=mr;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ji(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Vt=Ji(m.nextSibling),h=m.data==="F!";break e}}xo(h)}h=!1}h&&(a=u[0])}}return u=ei(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QA,lastRenderedState:a},u.queue=h,u=gS.bind(null,Ve,h),h.dispatch=u,h=Z_(!1),y=sv.bind(null,Ve,!1,h.queue),h=ei(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,u=H2.bind(null,Ve,m,y,u),m.dispatch=u,h.memoizedState=s,[a,u,!1]}function JA(s){var a=Xt();return ZA(a,ot,s)}function ZA(s,a,u){if(a=X_(s,a,QA)[0],s=Hp(ls)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ph(a)}catch(b){throw b===Ah?Bp:b}else h=a;a=Xt();var m=a.queue,y=m.dispatch;return u!==a.memoizedState&&(Ve.flags|=2048,lu(9,Gp(),G2.bind(null,m,u),null)),[h,y,s]}function G2(s,a){s.action=a}function eS(s){var a=Xt(),u=ot;if(u!==null)return ZA(a,u,s);Xt(),a=a.memoizedState,u=Xt();var h=u.queue.dispatch;return u.memoizedState=s,[a,h,!1]}function lu(s,a,u,h){return s={tag:s,create:u,deps:h,inst:a,next:null},a=Ve.updateQueue,a===null&&(a=Y_(),Ve.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s),s}function Gp(){return{destroy:void 0,resource:void 0}}function tS(){return Xt().memoizedState}function Kp(s,a,u,h){var m=ei();h=h===void 0?null:h,Ve.flags|=s,m.memoizedState=lu(1|a,Gp(),u,h)}function Dh(s,a,u,h){var m=Xt();h=h===void 0?null:h;var y=m.memoizedState.inst;ot!==null&&h!==null&&$_(h,ot.memoizedState.deps)?m.memoizedState=lu(a,y,u,h):(Ve.flags|=s,m.memoizedState=lu(1|a,y,u,h))}function nS(s,a){Kp(8390656,8,s,a)}function iS(s,a){Dh(2048,8,s,a)}function rS(s,a){return Dh(4,2,s,a)}function sS(s,a){return Dh(4,4,s,a)}function aS(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function oS(s,a,u){u=u!=null?u.concat([s]):null,Dh(4,4,aS.bind(null,a,s),u)}function tv(){}function lS(s,a){var u=Xt();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&$_(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function uS(s,a){var u=Xt();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&$_(a,h[1]))return h[0];if(h=s(),No){ui(!0);try{s()}finally{ui(!1)}}return u.memoizedState=[h,a],h}function nv(s,a,u){return u===void 0||(Zs&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=dI(),Ve.lanes|=s,aa|=s,u)}function cS(s,a,u,h){return hi(u,a)?u:su.current!==null?(s=nv(s,u,h),hi(s,a)||(dn=!0),s):(Zs&42)===0?(dn=!0,s.memoizedState=u):(s=dI(),Ve.lanes|=s,aa|=s,a)}function hS(s,a,u,h,m){var y=ue.p;ue.p=y!==0&&8>y?y:8;var b=ne.T,S={};ne.T=S,sv(s,!1,a,u);try{var V=m(),Y=ne.S;if(Y!==null&&Y(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=j2(V,h);kh(s,a,ie,gi(s))}else kh(s,a,h,gi(s))}catch(se){kh(s,a,{then:function(){},status:"rejected",reason:se},gi())}finally{ue.p=y,ne.T=b}}function K2(){}function iv(s,a,u,h){if(s.tag!==5)throw Error(i(476));var m=dS(s).queue;hS(s,m,a,ge,u===null?K2:function(){return fS(s),u(h)})}function dS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:ge},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function fS(s){var a=dS(s).next.queue;kh(s,a,{},gi())}function rv(){return Dn(Qh)}function pS(){return Xt().memoizedState}function mS(){return Xt().memoizedState}function W2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=gi();s=Xs(u);var h=Js(a,s,u);h!==null&&(yi(h,a,u),Ih(h,a,u)),a={cache:O_()},s.payload=a;return}a=a.return}}function Y2(s,a,u){var h=gi();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Wp(s)?yS(a,u):(u=A_(s,a,u,h),u!==null&&(yi(u,s,h),_S(u,a,h)))}function gS(s,a,u){var h=gi();kh(s,a,u,h)}function kh(s,a,u,h){var m={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Wp(s))yS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var b=a.lastRenderedState,S=y(b,u);if(m.hasEagerState=!0,m.eagerState=S,hi(S,b))return Dp(s,a,m,0),ht===null&&Pp(),!1}catch{}finally{}if(u=A_(s,a,m,h),u!==null)return yi(u,s,h),_S(u,a,h),!0}return!1}function sv(s,a,u,h){if(h={lane:2,revertLane:Lv(),action:h,hasEagerState:!1,eagerState:null,next:null},Wp(s)){if(a)throw Error(i(479))}else a=A_(s,u,h,2),a!==null&&yi(a,s,2)}function Wp(s){var a=s.alternate;return s===Ve||a!==null&&a===Ve}function yS(s,a){au=jp=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function _S(s,a,u){if((u&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,eh(s,u)}}var Yp={readContext:Dn,use:$p,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},vS={readContext:Dn,use:$p,useCallback:function(s,a){return ei().memoizedState=[s,a===void 0?null:a],s},useContext:Dn,useEffect:nS,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Kp(4194308,4,aS.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Kp(4194308,4,s,a)},useInsertionEffect:function(s,a){Kp(4,2,s,a)},useMemo:function(s,a){var u=ei();a=a===void 0?null:a;var h=s();if(No){ui(!0);try{s()}finally{ui(!1)}}return u.memoizedState=[h,a],h},useReducer:function(s,a,u){var h=ei();if(u!==void 0){var m=u(a);if(No){ui(!0);try{u(a)}finally{ui(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=Y2.bind(null,Ve,s),[h.memoizedState,s]},useRef:function(s){var a=ei();return s={current:s},a.memoizedState=s},useState:function(s){s=Z_(s);var a=s.queue,u=gS.bind(null,Ve,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:tv,useDeferredValue:function(s,a){var u=ei();return nv(u,s,a)},useTransition:function(){var s=Z_(!1);return s=hS.bind(null,Ve,s.queue,!0,!1),ei().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var h=Ve,m=ei();if(Qe){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),ht===null)throw Error(i(349));($e&124)!==0||FA(h,a,u)}m.memoizedState=u;var y={value:u,getSnapshot:a};return m.queue=y,nS(jA.bind(null,h,y,s),[s]),h.flags|=2048,lu(9,Gp(),zA.bind(null,h,y,u,a),null),u},useId:function(){var s=ei(),a=ht.identifierPrefix;if(Qe){var u=ss,h=rs;u=(h&~(1<<32-Pn(h)-1)).toString(32)+u,a="«"+a+"R"+u,u=qp++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=q2++,a="«"+a+"r"+u.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:rv,useFormState:XA,useActionState:XA,useOptimistic:function(s){var a=ei();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=sv.bind(null,Ve,!0,u),u.dispatch=a,[s,a]},useMemoCache:Q_,useCacheRefresh:function(){return ei().memoizedState=W2.bind(null,Ve)}},TS={readContext:Dn,use:$p,useCallback:lS,useContext:Dn,useEffect:iS,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:sS,useMemo:uS,useReducer:Hp,useRef:tS,useState:function(){return Hp(ls)},useDebugValue:tv,useDeferredValue:function(s,a){var u=Xt();return cS(u,ot.memoizedState,s,a)},useTransition:function(){var s=Hp(ls)[0],a=Xt().memoizedState;return[typeof s=="boolean"?s:Ph(s),a]},useSyncExternalStore:BA,useId:pS,useHostTransitionStatus:rv,useFormState:JA,useActionState:JA,useOptimistic:function(s,a){var u=Xt();return HA(u,ot,s,a)},useMemoCache:Q_,useCacheRefresh:mS},Q2={readContext:Dn,use:$p,useCallback:lS,useContext:Dn,useEffect:iS,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:sS,useMemo:uS,useReducer:J_,useRef:tS,useState:function(){return J_(ls)},useDebugValue:tv,useDeferredValue:function(s,a){var u=Xt();return ot===null?nv(u,s,a):cS(u,ot.memoizedState,s,a)},useTransition:function(){var s=J_(ls)[0],a=Xt().memoizedState;return[typeof s=="boolean"?s:Ph(s),a]},useSyncExternalStore:BA,useId:pS,useHostTransitionStatus:rv,useFormState:eS,useActionState:eS,useOptimistic:function(s,a){var u=Xt();return ot!==null?HA(u,ot,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Q_,useCacheRefresh:mS},uu=null,Nh=0;function Qp(s){var a=Nh;return Nh+=1,uu===null&&(uu=[]),DA(uu,s,a)}function Oh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Xp(s,a){throw a.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function ES(s){var a=s._init;return a(s._payload)}function bS(s){function a(H,z){if(s){var W=H.deletions;W===null?(H.deletions=[z],H.flags|=16):W.push(z)}}function u(H,z){if(!s)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function h(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function m(H,z){return H=is(H,z),H.index=0,H.sibling=null,H}function y(H,z,W){return H.index=W,s?(W=H.alternate,W!==null?(W=W.index,W<z?(H.flags|=67108866,z):W):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function b(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,W,re){return z===null||z.tag!==6?(z=I_(W,H.mode,re),z.return=H,z):(z=m(z,W),z.return=H,z)}function V(H,z,W,re){var _e=W.type;return _e===A?ie(H,z,W.props.children,re,W.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&ES(_e)===z.type)?(z=m(z,W.props),Oh(z,W),z.return=H,z):(z=Np(W.type,W.key,W.props,null,H.mode,re),Oh(z,W),z.return=H,z)}function Y(H,z,W,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=R_(W,H.mode,re),z.return=H,z):(z=m(z,W.children||[]),z.return=H,z)}function ie(H,z,W,re,_e){return z===null||z.tag!==7?(z=So(W,H.mode,re,_e),z.return=H,z):(z=m(z,W),z.return=H,z)}function se(H,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=I_(""+z,H.mode,W),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return W=Np(z.type,z.key,z.props,null,H.mode,W),Oh(W,z),W.return=H,W;case w:return z=R_(z,H.mode,W),z.return=H,z;case I:var re=z._init;return z=re(z._payload),se(H,z,W)}if(st(z)||$(z))return z=So(z,H.mode,W,null),z.return=H,z;if(typeof z.then=="function")return se(H,Qp(z),W);if(z.$$typeof===k)return se(H,Lp(H,z),W);Xp(H,z)}return null}function X(H,z,W,re){var _e=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return _e!==null?null:S(H,z,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case T:return W.key===_e?V(H,z,W,re):null;case w:return W.key===_e?Y(H,z,W,re):null;case I:return _e=W._init,W=_e(W._payload),X(H,z,W,re)}if(st(W)||$(W))return _e!==null?null:ie(H,z,W,re,null);if(typeof W.then=="function")return X(H,z,Qp(W),re);if(W.$$typeof===k)return X(H,z,Lp(H,W),re);Xp(H,W)}return null}function J(H,z,W,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get(W)||null,S(z,H,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return H=H.get(re.key===null?W:re.key)||null,V(z,H,re,_e);case w:return H=H.get(re.key===null?W:re.key)||null,Y(z,H,re,_e);case I:var Me=re._init;return re=Me(re._payload),J(H,z,W,re,_e)}if(st(re)||$(re))return H=H.get(W)||null,ie(z,H,re,_e,null);if(typeof re.then=="function")return J(H,z,W,Qp(re),_e);if(re.$$typeof===k)return J(H,z,W,Lp(z,re),_e);Xp(z,re)}return null}function Ce(H,z,W,re){for(var _e=null,Me=null,we=z,Ie=z=0,pn=null;we!==null&&Ie<W.length;Ie++){we.index>Ie?(pn=we,we=null):pn=we.sibling;var We=X(H,we,W[Ie],re);if(We===null){we===null&&(we=pn);break}s&&we&&We.alternate===null&&a(H,we),z=y(We,z,Ie),Me===null?_e=We:Me.sibling=We,Me=We,we=pn}if(Ie===W.length)return u(H,we),Qe&&Ro(H,Ie),_e;if(we===null){for(;Ie<W.length;Ie++)we=se(H,W[Ie],re),we!==null&&(z=y(we,z,Ie),Me===null?_e=we:Me.sibling=we,Me=we);return Qe&&Ro(H,Ie),_e}for(we=h(we);Ie<W.length;Ie++)pn=J(we,H,Ie,W[Ie],re),pn!==null&&(s&&pn.alternate!==null&&we.delete(pn.key===null?Ie:pn.key),z=y(pn,z,Ie),Me===null?_e=pn:Me.sibling=pn,Me=pn);return s&&we.forEach(function(ma){return a(H,ma)}),Qe&&Ro(H,Ie),_e}function Se(H,z,W,re){if(W==null)throw Error(i(151));for(var _e=null,Me=null,we=z,Ie=z=0,pn=null,We=W.next();we!==null&&!We.done;Ie++,We=W.next()){we.index>Ie?(pn=we,we=null):pn=we.sibling;var ma=X(H,we,We.value,re);if(ma===null){we===null&&(we=pn);break}s&&we&&ma.alternate===null&&a(H,we),z=y(ma,z,Ie),Me===null?_e=ma:Me.sibling=ma,Me=ma,we=pn}if(We.done)return u(H,we),Qe&&Ro(H,Ie),_e;if(we===null){for(;!We.done;Ie++,We=W.next())We=se(H,We.value,re),We!==null&&(z=y(We,z,Ie),Me===null?_e=We:Me.sibling=We,Me=We);return Qe&&Ro(H,Ie),_e}for(we=h(we);!We.done;Ie++,We=W.next())We=J(we,H,Ie,We.value,re),We!==null&&(s&&We.alternate!==null&&we.delete(We.key===null?Ie:We.key),z=y(We,z,Ie),Me===null?_e=We:Me.sibling=We,Me=We);return s&&we.forEach(function(XL){return a(H,XL)}),Qe&&Ro(H,Ie),_e}function ut(H,z,W,re){if(typeof W=="object"&&W!==null&&W.type===A&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case T:e:{for(var _e=W.key;z!==null;){if(z.key===_e){if(_e=W.type,_e===A){if(z.tag===7){u(H,z.sibling),re=m(z,W.props.children),re.return=H,H=re;break e}}else if(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&ES(_e)===z.type){u(H,z.sibling),re=m(z,W.props),Oh(re,W),re.return=H,H=re;break e}u(H,z);break}else a(H,z);z=z.sibling}W.type===A?(re=So(W.props.children,H.mode,re,W.key),re.return=H,H=re):(re=Np(W.type,W.key,W.props,null,H.mode,re),Oh(re,W),re.return=H,H=re)}return b(H);case w:e:{for(_e=W.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){u(H,z.sibling),re=m(z,W.children||[]),re.return=H,H=re;break e}else{u(H,z);break}else a(H,z);z=z.sibling}re=R_(W,H.mode,re),re.return=H,H=re}return b(H);case I:return _e=W._init,W=_e(W._payload),ut(H,z,W,re)}if(st(W))return Ce(H,z,W,re);if($(W)){if(_e=$(W),typeof _e!="function")throw Error(i(150));return W=_e.call(W),Se(H,z,W,re)}if(typeof W.then=="function")return ut(H,z,Qp(W),re);if(W.$$typeof===k)return ut(H,z,Lp(H,W),re);Xp(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,z!==null&&z.tag===6?(u(H,z.sibling),re=m(z,W),re.return=H,H=re):(u(H,z),re=I_(W,H.mode,re),re.return=H,H=re),b(H)):u(H,z)}return function(H,z,W,re){try{Nh=0;var _e=ut(H,z,W,re);return uu=null,_e}catch(we){if(we===Ah||we===Bp)throw we;var Me=di(29,we,null,H.mode);return Me.lanes=re,Me.return=H,Me}finally{}}}var cu=bS(!0),wS=bS(!1),Vi=ae(null),gr=null;function ea(s){var a=s.alternate;he(an,an.current&1),he(Vi,s),gr===null&&(a===null||su.current!==null||a.memoizedState!==null)&&(gr=s)}function AS(s){if(s.tag===22){if(he(an,an.current),he(Vi,s),gr===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(gr=s)}}else ta()}function ta(){he(an,an.current),he(Vi,Vi.current)}function us(s){de(Vi),gr===s&&(gr=null),de(an)}var an=ae(0);function Jp(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Yv(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function av(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:g({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var ov={enqueueSetState:function(s,a,u){s=s._reactInternals;var h=gi(),m=Xs(h);m.payload=a,u!=null&&(m.callback=u),a=Js(s,m,h),a!==null&&(yi(a,s,h),Ih(a,s,h))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=gi(),m=Xs(h);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=Js(s,m,h),a!==null&&(yi(a,s,h),Ih(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=gi(),h=Xs(u);h.tag=2,a!=null&&(h.callback=a),a=Js(s,h,u),a!==null&&(yi(a,s,u),Ih(a,s,u))}};function SS(s,a,u,h,m,y,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,b):a.prototype&&a.prototype.isPureReactComponent?!gh(u,h)||!gh(m,y):!0}function IS(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&ov.enqueueReplaceState(a,a.state,null)}function Oo(s,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(s=s.defaultProps){u===a&&(u=g({},u));for(var m in s)u[m]===void 0&&(u[m]=s[m])}return u}var Zp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function RS(s){Zp(s)}function CS(s){console.error(s)}function xS(s){Zp(s)}function em(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function PS(s,a,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function lv(s,a,u){return u=Xs(u),u.tag=3,u.payload={element:null},u.callback=function(){em(s,a)},u}function DS(s){return s=Xs(s),s.tag=3,s}function kS(s,a,u,h){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;s.payload=function(){return m(y)},s.callback=function(){PS(a,u,h)}}var b=u.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){PS(a,u,h),typeof m!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var S=h.stack;this.componentDidCatch(h.value,{componentStack:S!==null?S:""})})}function X2(s,a,u,h,m){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&Eh(a,u,m,!0),u=Vi.current,u!==null){switch(u.tag){case 13:return gr===null?kv():u.alternate===null&&Mt===0&&(Mt=3),u.flags&=-257,u.flags|=65536,u.lanes=m,h===L_?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),Ov(s,h,m)),!1;case 22:return u.flags|=65536,h===L_?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),Ov(s,h,m)),!1}throw Error(i(435,u.tag))}return Ov(s,h,m),kv(),!1}if(Qe)return a=Vi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==P_&&(s=Error(i(422),{cause:h}),Th(Di(s,u)))):(h!==P_&&(a=Error(i(423),{cause:h}),Th(Di(a,u))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=Di(h,u),m=lv(s.stateNode,h,m),F_(s,m),Mt!==4&&(Mt=2)),!1;var y=Error(i(520),{cause:h});if(y=Di(y,u),zh===null?zh=[y]:zh.push(y),Mt!==4&&(Mt=2),a===null)return!0;h=Di(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=m&-m,u.lanes|=s,s=lv(u.stateNode,h,s),F_(u,s),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(oa===null||!oa.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=DS(m),kS(m,s,u,h),F_(u,m),!1}u=u.return}while(u!==null);return!1}var NS=Error(i(461)),dn=!1;function En(s,a,u,h){a.child=s===null?wS(a,null,u,h):cu(a,s.child,u,h)}function OS(s,a,u,h,m){u=u.render;var y=a.ref;if("ref"in h){var b={};for(var S in h)S!=="ref"&&(b[S]=h[S])}else b=h;return Do(a),h=H_(s,a,u,b,y,m),S=G_(),s!==null&&!dn?(K_(s,a,m),cs(s,a,m)):(Qe&&S&&C_(a),a.flags|=1,En(s,a,h,m),a.child)}function VS(s,a,u,h,m){if(s===null){var y=u.type;return typeof y=="function"&&!S_(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,MS(s,a,y,h,m)):(s=Np(u.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!gv(s,m)){var b=y.memoizedProps;if(u=u.compare,u=u!==null?u:gh,u(b,h)&&s.ref===a.ref)return cs(s,a,m)}return a.flags|=1,s=is(y,h),s.ref=a.ref,s.return=a,a.child=s}function MS(s,a,u,h,m){if(s!==null){var y=s.memoizedProps;if(gh(y,h)&&s.ref===a.ref)if(dn=!1,a.pendingProps=h=y,gv(s,m))(s.flags&131072)!==0&&(dn=!0);else return a.lanes=s.lanes,cs(s,a,m)}return uv(s,a,u,h,m)}function LS(s,a,u){var h=a.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|u:u,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return US(s,a,h,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Up(a,y!==null?y.cachePool:null),y!==null?MA(a,y):j_(),AS(a);else return a.lanes=a.childLanes=536870912,US(s,a,y!==null?y.baseLanes|u:u,u)}else y!==null?(Up(a,y.cachePool),MA(a,y),ta(),a.memoizedState=null):(s!==null&&Up(a,null),j_(),ta());return En(s,a,m,u),a.child}function US(s,a,u,h){var m=M_();return m=m===null?null:{parent:sn._currentValue,pool:m},a.memoizedState={baseLanes:u,cachePool:m},s!==null&&Up(a,null),j_(),AS(a),s!==null&&Eh(s,a,h,!0),null}function tm(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function uv(s,a,u,h,m){return Do(a),u=H_(s,a,u,h,void 0,m),h=G_(),s!==null&&!dn?(K_(s,a,m),cs(s,a,m)):(Qe&&h&&C_(a),a.flags|=1,En(s,a,u,m),a.child)}function BS(s,a,u,h,m,y){return Do(a),a.updateQueue=null,u=UA(a,h,u,m),LA(s),h=G_(),s!==null&&!dn?(K_(s,a,y),cs(s,a,y)):(Qe&&h&&C_(a),a.flags|=1,En(s,a,u,y),a.child)}function FS(s,a,u,h,m){if(Do(a),a.stateNode===null){var y=eu,b=u.contextType;typeof b=="object"&&b!==null&&(y=Dn(b)),y=new u(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ov,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},U_(a),b=u.contextType,y.context=typeof b=="object"&&b!==null?Dn(b):eu,y.state=a.memoizedState,b=u.getDerivedStateFromProps,typeof b=="function"&&(av(a,u,b,h),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&ov.enqueueReplaceState(y,y.state,null),Ch(a,h,y,m),Rh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var S=a.memoizedProps,V=Oo(u,S);y.props=V;var Y=y.context,ie=u.contextType;b=eu,typeof ie=="object"&&ie!==null&&(b=Dn(ie));var se=u.getDerivedStateFromProps;ie=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||Y!==b)&&IS(a,y,h,b),Qs=!1;var X=a.memoizedState;y.state=X,Ch(a,h,y,m),Rh(),Y=a.memoizedState,S||X!==Y||Qs?(typeof se=="function"&&(av(a,u,se,h),Y=a.memoizedState),(V=Qs||SS(a,u,V,h,X,Y,b))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Y),y.props=h,y.state=Y,y.context=b,h=V):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,B_(s,a),b=a.memoizedProps,ie=Oo(u,b),y.props=ie,se=a.pendingProps,X=y.context,Y=u.contextType,V=eu,typeof Y=="object"&&Y!==null&&(V=Dn(Y)),S=u.getDerivedStateFromProps,(Y=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==se||X!==V)&&IS(a,y,h,V),Qs=!1,X=a.memoizedState,y.state=X,Ch(a,h,y,m),Rh();var J=a.memoizedState;b!==se||X!==J||Qs||s!==null&&s.dependencies!==null&&Mp(s.dependencies)?(typeof S=="function"&&(av(a,u,S,h),J=a.memoizedState),(ie=Qs||SS(a,u,ie,h,X,J,V)||s!==null&&s.dependencies!==null&&Mp(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,J,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,J,V)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=J),y.props=h,y.state=J,y.context=V,h=ie):(typeof y.componentDidUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,tm(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=cu(a,s.child,null,m),a.child=cu(a,null,u,m)):En(s,a,u,m),a.memoizedState=y.state,s=a.child):s=cs(s,a,m),s}function zS(s,a,u,h){return vh(),a.flags|=256,En(s,a,u,h),a.child}var cv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hv(s){return{baseLanes:s,cachePool:CA()}}function dv(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Mi),s}function jS(s,a,u){var h=a.pendingProps,m=!1,y=(a.flags&128)!==0,b;if((b=y)||(b=s!==null&&s.memoizedState===null?!1:(an.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,s===null){if(Qe){if(m?ea(a):ta(),Qe){var S=Vt,V;if(V=S){e:{for(V=S,S=mr;V.nodeType!==8;){if(!S){S=null;break e}if(V=Ji(V.nextSibling),V===null){S=null;break e}}S=V}S!==null?(a.memoizedState={dehydrated:S,treeContext:Io!==null?{id:rs,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},V=di(18,null,null,0),V.stateNode=S,V.return=a,a.child=V,$n=a,Vt=null,V=!0):V=!1}V||xo(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Yv(S)?a.lanes=32:a.lanes=536870912,null;us(a)}return S=h.children,h=h.fallback,m?(ta(),m=a.mode,S=nm({mode:"hidden",children:S},m),h=So(h,m,u,null),S.return=a,h.return=a,S.sibling=h,a.child=S,m=a.child,m.memoizedState=hv(u),m.childLanes=dv(s,b,u),a.memoizedState=cv,h):(ea(a),fv(a,S))}if(V=s.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(y)a.flags&256?(ea(a),a.flags&=-257,a=pv(s,a,u)):a.memoizedState!==null?(ta(),a.child=s.child,a.flags|=128,a=null):(ta(),m=h.fallback,S=a.mode,h=nm({mode:"visible",children:h.children},S),m=So(m,S,u,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,cu(a,s.child,null,u),h=a.child,h.memoizedState=hv(u),h.childLanes=dv(s,b,u),a.memoizedState=cv,a=m);else if(ea(a),Yv(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Y=b.dgst;b=Y,h=Error(i(419)),h.stack="",h.digest=b,Th({value:h,source:null,stack:null}),a=pv(s,a,u)}else if(dn||Eh(s,a,u,!1),b=(u&s.childLanes)!==0,dn||b){if(b=ht,b!==null&&(h=u&-u,h=(h&42)!==0?1:js(h),h=(h&(b.suspendedLanes|u))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,Zl(s,h),yi(b,s,h),NS;S.data==="$?"||kv(),a=pv(s,a,u)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,Vt=Ji(S.nextSibling),$n=a,Qe=!0,Co=null,mr=!1,s!==null&&(Ni[Oi++]=rs,Ni[Oi++]=ss,Ni[Oi++]=Io,rs=s.id,ss=s.overflow,Io=a),a=fv(a,h.children),a.flags|=4096);return a}return m?(ta(),m=h.fallback,S=a.mode,V=s.child,Y=V.sibling,h=is(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,Y!==null?m=is(Y,m):(m=So(m,S,u,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,S=s.child.memoizedState,S===null?S=hv(u):(V=S.cachePool,V!==null?(Y=sn._currentValue,V=V.parent!==Y?{parent:Y,pool:Y}:V):V=CA(),S={baseLanes:S.baseLanes|u,cachePool:V}),m.memoizedState=S,m.childLanes=dv(s,b,u),a.memoizedState=cv,h):(ea(a),u=s.child,s=u.sibling,u=is(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,s!==null&&(b=a.deletions,b===null?(a.deletions=[s],a.flags|=16):b.push(s)),a.child=u,a.memoizedState=null,u)}function fv(s,a){return a=nm({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function nm(s,a){return s=di(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function pv(s,a,u){return cu(a,s.child,null,u),s=fv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function qS(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),k_(s.return,a,u)}function mv(s,a,u,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=m)}function $S(s,a,u){var h=a.pendingProps,m=h.revealOrder,y=h.tail;if(En(s,a,h.children,u),h=an.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qS(s,u,a);else if(s.tag===19)qS(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(he(an,h),m){case"forwards":for(u=a.child,m=null;u!==null;)s=u.alternate,s!==null&&Jp(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),mv(a,!1,m,u,y);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Jp(s)===null){a.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}mv(a,!0,u,null,y);break;case"together":mv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cs(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),aa|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Eh(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,u=is(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=is(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function gv(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Mp(s)))}function J2(s,a,u){switch(a.tag){case 3:Ke(a,a.stateNode.containerInfo),Ys(a,sn,s.memoizedState.cache),vh();break;case 27:case 5:Ai(a);break;case 4:Ke(a,a.stateNode.containerInfo);break;case 10:Ys(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(ea(a),a.flags|=128,null):(u&a.child.childLanes)!==0?jS(s,a,u):(ea(a),s=cs(s,a,u),s!==null?s.sibling:null);ea(a);break;case 19:var m=(s.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(Eh(s,a,u,!1),h=(u&a.childLanes)!==0),m){if(h)return $S(s,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(an,an.current),h)break;return null;case 22:case 23:return a.lanes=0,LS(s,a,u);case 24:Ys(a,sn,s.memoizedState.cache)}return cs(s,a,u)}function HS(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)dn=!0;else{if(!gv(s,u)&&(a.flags&128)===0)return dn=!1,J2(s,a,u);dn=(s.flags&131072)!==0}else dn=!1,Qe&&(a.flags&1048576)!==0&&EA(a,Vp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")S_(h)?(s=Oo(h,s),a.tag=1,a=FS(null,a,h,s,u)):(a.tag=0,a=uv(null,a,h,s,u));else{if(h!=null){if(m=h.$$typeof,m===q){a.tag=11,a=OS(null,a,h,s,u);break e}else if(m===x){a.tag=14,a=VS(null,a,h,s,u);break e}}throw a=yt(h)||h,Error(i(306,a,""))}}return a;case 0:return uv(s,a,a.type,a.pendingProps,u);case 1:return h=a.type,m=Oo(h,a.pendingProps),FS(s,a,h,m,u);case 3:e:{if(Ke(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;m=y.element,B_(s,a),Ch(a,h,null,u);var b=a.memoizedState;if(h=b.cache,Ys(a,sn,h),h!==y.cache&&N_(a,[sn],u,!0),Rh(),h=b.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=zS(s,a,h,u);break e}else if(h!==m){m=Di(Error(i(424)),a),Th(m),a=zS(s,a,h,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Vt=Ji(s.firstChild),$n=a,Qe=!0,Co=null,mr=!0,u=wS(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vh(),h===m){a=cs(s,a,u);break e}En(s,a,h,u)}a=a.child}return a;case 26:return tm(s,a),s===null?(u=YI(a.type,null,a.pendingProps,null))?a.memoizedState=u:Qe||(u=a.type,s=a.pendingProps,h=gm(Ae.current).createElement(u),h[tn]=a,h[Wt]=s,wn(h,u,s),zt(h),a.stateNode=h):a.memoizedState=YI(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ai(a),s===null&&Qe&&(h=a.stateNode=GI(a.type,a.pendingProps,Ae.current),$n=a,mr=!0,m=Vt,ca(a.type)?(Qv=m,Vt=Ji(h.firstChild)):Vt=m),En(s,a,a.pendingProps.children,u),tm(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Qe&&((m=h=Vt)&&(h=IL(h,a.type,a.pendingProps,mr),h!==null?(a.stateNode=h,$n=a,Vt=Ji(h.firstChild),mr=!1,m=!0):m=!1),m||xo(a)),Ai(a),m=a.type,y=a.pendingProps,b=s!==null?s.memoizedProps:null,h=y.children,Gv(m,y)?h=null:b!==null&&Gv(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=H_(s,a,$2,null,null,u),Qh._currentValue=m),tm(s,a),En(s,a,h,u),a.child;case 6:return s===null&&Qe&&((s=u=Vt)&&(u=RL(u,a.pendingProps,mr),u!==null?(a.stateNode=u,$n=a,Vt=null,s=!0):s=!1),s||xo(a)),null;case 13:return jS(s,a,u);case 4:return Ke(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=cu(a,null,h,u):En(s,a,h,u),a.child;case 11:return OS(s,a,a.type,a.pendingProps,u);case 7:return En(s,a,a.pendingProps,u),a.child;case 8:return En(s,a,a.pendingProps.children,u),a.child;case 12:return En(s,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,Ys(a,a.type,h.value),En(s,a,h.children,u),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Do(a),m=Dn(m),h=h(m),a.flags|=1,En(s,a,h,u),a.child;case 14:return VS(s,a,a.type,a.pendingProps,u);case 15:return MS(s,a,a.type,a.pendingProps,u);case 19:return $S(s,a,u);case 31:return h=a.pendingProps,u=a.mode,h={mode:h.mode,children:h.children},s===null?(u=nm(h,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=is(s.child,h),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return LS(s,a,u);case 24:return Do(a),h=Dn(sn),s===null?(m=M_(),m===null&&(m=ht,y=O_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),a.memoizedState={parent:h,cache:m},U_(a),Ys(a,sn,m)):((s.lanes&u)!==0&&(B_(s,a),Ch(a,null,null,u),Rh()),m=s.memoizedState,y=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ys(a,sn,h)):(h=y.cache,Ys(a,sn,h),h!==m.cache&&N_(a,[sn],u,!0))),En(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function hs(s){s.flags|=4}function GS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eR(a)){if(a=Vi.current,a!==null&&(($e&4194048)===$e?gr!==null:($e&62914560)!==$e&&($e&536870912)===0||a!==gr))throw Sh=L_,xA;s.flags|=8192}}function im(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Jc():536870912,s.lanes|=a,pu|=a)}function Vh(s,a){if(!Qe)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function St(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function Z2(s,a,u){var h=a.pendingProps;switch(x_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(a),null;case 1:return St(a),null;case 3:return u=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),os(sn),un(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(_h(a)?hs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,AA())),St(a),null;case 26:return u=a.memoizedState,s===null?(hs(a),u!==null?(St(a),GS(a,u)):(St(a),a.flags&=-16777217)):u?u!==s.memoizedState?(hs(a),St(a),GS(a,u)):(St(a),a.flags&=-16777217):(s.memoizedProps!==h&&hs(a),St(a),a.flags&=-16777217),null;case 27:Zn(a),u=Ae.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&hs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return St(a),null}s=be.current,_h(a)?bA(a):(s=GI(m,h,u),a.stateNode=s,hs(a))}return St(a),null;case 5:if(Zn(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&hs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return St(a),null}if(s=be.current,_h(a))bA(a);else{switch(m=gm(Ae.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?m.createElement(u,{is:h.is}):m.createElement(u)}}s[tn]=a,s[Wt]=h;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(wn(s,u,h),u){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hs(a)}}return St(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&hs(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=Ae.current,_h(a)){if(s=a.stateNode,u=a.memoizedProps,h=null,m=$n,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[tn]=a,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||BI(s.nodeValue,u)),s||xo(a)}else s=gm(s).createTextNode(h),s[tn]=a,a.stateNode=s}return St(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=_h(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[tn]=a}else vh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;St(a),m=!1}else m=AA(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(us(a),a):(us(a),null)}if(us(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=h!==null,s=s!==null&&s.memoizedState!==null,u){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),im(a,a.updateQueue),St(a),null;case 4:return un(),s===null&&zv(a.stateNode.containerInfo),St(a),null;case 10:return os(a.type),St(a),null;case 19:if(de(an),m=a.memoizedState,m===null)return St(a),null;if(h=(a.flags&128)!==0,y=m.rendering,y===null)if(h)Vh(m,!1);else{if(Mt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Jp(s),y!==null){for(a.flags|=128,Vh(m,!1),s=y.updateQueue,a.updateQueue=s,im(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)TA(u,s),u=u.sibling;return he(an,an.current&1|2),a.child}s=s.sibling}m.tail!==null&&Si()>am&&(a.flags|=128,h=!0,Vh(m,!1),a.lanes=4194304)}else{if(!h)if(s=Jp(y),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,im(a,s),Vh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Qe)return St(a),null}else 2*Si()-m.renderingStartTime>am&&u!==536870912&&(a.flags|=128,h=!0,Vh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Si(),a.sibling=null,s=an.current,he(an,h?s&1|2:s&1),a):(St(a),null);case 22:case 23:return us(a),q_(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(St(a),a.subtreeFlags&6&&(a.flags|=8192)):St(a),u=a.updateQueue,u!==null&&im(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),s!==null&&de(ko),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),os(sn),St(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function eL(s,a){switch(x_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return os(sn),un(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Zn(a),null;case 13:if(us(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));vh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return de(an),null;case 4:return un(),null;case 10:return os(a.type),null;case 22:case 23:return us(a),q_(),s!==null&&de(ko),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return os(sn),null;case 25:return null;default:return null}}function KS(s,a){switch(x_(a),a.tag){case 3:os(sn),un();break;case 26:case 27:case 5:Zn(a);break;case 4:un();break;case 13:us(a);break;case 19:de(an);break;case 10:os(a.type);break;case 22:case 23:us(a),q_(),s!==null&&de(ko);break;case 24:os(sn)}}function Mh(s,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&s)===s){h=void 0;var y=u.create,b=u.inst;h=y(),b.destroy=h}u=u.next}while(u!==m)}}catch(S){ct(a,a.return,S)}}function na(s,a,u){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&s)===s){var b=h.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,m=a;var V=u,Y=S;try{Y()}catch(ie){ct(m,V,ie)}}}h=h.next}while(h!==y)}}catch(ie){ct(a,a.return,ie)}}function WS(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{VA(a,u)}catch(h){ct(s,s.return,h)}}}function YS(s,a,u){u.props=Oo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){ct(s,a,h)}}function Lh(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(m){ct(s,a,m)}}function yr(s,a){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(m){ct(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){ct(s,a,m)}else u.current=null}function QS(s){var a=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(m){ct(s,s.return,m)}}function yv(s,a,u){try{var h=s.stateNode;EL(h,s.type,u,a),h[Wt]=a}catch(m){ct(s,s.return,m)}}function XS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ca(s.type)||s.tag===4}function _v(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||XS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ca(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vv(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=mm));else if(h!==4&&(h===27&&ca(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(vv(s,a,u),s=s.sibling;s!==null;)vv(s,a,u),s=s.sibling}function rm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(h===27&&ca(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(rm(s,a,u),s=s.sibling;s!==null;)rm(s,a,u),s=s.sibling}function JS(s){var a=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);wn(a,h,u),a[tn]=s,a[Wt]=u}catch(y){ct(s,s.return,y)}}var ds=!1,qt=!1,Tv=!1,ZS=typeof WeakSet=="function"?WeakSet:Set,fn=null;function tL(s,a){if(s=s.containerInfo,$v=bm,s=cA(s),__(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var b=0,S=-1,V=-1,Y=0,ie=0,se=s,X=null;t:for(;;){for(var J;se!==u||m!==0&&se.nodeType!==3||(S=b+m),se!==y||h!==0&&se.nodeType!==3||(V=b+h),se.nodeType===3&&(b+=se.nodeValue.length),(J=se.firstChild)!==null;)X=se,se=J;for(;;){if(se===s)break t;if(X===u&&++Y===m&&(S=b),X===y&&++ie===h&&(V=b),(J=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=J}u=S===-1||V===-1?null:{start:S,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hv={focusedElem:s,selectionRange:u},bm=!1,fn=a;fn!==null;)if(a=fn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,fn=s;else for(;fn!==null;){switch(a=fn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,u=a,m=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var Ce=Oo(u.type,m,u.elementType===u.type);s=h.getSnapshotBeforeUpdate(Ce,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(Se){ct(u,u.return,Se)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)Wv(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,fn=s;break}fn=a.return}}function eI(s,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ia(s,u),h&4&&Mh(5,u);break;case 1:if(ia(s,u),h&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(b){ct(u,u.return,b)}else{var m=Oo(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(b){ct(u,u.return,b)}}h&64&&WS(u),h&512&&Lh(u,u.return);break;case 3:if(ia(s,u),h&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{VA(s,a)}catch(b){ct(u,u.return,b)}}break;case 27:a===null&&h&4&&JS(u);case 26:case 5:ia(s,u),a===null&&h&4&&QS(u),h&512&&Lh(u,u.return);break;case 12:ia(s,u);break;case 13:ia(s,u),h&4&&iI(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=cL.bind(null,u),CL(s,u))));break;case 22:if(h=u.memoizedState!==null||ds,!h){a=a!==null&&a.memoizedState!==null||qt,m=ds;var y=qt;ds=h,(qt=a)&&!y?ra(s,u,(u.subtreeFlags&8772)!==0):ia(s,u),ds=m,qt=y}break;case 30:break;default:ia(s,u)}}function tI(s){var a=s.alternate;a!==null&&(s.alternate=null,tI(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Hs(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,ti=!1;function fs(s,a,u){for(u=u.child;u!==null;)nI(s,a,u),u=u.sibling}function nI(s,a,u){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ot,u)}catch{}switch(u.tag){case 26:qt||yr(u,a),fs(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:qt||yr(u,a);var h=vt,m=ti;ca(u.type)&&(vt=u.stateNode,ti=!1),fs(s,a,u),Gh(u.stateNode),vt=h,ti=m;break;case 5:qt||yr(u,a);case 6:if(h=vt,m=ti,vt=null,fs(s,a,u),vt=h,ti=m,vt!==null)if(ti)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(u.stateNode)}catch(y){ct(u,a,y)}else try{vt.removeChild(u.stateNode)}catch(y){ct(u,a,y)}break;case 18:vt!==null&&(ti?(s=vt,$I(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),ed(s)):$I(vt,u.stateNode));break;case 4:h=vt,m=ti,vt=u.stateNode.containerInfo,ti=!0,fs(s,a,u),vt=h,ti=m;break;case 0:case 11:case 14:case 15:qt||na(2,u,a),qt||na(4,u,a),fs(s,a,u);break;case 1:qt||(yr(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&YS(u,a,h)),fs(s,a,u);break;case 21:fs(s,a,u);break;case 22:qt=(h=qt)||u.memoizedState!==null,fs(s,a,u),qt=h;break;default:fs(s,a,u)}}function iI(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ed(s)}catch(u){ct(a,a.return,u)}}function nL(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new ZS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new ZS),a;default:throw Error(i(435,s.tag))}}function Ev(s,a){var u=nL(s);a.forEach(function(h){var m=hL.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}function fi(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h],y=s,b=a,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(ca(S.type)){vt=S.stateNode,ti=!1;break e}break;case 5:vt=S.stateNode,ti=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,ti=!0;break e}S=S.return}if(vt===null)throw Error(i(160));nI(y,b,m),vt=null,ti=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)rI(a,s),a=a.sibling}var Xi=null;function rI(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fi(a,s),pi(s),h&4&&(na(3,s,s.return),Mh(3,s),na(5,s,s.return));break;case 1:fi(a,s),pi(s),h&512&&(qt||u===null||yr(u,u.return)),h&64&&ds&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var m=Xi;if(fi(a,s),pi(s),h&512&&(qt||u===null||yr(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[lo]||y[tn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),wn(y,h,u),y[tn]=s,zt(y),h=y;break e;case"link":var b=JI("link","href",m).get(h+(u.href||""));if(b){for(var S=0;S<b.length;S++)if(y=b[S],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){b.splice(S,1);break t}}y=m.createElement(h),wn(y,h,u),m.head.appendChild(y);break;case"meta":if(b=JI("meta","content",m).get(h+(u.content||""))){for(S=0;S<b.length;S++)if(y=b[S],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){b.splice(S,1);break t}}y=m.createElement(h),wn(y,h,u),m.head.appendChild(y);break;default:throw Error(i(468,h))}y[tn]=s,zt(y),h=y}s.stateNode=h}else ZI(m,s.type,s.stateNode);else s.stateNode=XI(m,h,s.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?ZI(m,s.type,s.stateNode):XI(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&yv(s,s.memoizedProps,u.memoizedProps)}break;case 27:fi(a,s),pi(s),h&512&&(qt||u===null||yr(u,u.return)),u!==null&&h&4&&yv(s,s.memoizedProps,u.memoizedProps);break;case 5:if(fi(a,s),pi(s),h&512&&(qt||u===null||yr(u,u.return)),s.flags&32){m=s.stateNode;try{Ri(m,"")}catch(J){ct(s,s.return,J)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,yv(s,m,u!==null?u.memoizedProps:m)),h&1024&&(Tv=!0);break;case 6:if(fi(a,s),pi(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(J){ct(s,s.return,J)}}break;case 3:if(vm=null,m=Xi,Xi=ym(a.containerInfo),fi(a,s),Xi=m,pi(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ed(a.containerInfo)}catch(J){ct(s,s.return,J)}Tv&&(Tv=!1,sI(s));break;case 4:h=Xi,Xi=ym(s.stateNode.containerInfo),fi(a,s),pi(s),Xi=h;break;case 12:fi(a,s),pi(s);break;case 13:fi(a,s),pi(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Rv=Si()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ev(s,h)));break;case 22:m=s.memoizedState!==null;var V=u!==null&&u.memoizedState!==null,Y=ds,ie=qt;if(ds=Y||m,qt=ie||V,fi(a,s),qt=ie,ds=Y,pi(s),h&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(u===null||V||ds||qt||Vo(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){V=u=a;try{if(y=V.stateNode,m)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=V.stateNode;var se=V.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(J){ct(V,V.return,J)}}}else if(a.tag===6){if(u===null){V=a;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(J){ct(V,V.return,J)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Ev(s,u))));break;case 19:fi(a,s),pi(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ev(s,h)));break;case 30:break;case 21:break;default:fi(a,s),pi(s)}}function pi(s){var a=s.flags;if(a&2){try{for(var u,h=s.return;h!==null;){if(XS(h)){u=h;break}h=h.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,y=_v(s);rm(s,y,m);break;case 5:var b=u.stateNode;u.flags&32&&(Ri(b,""),u.flags&=-33);var S=_v(s);rm(s,S,b);break;case 3:case 4:var V=u.stateNode.containerInfo,Y=_v(s);vv(s,Y,V);break;default:throw Error(i(161))}}catch(ie){ct(s,s.return,ie)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function sI(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;sI(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ia(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)eI(s,a.alternate,a),a=a.sibling}function Vo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:na(4,a,a.return),Vo(a);break;case 1:yr(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&YS(a,a.return,u),Vo(a);break;case 27:Gh(a.stateNode);case 26:case 5:yr(a,a.return),Vo(a);break;case 22:a.memoizedState===null&&Vo(a);break;case 30:Vo(a);break;default:Vo(a)}s=s.sibling}}function ra(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,y=a,b=y.flags;switch(y.tag){case 0:case 11:case 15:ra(m,y,u),Mh(4,y);break;case 1:if(ra(m,y,u),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){ct(h,h.return,Y)}if(h=y,m=h.updateQueue,m!==null){var S=h.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)OA(V[m],S)}catch(Y){ct(h,h.return,Y)}}u&&b&64&&WS(y),Lh(y,y.return);break;case 27:JS(y);case 26:case 5:ra(m,y,u),u&&h===null&&b&4&&QS(y),Lh(y,y.return);break;case 12:ra(m,y,u);break;case 13:ra(m,y,u),u&&b&4&&iI(m,y);break;case 22:y.memoizedState===null&&ra(m,y,u),Lh(y,y.return);break;case 30:break;default:ra(m,y,u)}a=a.sibling}}function bv(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&bh(u))}function wv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&bh(s))}function _r(s,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)aI(s,a,u,h),a=a.sibling}function aI(s,a,u,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:_r(s,a,u,h),m&2048&&Mh(9,a);break;case 1:_r(s,a,u,h);break;case 3:_r(s,a,u,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&bh(s)));break;case 12:if(m&2048){_r(s,a,u,h),s=a.stateNode;try{var y=a.memoizedProps,b=y.id,S=y.onPostCommit;typeof S=="function"&&S(b,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){ct(a,a.return,V)}}else _r(s,a,u,h);break;case 13:_r(s,a,u,h);break;case 23:break;case 22:y=a.stateNode,b=a.alternate,a.memoizedState!==null?y._visibility&2?_r(s,a,u,h):Uh(s,a):y._visibility&2?_r(s,a,u,h):(y._visibility|=2,hu(s,a,u,h,(a.subtreeFlags&10256)!==0)),m&2048&&bv(b,a);break;case 24:_r(s,a,u,h),m&2048&&wv(a.alternate,a);break;default:_r(s,a,u,h)}}function hu(s,a,u,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,b=a,S=u,V=h,Y=b.flags;switch(b.tag){case 0:case 11:case 15:hu(y,b,S,V,m),Mh(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?hu(y,b,S,V,m):Uh(y,b):(ie._visibility|=2,hu(y,b,S,V,m)),m&&Y&2048&&bv(b.alternate,b);break;case 24:hu(y,b,S,V,m),m&&Y&2048&&wv(b.alternate,b);break;default:hu(y,b,S,V,m)}a=a.sibling}}function Uh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,h=a,m=h.flags;switch(h.tag){case 22:Uh(u,h),m&2048&&bv(h.alternate,h);break;case 24:Uh(u,h),m&2048&&wv(h.alternate,h);break;default:Uh(u,h)}a=a.sibling}}var Bh=8192;function du(s){if(s.subtreeFlags&Bh)for(s=s.child;s!==null;)oI(s),s=s.sibling}function oI(s){switch(s.tag){case 26:du(s),s.flags&Bh&&s.memoizedState!==null&&zL(Xi,s.memoizedState,s.memoizedProps);break;case 5:du(s);break;case 3:case 4:var a=Xi;Xi=ym(s.stateNode.containerInfo),du(s),Xi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Bh,Bh=16777216,du(s),Bh=a):du(s));break;default:du(s)}}function lI(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Fh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];fn=h,cI(h,s)}lI(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uI(s),s=s.sibling}function uI(s){switch(s.tag){case 0:case 11:case 15:Fh(s),s.flags&2048&&na(9,s,s.return);break;case 3:Fh(s);break;case 12:Fh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,sm(s)):Fh(s);break;default:Fh(s)}}function sm(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];fn=h,cI(h,s)}lI(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:na(8,a,a.return),sm(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,sm(a));break;default:sm(a)}s=s.sibling}}function cI(s,a){for(;fn!==null;){var u=fn;switch(u.tag){case 0:case 11:case 15:na(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:bh(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,fn=h;else e:for(u=s;fn!==null;){h=fn;var m=h.sibling,y=h.return;if(tI(h),h===u){fn=null;break e}if(m!==null){m.return=y,fn=m;break e}fn=y}}}var iL={getCacheForType:function(s){var a=Dn(sn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},rL=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,Le=null,$e=0,nt=0,mi=null,sa=!1,fu=!1,Av=!1,ps=0,Mt=0,aa=0,Mo=0,Sv=0,Mi=0,pu=0,zh=null,ni=null,Iv=!1,Rv=0,am=1/0,om=null,oa=null,bn=0,la=null,mu=null,gu=0,Cv=0,xv=null,hI=null,jh=0,Pv=null;function gi(){if((tt&2)!==0&&$e!==0)return $e&-$e;if(ne.T!==null){var s=iu;return s!==0?s:Lv()}return qs()}function dI(){Mi===0&&(Mi=($e&536870912)===0||Qe?Xc():536870912);var s=Vi.current;return s!==null&&(s.flags|=32),Mi}function yi(s,a,u){(s===ht&&(nt===2||nt===9)||s.cancelPendingCommit!==null)&&(yu(s,0),ua(s,$e,Mi,!1)),Gr(s,u),((tt&2)===0||s!==ht)&&(s===ht&&((tt&2)===0&&(Mo|=u),Mt===4&&ua(s,$e,Mi,!1)),vr(s))}function fI(s,a,u){if((tt&6)!==0)throw Error(i(327));var h=!u&&(a&124)===0&&(a&s.expiredLanes)===0||oo(s,a),m=h?oL(s,a):Nv(s,a,!0),y=h;do{if(m===0){fu&&!h&&ua(s,a,0,!1);break}else{if(u=s.current.alternate,y&&!sL(u)){m=Nv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var S=s;m=zh;var V=S.current.memoizedState.isDehydrated;if(V&&(yu(S,b).flags|=256),b=Nv(S,b,!1),b!==2){if(Av&&!V){S.errorRecoveryDisabledLanes|=y,Mo|=y,m=4;break e}y=ni,ni=m,y!==null&&(ni===null?ni=y:ni.push.apply(ni,y))}m=b}if(y=!1,m!==2)continue}}if(m===1){yu(s,0),ua(s,a,0,!0);break}e:{switch(h=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ua(h,a,Mi,!sa);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Rv+300-Si(),10<m)){if(ua(h,a,Mi,!sa),Ol(h,0,!0)!==0)break e;h.timeoutHandle=jI(pI.bind(null,h,u,ni,om,Iv,a,Mi,Mo,pu,sa,y,2,-0,0),m);break e}pI(h,u,ni,om,Iv,a,Mi,Mo,pu,sa,y,0,-0,0)}}break}while(!0);vr(s)}function pI(s,a,u,h,m,y,b,S,V,Y,ie,se,X,J){if(s.timeoutHandle=-1,se=a.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Yh={stylesheets:null,count:0,unsuspend:FL},oI(a),se=jL(),se!==null)){s.cancelPendingCommit=se(EI.bind(null,s,a,y,u,h,m,b,S,V,ie,1,X,J)),ua(s,y,b,!Y);return}EI(s,a,y,u,h,m,b,S,V)}function sL(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var m=u[h],y=m.getSnapshot;m=m.value;try{if(!hi(y(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(s,a,u,h){a&=~Sv,a&=~Mo,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var y=31-Pn(m),b=1<<y;h[y]=-1,m&=~b}u!==0&&rr(s,u,a)}function lm(){return(tt&6)===0?(qh(0),!1):!0}function Dv(){if(Le!==null){if(nt===0)var s=Le.return;else s=Le,as=Po=null,W_(s),uu=null,Nh=0,s=Le;for(;s!==null;)KS(s.alternate,s),s=s.return;Le=null}}function yu(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,wL(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Dv(),ht=s,Le=u=is(s.current,null),$e=a,nt=0,mi=null,sa=!1,fu=oo(s,a),Av=!1,pu=Mi=Sv=Mo=aa=Mt=0,ni=zh=null,Iv=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-Pn(h),y=1<<m;a|=s[m],h&=~y}return ps=a,Pp(),u}function mI(s,a){Ve=null,ne.H=Yp,a===Ah||a===Bp?(a=kA(),nt=3):a===xA?(a=kA(),nt=4):nt=a===NS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,mi=a,Le===null&&(Mt=1,em(s,Di(a,s.current)))}function gI(){var s=ne.H;return ne.H=Yp,s===null?Yp:s}function yI(){var s=ne.A;return ne.A=iL,s}function kv(){Mt=4,sa||($e&4194048)!==$e&&Vi.current!==null||(fu=!0),(aa&134217727)===0&&(Mo&134217727)===0||ht===null||ua(ht,$e,Mi,!1)}function Nv(s,a,u){var h=tt;tt|=2;var m=gI(),y=yI();(ht!==s||$e!==a)&&(om=null,yu(s,a)),a=!1;var b=Mt;e:do try{if(nt!==0&&Le!==null){var S=Le,V=mi;switch(nt){case 8:Dv(),b=6;break e;case 3:case 2:case 9:case 6:Vi.current===null&&(a=!0);var Y=nt;if(nt=0,mi=null,_u(s,S,V,Y),u&&fu){b=0;break e}break;default:Y=nt,nt=0,mi=null,_u(s,S,V,Y)}}aL(),b=Mt;break}catch(ie){mI(s,ie)}while(!0);return a&&s.shellSuspendCounter++,as=Po=null,tt=h,ne.H=m,ne.A=y,Le===null&&(ht=null,$e=0,Pp()),b}function aL(){for(;Le!==null;)_I(Le)}function oL(s,a){var u=tt;tt|=2;var h=gI(),m=yI();ht!==s||$e!==a?(om=null,am=Si()+500,yu(s,a)):fu=oo(s,a);e:do try{if(nt!==0&&Le!==null){a=Le;var y=mi;t:switch(nt){case 1:nt=0,mi=null,_u(s,a,y,1);break;case 2:case 9:if(PA(y)){nt=0,mi=null,vI(a);break}a=function(){nt!==2&&nt!==9||ht!==s||(nt=7),vr(s)},y.then(a,a);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:PA(y)?(nt=0,mi=null,vI(a)):(nt=0,mi=null,_u(s,a,y,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var S=Le;if(!b||eR(b)){nt=0,mi=null;var V=S.sibling;if(V!==null)Le=V;else{var Y=S.return;Y!==null?(Le=Y,um(Y)):Le=null}break t}}nt=0,mi=null,_u(s,a,y,5);break;case 6:nt=0,mi=null,_u(s,a,y,6);break;case 8:Dv(),Mt=6;break e;default:throw Error(i(462))}}lL();break}catch(ie){mI(s,ie)}while(!0);return as=Po=null,ne.H=h,ne.A=m,tt=u,Le!==null?0:(ht=null,$e=0,Pp(),Mt)}function lL(){for(;Le!==null&&!Kc();)_I(Le)}function _I(s){var a=HS(s.alternate,s,ps);s.memoizedProps=s.pendingProps,a===null?um(s):Le=a}function vI(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=BS(u,a,a.pendingProps,a.type,void 0,$e);break;case 11:a=BS(u,a,a.pendingProps,a.type.render,a.ref,$e);break;case 5:W_(a);default:KS(u,a),a=Le=TA(a,ps),a=HS(u,a,ps)}s.memoizedProps=s.pendingProps,a===null?um(s):Le=a}function _u(s,a,u,h){as=Po=null,W_(a),uu=null,Nh=0;var m=a.return;try{if(X2(s,m,a,u,$e)){Mt=1,em(s,Di(u,s.current)),Le=null;return}}catch(y){if(m!==null)throw Le=m,y;Mt=1,em(s,Di(u,s.current)),Le=null;return}a.flags&32768?(Qe||h===1?s=!0:fu||($e&536870912)!==0?s=!1:(sa=s=!0,(h===2||h===9||h===3||h===6)&&(h=Vi.current,h!==null&&h.tag===13&&(h.flags|=16384))),TI(a,s)):um(a)}function um(s){var a=s;do{if((a.flags&32768)!==0){TI(a,sa);return}s=a.return;var u=Z2(a.alternate,a,ps);if(u!==null){Le=u;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=s}while(a!==null);Mt===0&&(Mt=5)}function TI(s,a){do{var u=eL(s.alternate,s);if(u!==null){u.flags&=32767,Le=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Le=s;return}Le=s=u}while(s!==null);Mt=6,Le=null}function EI(s,a,u,h,m,y,b,S,V){s.cancelPendingCommit=null;do cm();while(bn!==0);if((tt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=w_,Zc(s,u,y,b,S,V),s===ht&&(Le=ht=null,$e=0),mu=a,la=s,gu=u,Cv=y,xv=m,hI=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,dL(io,function(){return II(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null,m=ue.p,ue.p=2,b=tt,tt|=4;try{tL(s,a,u)}finally{tt=b,ue.p=m,ne.T=h}}bn=1,bI(),wI(),AI()}}function bI(){if(bn===1){bn=0;var s=la,a=mu,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=ne.T,ne.T=null;var h=ue.p;ue.p=2;var m=tt;tt|=4;try{rI(a,s);var y=Hv,b=cA(s.containerInfo),S=y.focusedElem,V=y.selectionRange;if(b!==S&&S&&S.ownerDocument&&uA(S.ownerDocument.documentElement,S)){if(V!==null&&__(S)){var Y=V.start,ie=V.end;if(ie===void 0&&(ie=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ie,S.value.length);else{var se=S.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var J=X.getSelection(),Ce=S.textContent.length,Se=Math.min(V.start,Ce),ut=V.end===void 0?Se:Math.min(V.end,Ce);!J.extend&&Se>ut&&(b=ut,ut=Se,Se=b);var H=lA(S,Se),z=lA(S,ut);if(H&&z&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var W=se.createRange();W.setStart(H.node,H.offset),J.removeAllRanges(),Se>ut?(J.addRange(W),J.extend(z.node,z.offset)):(W.setEnd(z.node,z.offset),J.addRange(W))}}}}for(se=[],J=S;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var re=se[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}bm=!!$v,Hv=$v=null}finally{tt=m,ue.p=h,ne.T=u}}s.current=a,bn=2}}function wI(){if(bn===2){bn=0;var s=la,a=mu,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=ne.T,ne.T=null;var h=ue.p;ue.p=2;var m=tt;tt|=4;try{eI(s,a.alternate,a)}finally{tt=m,ue.p=h,ne.T=u}}bn=3}}function AI(){if(bn===4||bn===3){bn=0,sp();var s=la,a=mu,u=gu,h=hI;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bn=5:(bn=0,mu=la=null,SI(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(oa=null),Vl(u),a=a.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ot,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ne.T,m=ue.p,ue.p=2,ne.T=null;try{for(var y=s.onRecoverableError,b=0;b<h.length;b++){var S=h[b];y(S.value,{componentStack:S.stack})}}finally{ne.T=a,ue.p=m}}(gu&3)!==0&&cm(),vr(s),m=s.pendingLanes,(u&4194090)!==0&&(m&42)!==0?s===Pv?jh++:(jh=0,Pv=s):jh=0,qh(0)}}function SI(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,bh(a)))}function cm(s){return bI(),wI(),AI(),II()}function II(){if(bn!==5)return!1;var s=la,a=Cv;Cv=0;var u=Vl(gu),h=ne.T,m=ue.p;try{ue.p=32>u?32:u,ne.T=null,u=xv,xv=null;var y=la,b=gu;if(bn=0,mu=la=null,gu=0,(tt&6)!==0)throw Error(i(331));var S=tt;if(tt|=4,uI(y.current),aI(y,y.current,b,u),tt=S,qh(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ot,y)}catch{}return!0}finally{ue.p=m,ne.T=h,SI(s,a)}}function RI(s,a,u){a=Di(u,a),a=lv(s.stateNode,a,2),s=Js(s,a,2),s!==null&&(Gr(s,2),vr(s))}function ct(s,a,u){if(s.tag===3)RI(s,s,u);else for(;a!==null;){if(a.tag===3){RI(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(oa===null||!oa.has(h))){s=Di(u,s),u=DS(2),h=Js(a,u,2),h!==null&&(kS(u,h,a,s),Gr(h,2),vr(h));break}}a=a.return}}function Ov(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new rL;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(u)||(Av=!0,m.add(u),s=uL.bind(null,s,a,u),a.then(s,s))}function uL(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,ht===s&&($e&u)===u&&(Mt===4||Mt===3&&($e&62914560)===$e&&300>Si()-Rv?(tt&2)===0&&yu(s,0):Sv|=u,pu===$e&&(pu=0)),vr(s)}function CI(s,a){a===0&&(a=Jc()),s=Zl(s,a),s!==null&&(Gr(s,a),vr(s))}function cL(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),CI(s,u)}function hL(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),CI(s,u)}function dL(s,a){return to(s,a)}var hm=null,vu=null,Vv=!1,dm=!1,Mv=!1,Lo=0;function vr(s){s!==vu&&s.next===null&&(vu===null?hm=vu=s:vu=vu.next=s),dm=!0,Vv||(Vv=!0,pL())}function qh(s,a){if(!Mv&&dm){Mv=!0;do for(var u=!1,h=hm;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var b=h.suspendedLanes,S=h.pingedLanes;y=(1<<31-Pn(42|s)+1)-1,y&=m&~(b&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,kI(h,y))}else y=$e,y=Ol(h,h===ht?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||oo(h,y)||(u=!0,kI(h,y));h=h.next}while(u);Mv=!1}}function fL(){xI()}function xI(){dm=Vv=!1;var s=0;Lo!==0&&(bL()&&(s=Lo),Lo=0);for(var a=Si(),u=null,h=hm;h!==null;){var m=h.next,y=PI(h,a);y===0?(h.next=null,u===null?hm=m:u.next=m,m===null&&(vu=u)):(u=h,(s!==0||(y&3)!==0)&&(dm=!0)),h=m}qh(s)}function PI(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var b=31-Pn(y),S=1<<b,V=m[b];V===-1?((S&u)===0||(S&h)!==0)&&(m[b]=Qc(S,a)):V<=a&&(s.expiredLanes|=S),y&=~S}if(a=ht,u=$e,u=Ol(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===a&&(nt===2||nt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&no(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||oo(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(h!==null&&no(h),Vl(u)){case 2:case 8:u=kl;break;case 32:u=io;break;case 268435456:u=Nl;break;default:u=io}return h=DI.bind(null,s),u=to(u,h),s.callbackPriority=a,s.callbackNode=u,a}return h!==null&&h!==null&&no(h),s.callbackPriority=2,s.callbackNode=null,2}function DI(s,a){if(bn!==0&&bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(cm()&&s.callbackNode!==u)return null;var h=$e;return h=Ol(s,s===ht?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(fI(s,h,a),PI(s,Si()),s.callbackNode!=null&&s.callbackNode===u?DI.bind(null,s):null)}function kI(s,a){if(cm())return null;fI(s,a,!0)}function pL(){AL(function(){(tt&6)!==0?to(Wc,fL):xI()})}function Lv(){return Lo===0&&(Lo=Xc()),Lo}function NI(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:zl(""+s)}function OI(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function mL(s,a,u,h,m){if(a==="submit"&&u&&u.stateNode===m){var y=NI((m[Wt]||null).action),b=h.submitter;b&&(a=(a=b[Wt]||null)?NI(a.formAction):b.getAttribute("formAction"),a!==null&&(y=a,b=null));var S=new jl("action","action",null,h,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Lo!==0){var V=b?OI(m,b):new FormData(m);iv(u,{pending:!0,data:V,method:m.method,action:y},null,V)}}else typeof y=="function"&&(S.preventDefault(),V=b?OI(m,b):new FormData(m),iv(u,{pending:!0,data:V,method:m.method,action:y},y,V))},currentTarget:m}]})}}for(var Uv=0;Uv<b_.length;Uv++){var Bv=b_[Uv],gL=Bv.toLowerCase(),yL=Bv[0].toUpperCase()+Bv.slice(1);Qi(gL,"on"+yL)}Qi(fA,"onAnimationEnd"),Qi(pA,"onAnimationIteration"),Qi(mA,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(O2,"onTransitionRun"),Qi(V2,"onTransitionStart"),Qi(M2,"onTransitionCancel"),Qi(gA,"onTransitionEnd"),Wr("onMouseEnter",["mouseout","mouseover"]),Wr("onMouseLeave",["mouseout","mouseover"]),Wr("onPointerEnter",["pointerout","pointerover"]),Wr("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_L=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($h));function VI(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var b=h.length-1;0<=b;b--){var S=h[b],V=S.instance,Y=S.currentTarget;if(S=S.listener,V!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=Y;try{y(m)}catch(ie){Zp(ie)}m.currentTarget=null,y=V}else for(b=0;b<h.length;b++){if(S=h[b],V=S.instance,Y=S.currentTarget,S=S.listener,V!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=Y;try{y(m)}catch(ie){Zp(ie)}m.currentTarget=null,y=V}}}}function Ue(s,a){var u=a[th];u===void 0&&(u=a[th]=new Set);var h=s+"__bubble";u.has(h)||(MI(a,s,2,!1),u.add(h))}function Fv(s,a,u){var h=0;a&&(h|=4),MI(u,s,h,a)}var fm="_reactListening"+Math.random().toString(36).slice(2);function zv(s){if(!s[fm]){s[fm]=!0,nh.forEach(function(u){u!=="selectionchange"&&(_L.has(u)||Fv(u,!1,s),Fv(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[fm]||(a[fm]=!0,Fv("selectionchange",!1,a))}}function MI(s,a,u,h){switch(aR(a)){case 2:var m=HL;break;case 8:m=GL;break;default:m=tT}u=m.bind(null,a,u,s),m=void 0,!xi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,u,{capture:!0,passive:m}):s.addEventListener(a,u,!0):m!==void 0?s.addEventListener(a,u,{passive:m}):s.addEventListener(a,u,!1)}function jv(s,a,u,h,m){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var S=h.stateNode.containerInfo;if(S===m)break;if(b===4)for(b=h.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;S!==null;){if(b=Kr(S),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){h=y=b;continue e}S=S.parentNode}}h=h.return}mp(function(){var Y=y,ie=Ci(u),se=[];e:{var X=yA.get(s);if(X!==void 0){var J=jl,Ce=s;switch(s){case"keypress":if(cr(u)===0)break e;case"keydown":case"keyup":J=Wl;break;case"focusin":Ce="focus",J=Hl;break;case"focusout":Ce="blur",J=Hl;break;case"beforeblur":case"afterblur":J=Hl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=wp;break;case fA:case pA:case mA:J=Gl;break;case gA:J=Sp;break;case"scroll":case"scrollend":J=gp;break;case"wheel":J=Yl;break;case"copy":case"cut":case"paste":J=Kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ph;break;case"toggle":case"beforetoggle":J=Rp}var Se=(a&4)!==0,ut=!Se&&(s==="scroll"||s==="scrollend"),H=Se?X!==null?X+"Capture":null:X;Se=[];for(var z=Y,W;z!==null;){var re=z;if(W=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||W===null||H===null||(re=go(z,H),re!=null&&Se.push(Hh(z,re,W))),ut)break;z=z.return}0<Se.length&&(X=new J(X,Ce,null,u,ie),se.push({event:X,listeners:Se}))}}if((a&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",X&&u!==Xr&&(Ce=u.relatedTarget||u.fromElement)&&(Kr(Ce)||Ce[Ii]))break e;if((J||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,J?(Ce=u.relatedTarget||u.toElement,J=Y,Ce=Ce?Kr(Ce):null,Ce!==null&&(ut=o(Ce),Se=Ce.tag,Ce!==ut||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(J=null,Ce=Y),J!==Ce)){if(Se=Pi,re="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Se=ph,re="onPointerLeave",H="onPointerEnter",z="pointer"),ut=J==null?X:ar(J),W=Ce==null?X:ar(Ce),X=new Se(re,z+"leave",J,u,ie),X.target=ut,X.relatedTarget=W,re=null,Kr(ie)===Y&&(Se=new Se(H,z+"enter",Ce,u,ie),Se.target=W,Se.relatedTarget=ut,re=Se),ut=re,J&&Ce)t:{for(Se=J,H=Ce,z=0,W=Se;W;W=Tu(W))z++;for(W=0,re=H;re;re=Tu(re))W++;for(;0<z-W;)Se=Tu(Se),z--;for(;0<W-z;)H=Tu(H),W--;for(;z--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=Tu(Se),H=Tu(H)}Se=null}else Se=null;J!==null&&LI(se,X,J,Se,!1),Ce!==null&&ut!==null&&LI(se,ut,Ce,Se,!0)}}e:{if(X=Y?ar(Y):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var _e=nA;else if(rn(X))if(iA)_e=D2;else{_e=x2;var Me=C2}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&oh(Y.elementType)&&(_e=nA):_e=P2;if(_e&&(_e=_e(s,Y))){ns(se,_e,u,ie);break e}Me&&Me(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Ks(X,"number",X.value)}switch(Me=Y?ar(Y):window,s){case"focusin":(rn(Me)||Me.contentEditable==="true")&&(Ql=Me,v_=Y,yh=null);break;case"focusout":yh=v_=Ql=null;break;case"mousedown":T_=!0;break;case"contextmenu":case"mouseup":case"dragend":T_=!1,hA(se,u,ie);break;case"selectionchange":if(N2)break;case"keydown":case"keyup":hA(se,u,ie)}var we;if(fr)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else je?ee(s,u)&&(Ie="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(E&&u.locale!=="ko"&&(je||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&je&&(we=uh()):(ur=ie,Ws="value"in ur?ur.value:ur.textContent,je=!0)),Me=pm(Y,Ie),0<Me.length&&(Ie=new dh(Ie,s,null,u,ie),se.push({event:Ie,listeners:Me}),we?Ie.data=we:(we=fe(u),we!==null&&(Ie.data=we)))),(we=v?nn(s,u):qe(s,u))&&(Ie=pm(Y,"onBeforeInput"),0<Ie.length&&(Me=new dh("onBeforeInput","beforeinput",null,u,ie),se.push({event:Me,listeners:Ie}),Me.data=we)),mL(se,s,Y,u,ie)}VI(se,a)})}function Hh(s,a,u){return{instance:s,listener:a,currentTarget:u}}function pm(s,a){for(var u=a+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=go(s,u),m!=null&&h.unshift(Hh(s,m,y)),m=go(s,a),m!=null&&h.push(Hh(s,m,y))),s.tag===3)return h;s=s.return}return[]}function Tu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function LI(s,a,u,h,m){for(var y=a._reactName,b=[];u!==null&&u!==h;){var S=u,V=S.alternate,Y=S.stateNode;if(S=S.tag,V!==null&&V===h)break;S!==5&&S!==26&&S!==27||Y===null||(V=Y,m?(Y=go(u,y),Y!=null&&b.unshift(Hh(u,Y,V))):m||(Y=go(u,y),Y!=null&&b.push(Hh(u,Y,V)))),u=u.return}b.length!==0&&s.push({event:a,listeners:b})}var vL=/\r\n?/g,TL=/\u0000|\uFFFD/g;function UI(s){return(typeof s=="string"?s:""+s).replace(vL,`
`).replace(TL,"")}function BI(s,a){return a=UI(a),UI(s)===a}function mm(){}function lt(s,a,u,h,m,y){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Ri(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Ri(s,""+h);break;case"className":or(s,"class",h);break;case"tabIndex":or(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":or(s,u,h);break;case"style":ah(s,h,y);break;case"data":if(a!=="object"){or(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=zl(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&lt(s,a,"name",m.name,m,null),lt(s,a,"formEncType",m.formEncType,m,null),lt(s,a,"formMethod",m.formMethod,m,null),lt(s,a,"formTarget",m.formTarget,m,null)):(lt(s,a,"encType",m.encType,m,null),lt(s,a,"method",m.method,m,null),lt(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=zl(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=mm);break;case"onScroll":h!=null&&Ue("scroll",s);break;case"onScrollEnd":h!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=zl(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),Gs(s,"popover",h);break;case"xlinkActuate":vn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":vn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":vn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":vn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":vn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":vn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":vn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":vn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":vn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Gs(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=d_.get(u)||u,Gs(s,u,h))}}function qv(s,a,u,h,m,y){switch(u){case"style":ah(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof h=="string"?Ri(s,h):(typeof h=="number"||typeof h=="bigint")&&Ri(s,""+h);break;case"onScroll":h!=null&&Ue("scroll",s);break;case"onScrollEnd":h!=null&&Ue("scrollend",s);break;case"onClick":h!=null&&(s.onclick=mm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),y=s[Wt]||null,y=y!=null?y[u]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,h,m);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):Gs(s,u,h)}}}function wn(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var h=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var b=u[y];if(b!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(s,a,y,b,u,null)}}m&&lt(s,a,"srcSet",u.srcSet,u,null),h&&lt(s,a,"src",u.src,u,null);return;case"input":Ue("invalid",s);var S=y=b=m=null,V=null,Y=null;for(h in u)if(u.hasOwnProperty(h)){var ie=u[h];if(ie!=null)switch(h){case"name":m=ie;break;case"type":b=ie;break;case"checked":V=ie;break;case"defaultChecked":Y=ie;break;case"value":y=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:lt(s,a,h,ie,u,null)}}fo(s,y,S,V,Y,b,m,!1),Fl(s);return;case"select":Ue("invalid",s),h=b=y=null;for(m in u)if(u.hasOwnProperty(m)&&(S=u[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":b=S;break;case"multiple":h=S;default:lt(s,a,m,S,u,null)}a=y,u=b,s.multiple=!!h,a!=null?Qr(s,!!h,a,!1):u!=null&&Qr(s,!!h,u,!0);return;case"textarea":Ue("invalid",s),y=m=h=null;for(b in u)if(u.hasOwnProperty(b)&&(S=u[b],S!=null))switch(b){case"value":h=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:lt(s,a,b,S,u,null)}po(s,h,m,y),Fl(s);return;case"option":for(V in u)if(u.hasOwnProperty(V)&&(h=u[V],h!=null))switch(V){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:lt(s,a,V,h,u,null)}return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(h=0;h<$h.length;h++)Ue($h[h],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in u)if(u.hasOwnProperty(Y)&&(h=u[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(s,a,Y,h,u,null)}return;default:if(oh(a)){for(ie in u)u.hasOwnProperty(ie)&&(h=u[ie],h!==void 0&&qv(s,a,ie,h,u,void 0));return}}for(S in u)u.hasOwnProperty(S)&&(h=u[S],h!=null&&lt(s,a,S,h,u,null))}function EL(s,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,b=null,S=null,V=null,Y=null,ie=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":V=se;default:h.hasOwnProperty(J)||lt(s,a,J,null,h,se)}}for(var X in h){var J=h[X];if(se=u[X],h.hasOwnProperty(X)&&(J!=null||se!=null))switch(X){case"type":y=J;break;case"name":m=J;break;case"checked":Y=J;break;case"defaultChecked":ie=J;break;case"value":b=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==se&&lt(s,a,X,J,h,se)}}ci(s,b,S,V,Y,ie,y,m);return;case"select":J=b=S=X=null;for(y in u)if(V=u[y],u.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":J=V;default:h.hasOwnProperty(y)||lt(s,a,y,null,h,V)}for(m in h)if(y=h[m],V=u[m],h.hasOwnProperty(m)&&(y!=null||V!=null))switch(m){case"value":X=y;break;case"defaultValue":S=y;break;case"multiple":b=y;default:y!==V&&lt(s,a,m,y,h,V)}a=S,u=b,h=J,X!=null?Qr(s,!!u,X,!1):!!h!=!!u&&(a!=null?Qr(s,!!u,a,!0):Qr(s,!!u,u?[]:"",!1));return;case"textarea":J=X=null;for(S in u)if(m=u[S],u.hasOwnProperty(S)&&m!=null&&!h.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:lt(s,a,S,null,h,m)}for(b in h)if(m=h[b],y=u[b],h.hasOwnProperty(b)&&(m!=null||y!=null))switch(b){case"value":X=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&lt(s,a,b,m,h,y)}at(s,X,J);return;case"option":for(var Ce in u)if(X=u[Ce],u.hasOwnProperty(Ce)&&X!=null&&!h.hasOwnProperty(Ce))switch(Ce){case"selected":s.selected=!1;break;default:lt(s,a,Ce,null,h,X)}for(V in h)if(X=h[V],J=u[V],h.hasOwnProperty(V)&&X!==J&&(X!=null||J!=null))switch(V){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:lt(s,a,V,X,h,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in u)X=u[Se],u.hasOwnProperty(Se)&&X!=null&&!h.hasOwnProperty(Se)&&lt(s,a,Se,null,h,X);for(Y in h)if(X=h[Y],J=u[Y],h.hasOwnProperty(Y)&&X!==J&&(X!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:lt(s,a,Y,X,h,J)}return;default:if(oh(a)){for(var ut in u)X=u[ut],u.hasOwnProperty(ut)&&X!==void 0&&!h.hasOwnProperty(ut)&&qv(s,a,ut,void 0,h,X);for(ie in h)X=h[ie],J=u[ie],!h.hasOwnProperty(ie)||X===J||X===void 0&&J===void 0||qv(s,a,ie,X,h,J);return}}for(var H in u)X=u[H],u.hasOwnProperty(H)&&X!=null&&!h.hasOwnProperty(H)&&lt(s,a,H,null,h,X);for(se in h)X=h[se],J=u[se],!h.hasOwnProperty(se)||X===J||X==null&&J==null||lt(s,a,se,X,h,J)}var $v=null,Hv=null;function gm(s){return s.nodeType===9?s:s.ownerDocument}function FI(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zI(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Gv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Kv=null;function bL(){var s=window.event;return s&&s.type==="popstate"?s===Kv?!1:(Kv=s,!0):(Kv=null,!1)}var jI=typeof setTimeout=="function"?setTimeout:void 0,wL=typeof clearTimeout=="function"?clearTimeout:void 0,qI=typeof Promise=="function"?Promise:void 0,AL=typeof queueMicrotask=="function"?queueMicrotask:typeof qI<"u"?function(s){return qI.resolve(null).then(s).catch(SL)}:jI;function SL(s){setTimeout(function(){throw s})}function ca(s){return s==="head"}function $I(s,a){var u=a,h=0,m=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<h&&8>h){u=h;var b=s.ownerDocument;if(u&1&&Gh(b.documentElement),u&2&&Gh(b.body),u&4)for(u=b.head,Gh(u),b=u.firstChild;b;){var S=b.nextSibling,V=b.nodeName;b[lo]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=S}}if(m===0){s.removeChild(y),ed(a);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:h=u.charCodeAt(0)-48;else h=0;u=y}while(u);ed(a)}function Wv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wv(u),Hs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function IL(s,a,u,h){for(;s.nodeType===1;){var m=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[lo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ji(s.nextSibling),s===null)break}return null}function RL(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Ji(s.nextSibling),s===null))return null;return s}function Yv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function CL(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Ji(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Qv=null;function HI(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function GI(s,a,u){switch(a=gm(u),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Gh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Hs(s)}var Li=new Map,KI=new Set;function ym(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ms=ue.d;ue.d={f:xL,r:PL,D:DL,C:kL,L:NL,m:OL,X:ML,S:VL,M:LL};function xL(){var s=ms.f(),a=lm();return s||a}function PL(s){var a=sr(s);a!==null&&a.tag===5&&a.type==="form"?fS(a):ms.r(s)}var Eu=typeof document>"u"?null:document;function WI(s,a,u){var h=Eu;if(h&&typeof a=="string"&&a){var m=Yt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),KI.has(m)||(KI.add(m),s={rel:s,crossOrigin:u,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),wn(a,"link",s),zt(a),h.head.appendChild(a)))}}function DL(s){ms.D(s),WI("dns-prefetch",s,null)}function kL(s,a){ms.C(s,a),WI("preconnect",s,a)}function NL(s,a,u){ms.L(s,a,u);var h=Eu;if(h&&s&&a){var m='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Yt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Yt(u.imageSizes)+'"]')):m+='[href="'+Yt(s)+'"]';var y=m;switch(a){case"style":y=bu(s);break;case"script":y=wu(s)}Li.has(y)||(s=g({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),Li.set(y,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(Kh(y))||a==="script"&&h.querySelector(Wh(y))||(a=h.createElement("link"),wn(a,"link",s),zt(a),h.head.appendChild(a)))}}function OL(s,a){ms.m(s,a);var u=Eu;if(u&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Yt(h)+'"][href="'+Yt(s)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=wu(s)}if(!Li.has(y)&&(s=g({rel:"modulepreload",href:s},a),Li.set(y,s),u.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Wh(y)))return}h=u.createElement("link"),wn(h,"link",s),zt(h),u.head.appendChild(h)}}}function VL(s,a,u){ms.S(s,a,u);var h=Eu;if(h&&s){var m=zn(h).hoistableStyles,y=bu(s);a=a||"default";var b=m.get(y);if(!b){var S={loading:0,preload:null};if(b=h.querySelector(Kh(y)))S.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},u),(u=Li.get(y))&&Xv(s,u);var V=b=h.createElement("link");zt(V),wn(V,"link",s),V._p=new Promise(function(Y,ie){V.onload=Y,V.onerror=ie}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,_m(b,a,h)}b={type:"stylesheet",instance:b,count:1,state:S},m.set(y,b)}}}function ML(s,a){ms.X(s,a);var u=Eu;if(u&&s){var h=zn(u).hoistableScripts,m=wu(s),y=h.get(m);y||(y=u.querySelector(Wh(m)),y||(s=g({src:s,async:!0},a),(a=Li.get(m))&&Jv(s,a),y=u.createElement("script"),zt(y),wn(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function LL(s,a){ms.M(s,a);var u=Eu;if(u&&s){var h=zn(u).hoistableScripts,m=wu(s),y=h.get(m);y||(y=u.querySelector(Wh(m)),y||(s=g({src:s,async:!0,type:"module"},a),(a=Li.get(m))&&Jv(s,a),y=u.createElement("script"),zt(y),wn(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function YI(s,a,u,h){var m=(m=Ae.current)?ym(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=bu(u.href),u=zn(m).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=bu(u.href);var y=zn(m).hoistableStyles,b=y.get(s);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,b),(y=m.querySelector(Kh(s)))&&!y._p&&(b.instance=y,b.state.loading=5),Li.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Li.set(s,u),y||UL(m,s,u,b.state))),a&&h===null)throw Error(i(528,""));return b}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wu(u),u=zn(m).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function bu(s){return'href="'+Yt(s)+'"'}function Kh(s){return'link[rel="stylesheet"]['+s+"]"}function QI(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function UL(s,a,u,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),wn(a,"link",u),zt(a),s.head.appendChild(a))}function wu(s){return'[src="'+Yt(s)+'"]'}function Wh(s){return"script[async]"+s}function XI(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Yt(u.href)+'"]');if(h)return a.instance=h,zt(h),h;var m=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),zt(h),wn(h,"style",m),_m(h,u.precedence,s),a.instance=h;case"stylesheet":m=bu(u.href);var y=s.querySelector(Kh(m));if(y)return a.state.loading|=4,a.instance=y,zt(y),y;h=QI(u),(m=Li.get(m))&&Xv(h,m),y=(s.ownerDocument||s).createElement("link"),zt(y);var b=y;return b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),wn(y,"link",h),a.state.loading|=4,_m(y,u.precedence,s),a.instance=y;case"script":return y=wu(u.src),(m=s.querySelector(Wh(y)))?(a.instance=m,zt(m),m):(h=u,(m=Li.get(y))&&(h=g({},u),Jv(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),zt(m),wn(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,_m(h,u.precedence,s));return a.instance}function _m(s,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,b=0;b<h.length;b++){var S=h[b];if(S.dataset.precedence===a)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function Xv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Jv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var vm=null;function JI(s,a,u){if(vm===null){var h=new Map,m=vm=new Map;m.set(u,h)}else m=vm,h=m.get(u),h||(h=new Map,m.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),m=0;m<u.length;m++){var y=u[m];if(!(y[lo]||y[tn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(a)||"";b=s+b;var S=h.get(b);S?S.push(y):h.set(b,[y])}}return h}function ZI(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function BL(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function eR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Yh=null;function FL(){}function zL(s,a,u){if(Yh===null)throw Error(i(475));var h=Yh;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=bu(u.href),y=s.querySelector(Kh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Tm.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=y,zt(y);return}y=s.ownerDocument||s,u=QI(u),(m=Li.get(m))&&Xv(u,m),y=y.createElement("link"),zt(y);var b=y;b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),wn(y,"link",u),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Tm.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function jL(){if(Yh===null)throw Error(i(475));var s=Yh;return s.stylesheets&&s.count===0&&Zv(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&Zv(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Tm(){if(this.count--,this.count===0){if(this.stylesheets)Zv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Em=null;function Zv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Em=new Map,a.forEach(qL,s),Em=null,Tm.call(s))}function qL(s,a){if(!(a.state.loading&4)){var u=Em.get(s);if(u)var h=u.get(null);else{u=new Map,Em.set(s,u);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var b=m[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(u.set(b.dataset.precedence,b),h=b)}h&&u.set(null,h)}m=a.instance,b=m.getAttribute("data-precedence"),y=u.get(b)||h,y===h&&u.set(null,m),u.set(b,m),this.count++,h=Tm.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Qh={$$typeof:k,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function $L(s,a,u,h,m,y,b,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function tR(s,a,u,h,m,y,b,S,V,Y,ie,se){return s=new $L(s,a,u,b,S,V,Y,se),a=1,y===!0&&(a|=24),y=di(3,null,null,a),s.current=y,y.stateNode=s,a=O_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:a},U_(y),s}function nR(s){return s?(s=eu,s):eu}function iR(s,a,u,h,m,y){m=nR(m),h.context===null?h.context=m:h.pendingContext=m,h=Xs(a),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=Js(s,h,a),u!==null&&(yi(u,s,a),Ih(u,s,a))}function rR(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function eT(s,a){rR(s,a),(s=s.alternate)&&rR(s,a)}function sR(s){if(s.tag===13){var a=Zl(s,67108864);a!==null&&yi(a,s,67108864),eT(s,67108864)}}var bm=!0;function HL(s,a,u,h){var m=ne.T;ne.T=null;var y=ue.p;try{ue.p=2,tT(s,a,u,h)}finally{ue.p=y,ne.T=m}}function GL(s,a,u,h){var m=ne.T;ne.T=null;var y=ue.p;try{ue.p=8,tT(s,a,u,h)}finally{ue.p=y,ne.T=m}}function tT(s,a,u,h){if(bm){var m=nT(h);if(m===null)jv(s,a,h,wm,u),oR(s,h);else if(WL(m,s,a,u,h))h.stopPropagation();else if(oR(s,h),a&4&&-1<KL.indexOf(s)){for(;m!==null;){var y=sr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=Ki(y.pendingLanes);if(b!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var V=1<<31-Pn(b);S.entanglements[1]|=V,b&=~V}vr(y),(tt&6)===0&&(am=Si()+500,qh(0))}}break;case 13:S=Zl(y,2),S!==null&&yi(S,y,2),lm(),eT(y,2)}if(y=nT(h),y===null&&jv(s,a,h,wm,u),y===m)break;m=y}m!==null&&h.stopPropagation()}else jv(s,a,h,null,u)}}function nT(s){return s=Ci(s),iT(s)}var wm=null;function iT(s){if(wm=null,s=Kr(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return wm=s,null}function aR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(a_()){case Wc:return 2;case kl:return 8;case io:case o_:return 32;case Nl:return 268435456;default:return 32}default:return 32}}var rT=!1,ha=null,da=null,fa=null,Xh=new Map,Jh=new Map,pa=[],KL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oR(s,a){switch(s){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Xh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(a.pointerId)}}function Zh(s,a,u,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},a!==null&&(a=sr(a),a!==null&&sR(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function WL(s,a,u,h,m){switch(a){case"focusin":return ha=Zh(ha,s,a,u,h,m),!0;case"dragenter":return da=Zh(da,s,a,u,h,m),!0;case"mouseover":return fa=Zh(fa,s,a,u,h,m),!0;case"pointerover":var y=m.pointerId;return Xh.set(y,Zh(Xh.get(y)||null,s,a,u,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Jh.set(y,Zh(Jh.get(y)||null,s,a,u,h,m)),!0}return!1}function lR(s){var a=Kr(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,lp(s.priority,function(){if(u.tag===13){var h=gi();h=js(h);var m=Zl(u,h);m!==null&&yi(m,u,h),eT(u,h)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Am(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=nT(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Xr=h,u.target.dispatchEvent(h),Xr=null}else return a=sr(u),a!==null&&sR(a),s.blockedOn=u,!1;a.shift()}return!0}function uR(s,a,u){Am(s)&&u.delete(a)}function YL(){rT=!1,ha!==null&&Am(ha)&&(ha=null),da!==null&&Am(da)&&(da=null),fa!==null&&Am(fa)&&(fa=null),Xh.forEach(uR),Jh.forEach(uR)}function Sm(s,a){s.blockedOn===a&&(s.blockedOn=null,rT||(rT=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YL)))}var Im=null;function cR(s){Im!==s&&(Im=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Im===s&&(Im=null);for(var a=0;a<s.length;a+=3){var u=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(iT(h||u)===null)continue;break}var y=sr(u);y!==null&&(s.splice(a,3),a-=3,iv(y,{pending:!0,data:m,method:u.method,action:h},h,m))}}))}function ed(s){function a(V){return Sm(V,s)}ha!==null&&Sm(ha,s),da!==null&&Sm(da,s),fa!==null&&Sm(fa,s),Xh.forEach(a),Jh.forEach(a);for(var u=0;u<pa.length;u++){var h=pa[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<pa.length&&(u=pa[0],u.blockedOn===null);)lR(u),u.blockedOn===null&&pa.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var m=u[h],y=u[h+1],b=m[Wt]||null;if(typeof y=="function")b||cR(u);else if(b){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,b=y[Wt]||null)S=b.formAction;else if(iT(m)!==null)continue}else S=b.action;typeof S=="function"?u[h+1]=S:(u.splice(h,3),h-=3),cR(u)}}}function sT(s){this._internalRoot=s}Rm.prototype.render=sT.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,h=gi();iR(u,h,s,a,null,null)},Rm.prototype.unmount=sT.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;iR(s.current,2,null,s,null,null),lm(),a[Ii]=null}};function Rm(s){this._internalRoot=s}Rm.prototype.unstable_scheduleHydration=function(s){if(s){var a=qs();s={blockedOn:null,target:s,priority:a};for(var u=0;u<pa.length&&a!==0&&a<pa[u].priority;u++);pa.splice(u,0,s),u===0&&lR(s)}};var hR=e.version;if(hR!=="19.1.0")throw Error(i(527,hR,"19.1.0"));ue.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var QL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cm.isDisabled&&Cm.supportsFiber)try{Ot=Cm.inject(QL),et=Cm}catch{}}return nd.createRoot=function(s,a){if(!r(s))throw Error(i(299));var u=!1,h="",m=RS,y=CS,b=xS,S=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=tR(s,1,!1,null,null,u,h,m,y,b,S,null),s[Ii]=a.current,zv(s),new sT(a)},nd.hydrateRoot=function(s,a,u){if(!r(s))throw Error(i(299));var h=!1,m="",y=RS,b=CS,S=xS,V=null,Y=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(b=u.onCaughtError),u.onRecoverableError!==void 0&&(S=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(V=u.unstable_transitionCallbacks),u.formState!==void 0&&(Y=u.formState)),a=tR(s,1,!0,a,u??null,h,m,y,b,S,V,Y),a.context=nR(null),u=a.current,h=gi(),h=js(h),m=Xs(h),m.callback=null,Js(u,m,h),u=h,a.current.lanes=u,Gr(a,u),vr(a),s[Ii]=a.current,zv(s),new Rm(a)},nd.version="19.1.0",nd}var ER;function oU(){if(ER)return oT.exports;ER=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),oT.exports=aU(),oT.exports}var lU=oU(),U=vE();const Ze=JL(U);var id={},bR;function uU(){if(bR)return id;bR=1,Object.defineProperty(id,"__esModule",{value:!0}),id.parse=l,id.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function l(T,w){const A=new o,D=T.length;if(D<2)return A;const C=(w==null?void 0:w.decode)||g;let P=0;do{const O=T.indexOf("=",P);if(O===-1)break;const k=T.indexOf(";",P),q=k===-1?D:k;if(O>q){P=T.lastIndexOf(";",O-1)+1;continue}const j=c(T,P,O),Q=d(T,O,j),x=T.slice(j,Q);if(A[x]===void 0){let I=c(T,O+1,q),N=d(T,q,I);const L=C(T.slice(I,N));A[x]=L}P=q+1}while(P<D);return A}function c(T,w,A){do{const D=T.charCodeAt(w);if(D!==32&&D!==9)return w}while(++w<A);return A}function d(T,w,A){for(;w>A;){const D=T.charCodeAt(--w);if(D!==32&&D!==9)return w+1}return A}function f(T,w,A){const D=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const C=D(w);if(!e.test(C))throw new TypeError(`argument val is invalid: ${w}`);let P=T+"="+C;if(!A)return P;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);P+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);P+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);P+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);P+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(P+="; HttpOnly"),A.secure&&(P+="; Secure"),A.partitioned&&(P+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return P}function g(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return r.call(T)==="[object Date]"}return id}uU();var wR="popstate";function cU(n={}){function e(i,r){let{pathname:o,search:l,hash:c}=i.location;return JT("",{pathname:o,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Gd(r)}return dU(e,t,null,n)}function Rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ur(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hU(){return Math.random().toString(36).substring(2,10)}function AR(n,e){return{usr:n.state,key:n.key,idx:e}}function JT(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Cc(e):e,state:t,key:e&&e.key||i||hU()}}function Gd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Cc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function dU(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let C=g(),P=C==null?null:C-f;f=C,d&&d({action:c,location:D.location,delta:P})}function T(C,P){c="PUSH";let O=JT(D.location,C,P);f=g()+1;let k=AR(O,f),q=D.createHref(O);try{l.pushState(k,"",q)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(q)}o&&d&&d({action:c,location:D.location,delta:1})}function w(C,P){c="REPLACE";let O=JT(D.location,C,P);f=g();let k=AR(O,f),q=D.createHref(O);l.replaceState(k,"",q),o&&d&&d({action:c,location:D.location,delta:0})}function A(C){let P=r.location.origin!=="null"?r.location.origin:r.location.href,O=typeof C=="string"?C:Gd(C);return O=O.replace(/ $/,"%20"),Rt(P,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,P)}let D={get action(){return c},get location(){return n(r,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(wR,_),d=C,()=>{r.removeEventListener(wR,_),d=null}},createHref(C){return e(r,C)},createURL:A,encodeLocation(C){let P=A(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:T,replace:w,go(C){return l.go(C)}};return D}function IP(n,e,t="/"){return fU(n,e,t,!1)}function fU(n,e,t,i){let r=typeof e=="string"?Cc(e):e,o=As(r.pathname||"/",t);if(o==null)return null;let l=RP(n);pU(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=SU(o);c=wU(l[d],f,i)}return c}function RP(n,e=[],t=[],i=""){let r=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Rt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let f=Es([i,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),RP(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:EU(f,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let d of CP(o.path))r(o,l,d)}),e}function CP(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=CP(i.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function pU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bU(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var mU=/^:[\w-]+$/,gU=3,yU=2,_U=1,vU=10,TU=-2,SR=n=>n==="*";function EU(n,e){let t=n.split("/"),i=t.length;return t.some(SR)&&(i+=TU),e&&(i+=yU),t.filter(r=>!SR(r)).reduce((r,o)=>r+(mU.test(o)?gU:o===""?_U:vU),i)}function bU(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function wU(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let c=0;c<i.length;++c){let d=i[c],f=c===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=yg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),T=d.route;if(!_&&f&&t&&!i[i.length-1].route.index&&(_=yg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:Es([o,_.pathname]),pathnameBase:xU(Es([o,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(o=Es([o,_.pathnameBase]))}return l}function yg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=AU(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:_},T)=>{if(g==="*"){let A=c[T]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const w=c[T];return _&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function AU(n,e=!1,t=!0){Ur(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function SU(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ur(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function As(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function IU(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Cc(n):n;return{pathname:t?t.startsWith("/")?t:RU(t,e):e,search:PU(i),hash:DU(r)}}function RU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function dT(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CU(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xP(n){let e=CU(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function PP(n,e,t,i=!1){let r;typeof n=="string"?r=Cc(n):(r={...n},Rt(!r.pathname||!r.pathname.includes("?"),dT("?","pathname","search",r)),Rt(!r.pathname||!r.pathname.includes("#"),dT("#","pathname","hash",r)),Rt(!r.search||!r.search.includes("#"),dT("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!i&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;r.pathname=T.join("/")}c=_>=0?e[_]:"/"}let d=IU(r,c),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Es=n=>n.join("/").replace(/\/\/+/g,"/"),xU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PU=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kU(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var DP=["POST","PUT","PATCH","DELETE"];new Set(DP);var NU=["GET",...DP];new Set(NU);var xc=U.createContext(null);xc.displayName="DataRouter";var ny=U.createContext(null);ny.displayName="DataRouterState";var kP=U.createContext({isTransitioning:!1});kP.displayName="ViewTransition";var OU=U.createContext(new Map);OU.displayName="Fetchers";var VU=U.createContext(null);VU.displayName="Await";var qr=U.createContext(null);qr.displayName="Navigation";var Rf=U.createContext(null);Rf.displayName="Location";var $r=U.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var TE=U.createContext(null);TE.displayName="RouteError";function MU(n,{relative:e}={}){Rt(Cf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(qr),{hash:r,pathname:o,search:l}=Pf(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Es([t,o])),i.createHref({pathname:c,search:l,hash:r})}function Cf(){return U.useContext(Rf)!=null}function Sl(){return Rt(Cf(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Rf).location}var NP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OP(n){U.useContext(qr).static||U.useLayoutEffect(n)}function xf(){let{isDataRoute:n}=U.useContext($r);return n?YU():LU()}function LU(){Rt(Cf(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(xc),{basename:e,navigator:t}=U.useContext(qr),{matches:i}=U.useContext($r),{pathname:r}=Sl(),o=JSON.stringify(xP(i)),l=U.useRef(!1);return OP(()=>{l.current=!0}),U.useCallback((d,f={})=>{if(Ur(l.current,NP),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=PP(d,JSON.parse(o),r,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Es([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,r,n])}U.createContext(null);function VP(){let{matches:n}=U.useContext($r),e=n[n.length-1];return e?e.params:{}}function Pf(n,{relative:e}={}){let{matches:t}=U.useContext($r),{pathname:i}=Sl(),r=JSON.stringify(xP(t));return U.useMemo(()=>PP(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function UU(n,e){return MP(n,e)}function MP(n,e,t,i){var O;Rt(Cf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=U.useContext(qr),{matches:l}=U.useContext($r),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let k=_&&_.path||"";LP(f,!_||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let T=Sl(),w;if(e){let k=typeof e=="string"?Cc(e):e;Rt(g==="/"||((O=k.pathname)==null?void 0:O.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),w=k}else w=T;let A=w.pathname||"/",D=A;if(g!=="/"){let k=g.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:IP(n,{pathname:D});Ur(_||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ur(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=qU(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Es([g,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:Es([g,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,i);return e&&P?U.createElement(Rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function BU(){let n=WU(),e=kU(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,l)}var FU=U.createElement(BU,null),zU=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement($r.Provider,{value:this.props.routeContext},U.createElement(TE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jU({routeContext:n,match:e,children:t}){let i=U.useContext(xc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement($r.Provider,{value:n},t)}function qU(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t==null?void 0:t.errors;if(o!=null){let d=r.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Rt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<r.length;d++){let f=r[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:_}=t,T=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||T){l=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((d,f,g)=>{let _,T=!1,w=null,A=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||FU,l&&(c<0&&g===0?(LP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):c===g&&(T=!0,A=f.route.hydrateFallbackElement||null)));let D=e.concat(r.slice(0,g+1)),C=()=>{let P;return _?P=w:T?P=A:f.route.Component?P=U.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=d,U.createElement(jU,{match:f,routeContext:{outlet:d,matches:D,isDataRoute:t!=null},children:P})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?U.createElement(zU,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):C()},null)}function EE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $U(n){let e=U.useContext(xc);return Rt(e,EE(n)),e}function HU(n){let e=U.useContext(ny);return Rt(e,EE(n)),e}function GU(n){let e=U.useContext($r);return Rt(e,EE(n)),e}function bE(n){let e=GU(n),t=e.matches[e.matches.length-1];return Rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function KU(){return bE("useRouteId")}function WU(){var i;let n=U.useContext(TE),e=HU("useRouteError"),t=bE("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function YU(){let{router:n}=$U("useNavigate"),e=bE("useNavigate"),t=U.useRef(!1);return OP(()=>{t.current=!0}),U.useCallback(async(r,o={})=>{Ur(t.current,NP),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var IR={};function LP(n,e,t){!e&&!IR[n]&&(IR[n]=!0,Ur(!1,t))}U.memo(QU);function QU({routes:n,future:e,state:t}){return MP(n,void 0,t,e)}function gd(n){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XU({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){Rt(!Cf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=Cc(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:T="default"}=t,w=U.useMemo(()=>{let A=As(d,l);return A==null?null:{location:{pathname:A,search:f,hash:g,state:_,key:T},navigationType:i}},[l,d,f,g,_,T,i]);return Ur(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:U.createElement(qr.Provider,{value:c},U.createElement(Rf.Provider,{children:e,value:w}))}function JU({children:n,location:e}){return UU(ZT(n),e)}function ZT(n,e=[]){let t=[];return U.Children.forEach(n,(i,r)=>{if(!U.isValidElement(i))return;let o=[...e,r];if(i.type===U.Fragment){t.push.apply(t,ZT(i.props.children,o));return}Rt(i.type===gd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ZT(i.props.children,o)),t.push(l)}),t}var Km="get",Wm="application/x-www-form-urlencoded";function iy(n){return n!=null&&typeof n.tagName=="string"}function ZU(n){return iy(n)&&n.tagName.toLowerCase()==="button"}function e4(n){return iy(n)&&n.tagName.toLowerCase()==="form"}function t4(n){return iy(n)&&n.tagName.toLowerCase()==="input"}function n4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function i4(n,e){return n.button===0&&(!e||e==="_self")&&!n4(n)}var xm=null;function r4(){if(xm===null)try{new FormData(document.createElement("form"),0),xm=!1}catch{xm=!0}return xm}var s4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fT(n){return n!=null&&!s4.has(n)?(Ur(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wm}"`),null):n}function a4(n,e){let t,i,r,o,l;if(e4(n)){let c=n.getAttribute("action");i=c?As(c,e):null,t=n.getAttribute("method")||Km,r=fT(n.getAttribute("enctype"))||Wm,o=new FormData(n)}else if(ZU(n)||t4(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(i=d?As(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Km,r=fT(n.getAttribute("formenctype"))||fT(c.getAttribute("enctype"))||Wm,o=new FormData(c,n),!r4()){let{name:f,type:g,value:_}=n;if(g==="image"){let T=f?`${f}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else f&&o.append(f,_)}}else{if(iy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Km,i=null,r=Wm,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}function wE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function o4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function u4(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await o4(o,t);return l.links?l.links():[]}return[]}));return f4(i.flat(1).filter(l4).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function RR(n,e,t,i,r,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function c4(n,e,{includeHydrateFallback:t}={}){return h4(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function h4(n){return[...new Set(n)]}function d4(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function f4(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(d4(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}var p4=new Set([100,101,204,205]);function m4(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&As(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function UP(){let n=U.useContext(xc);return wE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function g4(){let n=U.useContext(ny);return wE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var AE=U.createContext(void 0);AE.displayName="FrameworkContext";function BP(){let n=U.useContext(AE);return wE(n,"You must render this element inside a <HydratedRouter> element"),n}function y4(n,e){let t=U.useContext(AE),[i,r]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,T=U.useRef(null);U.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let D=P=>{P.forEach(O=>{l(O.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return T.current&&C.observe(T.current),()=>{C.disconnect()}}},[n]),U.useEffect(()=>{if(i){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[i]);let w=()=>{r(!0)},A=()=>{r(!1),l(!1)};return t?n!=="intent"?[o,T,{}]:[o,T,{onFocus:rd(c,w),onBlur:rd(d,A),onMouseEnter:rd(f,w),onMouseLeave:rd(g,A),onTouchStart:rd(_,w)}]:[!1,T,{}]}function rd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _4({page:n,...e}){let{router:t}=UP(),i=U.useMemo(()=>IP(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(T4,{page:n,matches:i,...e}):null}function v4(n){let{manifest:e,routeModules:t}=BP(),[i,r]=U.useState([]);return U.useEffect(()=>{let o=!1;return u4(n,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[n,e,t]),i}function T4({page:n,matches:e,...t}){let i=Sl(),{manifest:r,routeModules:o}=BP(),{basename:l}=UP(),{loaderData:c,matches:d}=g4(),f=U.useMemo(()=>RR(n,e,d,r,i,"data"),[n,e,d,r,i]),g=U.useMemo(()=>RR(n,e,d,r,i,"assets"),[n,e,d,r,i]),_=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,D=!1;if(e.forEach(P=>{var k;let O=r.routes[P.route.id];!O||!O.hasLoader||(!f.some(q=>q.route.id===P.route.id)&&P.route.id in c&&((k=o[P.route.id])!=null&&k.shouldRevalidate)||O.hasClientLoader?D=!0:A.add(P.route.id))}),A.size===0)return[];let C=m4(n,l);return D&&A.size>0&&C.searchParams.set("_routes",e.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[l,c,i,r,f,e,n,o]),T=U.useMemo(()=>c4(g,r),[g,r]),w=v4(g);return U.createElement(U.Fragment,null,_.map(A=>U.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),T.map(A=>U.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),w.map(({key:A,link:D})=>U.createElement("link",{key:A,...D})))}function E4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FP&&(window.__reactRouterVersion="7.5.3")}catch{}function b4({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=cU({window:t,v5Compat:!0}));let r=i.current,[o,l]=U.useState({action:r.action,location:r.location}),c=U.useCallback(d=>{U.startTransition(()=>l(d))},[l]);return U.useLayoutEffect(()=>r.listen(c),[r,c]),U.createElement(XU,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var zP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jP=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:g,viewTransition:_,...T},w){let{basename:A}=U.useContext(qr),D=typeof f=="string"&&zP.test(f),C,P=!1;if(typeof f=="string"&&D&&(C=f,FP))try{let N=new URL(window.location.href),L=f.startsWith("//")?new URL(N.protocol+f):new URL(f),F=As(L.pathname,A);L.origin===N.origin&&F!=null?f=F+L.search+L.hash:P=!0}catch{Ur(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=MU(f,{relative:r}),[k,q,j]=y4(i,T),Q=I4(f,{replace:l,state:c,target:d,preventScrollReset:g,relative:r,viewTransition:_});function x(N){e&&e(N),N.defaultPrevented||Q(N)}let I=U.createElement("a",{...T,...j,href:C||O,onClick:P||o?e:x,ref:E4(w,q),target:d,"data-discover":!D&&t==="render"?"true":void 0});return k&&!D?U.createElement(U.Fragment,null,I,U.createElement(_4,{page:O})):I});jP.displayName="Link";var w4=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:c,children:d,...f},g){let _=Pf(l,{relative:f.relative}),T=Sl(),w=U.useContext(ny),{navigator:A,basename:D}=U.useContext(qr),C=w!=null&&D4(_)&&c===!0,P=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,O=T.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(O=O.toLowerCase(),k=k?k.toLowerCase():null,P=P.toLowerCase()),k&&D&&(k=As(k,D)||k);const q=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let j=O===P||!r&&O.startsWith(P)&&O.charAt(q)==="/",Q=k!=null&&(k===P||!r&&k.startsWith(P)&&k.charAt(P.length)==="/"),x={isActive:j,isPending:Q,isTransitioning:C},I=j?e:void 0,N;typeof i=="function"?N=i(x):N=[i,j?"active":null,Q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(x):o;return U.createElement(jP,{...f,"aria-current":I,className:N,ref:g,style:L,to:l,viewTransition:c},typeof d=="function"?d(x):d)});w4.displayName="NavLink";var A4=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=Km,action:c,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...T},w)=>{let A=x4(),D=P4(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&zP.test(c),O=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let q=k.nativeEvent.submitter,j=(q==null?void 0:q.getAttribute("formmethod"))||l;A(q||k.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:r,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return U.createElement("form",{ref:w,method:C,action:D,onSubmit:i?d:O,...T,"data-discover":!P&&n==="render"?"true":void 0})});A4.displayName="Form";function S4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qP(n){let e=U.useContext(xc);return Rt(e,S4(n)),e}function I4(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let c=xf(),d=Sl(),f=Pf(n,{relative:o});return U.useCallback(g=>{if(i4(g,e)){g.preventDefault();let _=t!==void 0?t:Gd(d)===Gd(f);c(n,{replace:_,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[d,c,f,t,i,e,n,r,o,l])}var R4=0,C4=()=>`__${String(++R4)}__`;function x4(){let{router:n}=qP("useSubmit"),{basename:e}=U.useContext(qr),t=KU();return U.useCallback(async(i,r={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=a4(i,e);if(r.navigate===!1){let g=r.fetcherKey||C4();await n.fetch(g,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function P4(n,{relative:e}={}){let{basename:t}=U.useContext(qr),i=U.useContext($r);Rt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Pf(n||".",{relative:e})},l=Sl();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Es([t,o.pathname])),Gd(o)}function D4(n,e={}){let t=U.useContext(kP);Rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qP("useViewTransitionState"),r=Pf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=As(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=As(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yg(r.pathname,l)!=null||yg(r.pathname,o)!=null}new TextEncoder;[...p4];var ri=function(){return ri=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ri.apply(this,arguments)};function SE(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function _g(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}var ft="-ms-",Rd="-moz-",Je="-webkit-",$P="comm",ry="rule",IE="decl",k4="@import",HP="@keyframes",N4="@layer",GP=Math.abs,RE=String.fromCharCode,e0=Object.assign;function O4(n,e){return gn(n,0)^45?(((e<<2^gn(n,0))<<2^gn(n,1))<<2^gn(n,2))<<2^gn(n,3):0}function KP(n){return n.trim()}function gs(n,e){return(n=e.exec(n))?n[0]:n}function Oe(n,e,t){return n.replace(e,t)}function Ym(n,e,t){return n.indexOf(e,t)}function gn(n,e){return n.charCodeAt(e)|0}function Zu(n,e,t){return n.slice(e,t)}function Er(n){return n.length}function WP(n){return n.length}function yd(n,e){return e.push(n),n}function V4(n,e){return n.map(e).join("")}function CR(n,e){return n.filter(function(t){return!gs(t,e)})}var sy=1,ec=1,YP=0,$i=0,en=0,Pc="";function ay(n,e,t,i,r,o,l,c){return{value:n,root:e,parent:t,type:i,props:r,children:o,line:sy,column:ec,length:l,return:"",siblings:c}}function Ea(n,e){return e0(ay("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Au(n){for(;n.root;)n=Ea(n.root,{children:[n]});yd(n,n.siblings)}function M4(){return en}function L4(){return en=$i>0?gn(Pc,--$i):0,ec--,en===10&&(ec=1,sy--),en}function nr(){return en=$i<YP?gn(Pc,$i++):0,ec++,en===10&&(ec=1,sy++),en}function nl(){return gn(Pc,$i)}function Qm(){return $i}function oy(n,e){return Zu(Pc,n,e)}function t0(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function U4(n){return sy=ec=1,YP=Er(Pc=n),$i=0,[]}function B4(n){return Pc="",n}function pT(n){return KP(oy($i-1,n0(n===91?n+2:n===40?n+1:n)))}function F4(n){for(;(en=nl())&&en<33;)nr();return t0(n)>2||t0(en)>3?"":" "}function z4(n,e){for(;--e&&nr()&&!(en<48||en>102||en>57&&en<65||en>70&&en<97););return oy(n,Qm()+(e<6&&nl()==32&&nr()==32))}function n0(n){for(;nr();)switch(en){case n:return $i;case 34:case 39:n!==34&&n!==39&&n0(en);break;case 40:n===41&&n0(n);break;case 92:nr();break}return $i}function j4(n,e){for(;nr()&&n+en!==57;)if(n+en===84&&nl()===47)break;return"/*"+oy(e,$i-1)+"*"+RE(n===47?n:nr())}function q4(n){for(;!t0(nl());)nr();return oy(n,$i)}function $4(n){return B4(Xm("",null,null,null,[""],n=U4(n),0,[0],n))}function Xm(n,e,t,i,r,o,l,c,d){for(var f=0,g=0,_=l,T=0,w=0,A=0,D=1,C=1,P=1,O=0,k="",q=r,j=o,Q=i,x=k;C;)switch(A=O,O=nr()){case 40:if(A!=108&&gn(x,_-1)==58){Ym(x+=Oe(pT(O),"&","&\f"),"&\f",GP(f?c[f-1]:0))!=-1&&(P=-1);break}case 34:case 39:case 91:x+=pT(O);break;case 9:case 10:case 13:case 32:x+=F4(A);break;case 92:x+=z4(Qm()-1,7);continue;case 47:switch(nl()){case 42:case 47:yd(H4(j4(nr(),Qm()),e,t,d),d);break;default:x+="/"}break;case 123*D:c[f++]=Er(x)*P;case 125*D:case 59:case 0:switch(O){case 0:case 125:C=0;case 59+g:P==-1&&(x=Oe(x,/\f/g,"")),w>0&&Er(x)-_&&yd(w>32?PR(x+";",i,t,_-1,d):PR(Oe(x," ","")+";",i,t,_-2,d),d);break;case 59:x+=";";default:if(yd(Q=xR(x,e,t,f,g,r,c,k,q=[],j=[],_,o),o),O===123)if(g===0)Xm(x,e,Q,Q,q,o,_,c,j);else switch(T===99&&gn(x,3)===110?100:T){case 100:case 108:case 109:case 115:Xm(n,Q,Q,i&&yd(xR(n,Q,Q,0,0,r,c,k,r,q=[],_,j),j),r,j,_,c,i?q:j);break;default:Xm(x,Q,Q,Q,[""],j,0,c,j)}}f=g=w=0,D=P=1,k=x="",_=l;break;case 58:_=1+Er(x),w=A;default:if(D<1){if(O==123)--D;else if(O==125&&D++==0&&L4()==125)continue}switch(x+=RE(O),O*D){case 38:P=g>0?1:(x+="\f",-1);break;case 44:c[f++]=(Er(x)-1)*P,P=1;break;case 64:nl()===45&&(x+=pT(nr())),T=nl(),g=_=Er(k=x+=q4(Qm())),O++;break;case 45:A===45&&Er(x)==2&&(D=0)}}return o}function xR(n,e,t,i,r,o,l,c,d,f,g,_){for(var T=r-1,w=r===0?o:[""],A=WP(w),D=0,C=0,P=0;D<i;++D)for(var O=0,k=Zu(n,T+1,T=GP(C=l[D])),q=n;O<A;++O)(q=KP(C>0?w[O]+" "+k:Oe(k,/&\f/g,w[O])))&&(d[P++]=q);return ay(n,e,t,r===0?ry:c,d,f,g,_)}function H4(n,e,t,i){return ay(n,e,t,$P,RE(M4()),Zu(n,2,-2),0,i)}function PR(n,e,t,i,r){return ay(n,e,t,IE,Zu(n,0,i),Zu(n,i+1,-1),i,r)}function QP(n,e,t){switch(O4(n,e)){case 5103:return Je+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Je+n+n;case 4789:return Rd+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Je+n+Rd+n+ft+n+n;case 5936:switch(gn(n,e+11)){case 114:return Je+n+ft+Oe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Je+n+ft+Oe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Je+n+ft+Oe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Je+n+ft+n+n;case 6165:return Je+n+ft+"flex-"+n+n;case 5187:return Je+n+Oe(n,/(\w+).+(:[^]+)/,Je+"box-$1$2"+ft+"flex-$1$2")+n;case 5443:return Je+n+ft+"flex-item-"+Oe(n,/flex-|-self/g,"")+(gs(n,/flex-|baseline/)?"":ft+"grid-row-"+Oe(n,/flex-|-self/g,""))+n;case 4675:return Je+n+ft+"flex-line-pack"+Oe(n,/align-content|flex-|-self/g,"")+n;case 5548:return Je+n+ft+Oe(n,"shrink","negative")+n;case 5292:return Je+n+ft+Oe(n,"basis","preferred-size")+n;case 6060:return Je+"box-"+Oe(n,"-grow","")+Je+n+ft+Oe(n,"grow","positive")+n;case 4554:return Je+Oe(n,/([^-])(transform)/g,"$1"+Je+"$2")+n;case 6187:return Oe(Oe(Oe(n,/(zoom-|grab)/,Je+"$1"),/(image-set)/,Je+"$1"),n,"")+n;case 5495:case 3959:return Oe(n,/(image-set\([^]*)/,Je+"$1$`$1");case 4968:return Oe(Oe(n,/(.+:)(flex-)?(.*)/,Je+"box-pack:$3"+ft+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Je+n+n;case 4200:if(!gs(n,/flex-|baseline/))return ft+"grid-column-align"+Zu(n,e)+n;break;case 2592:case 3360:return ft+Oe(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,r){return e=r,gs(i.props,/grid-\w+-end/)})?~Ym(n+(t=t[e].value),"span",0)?n:ft+Oe(n,"-start","")+n+ft+"grid-row-span:"+(~Ym(t,"span",0)?gs(t,/\d+/):+gs(t,/\d+/)-+gs(n,/\d+/))+";":ft+Oe(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return gs(i.props,/grid-\w+-start/)})?n:ft+Oe(Oe(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Oe(n,/(.+)-inline(.+)/,Je+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Er(n)-1-e>6)switch(gn(n,e+1)){case 109:if(gn(n,e+4)!==45)break;case 102:return Oe(n,/(.+:)(.+)-([^]+)/,"$1"+Je+"$2-$3$1"+Rd+(gn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ym(n,"stretch",0)?QP(Oe(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Oe(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,r,o,l,c,d,f){return ft+r+":"+o+f+(l?ft+r+"-span:"+(c?d:+d-+o)+f:"")+n});case 4949:if(gn(n,e+6)===121)return Oe(n,":",":"+Je)+n;break;case 6444:switch(gn(n,gn(n,14)===45?18:11)){case 120:return Oe(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Je+(gn(n,14)===45?"inline-":"")+"box$3$1"+Je+"$2$3$1"+ft+"$2box$3")+n;case 100:return Oe(n,":",":"+ft)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Oe(n,"scroll-","scroll-snap-")+n}return n}function vg(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function G4(n,e,t,i){switch(n.type){case N4:if(n.children.length)break;case k4:case IE:return n.return=n.return||n.value;case $P:return"";case HP:return n.return=n.value+"{"+vg(n.children,i)+"}";case ry:if(!Er(n.value=n.props.join(",")))return""}return Er(t=vg(n.children,i))?n.return=n.value+"{"+t+"}":""}function K4(n){var e=WP(n);return function(t,i,r,o){for(var l="",c=0;c<e;c++)l+=n[c](t,i,r,o)||"";return l}}function W4(n){return function(e){e.root||(e=e.return)&&n(e)}}function Y4(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case IE:n.return=QP(n.value,n.length,t);return;case HP:return vg([Ea(n,{value:Oe(n.value,"@","@"+Je)})],i);case ry:if(n.length)return V4(t=n.props,function(r){switch(gs(r,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Au(Ea(n,{props:[Oe(r,/:(read-\w+)/,":"+Rd+"$1")]})),Au(Ea(n,{props:[r]})),e0(n,{props:CR(t,i)});break;case"::placeholder":Au(Ea(n,{props:[Oe(r,/:(plac\w+)/,":"+Je+"input-$1")]})),Au(Ea(n,{props:[Oe(r,/:(plac\w+)/,":"+Rd+"$1")]})),Au(Ea(n,{props:[Oe(r,/:(plac\w+)/,ft+"input-$1")]})),Au(Ea(n,{props:[r]})),e0(n,{props:CR(t,i)});break}return""})}}var Q4={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_i={},tc=typeof process<"u"&&_i!==void 0&&(_i.REACT_APP_SC_ATTR||_i.SC_ATTR)||"data-styled",XP="active",JP="data-styled-version",ly="6.1.16",CE=`/*!sc*/
`,Tg=typeof window<"u"&&"HTMLElement"in window,X4=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&_i!==void 0&&_i.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&_i.REACT_APP_SC_DISABLE_SPEEDY!==""?_i.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&_i.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&_i!==void 0&&_i.SC_DISABLE_SPEEDY!==void 0&&_i.SC_DISABLE_SPEEDY!==""&&_i.SC_DISABLE_SPEEDY!=="false"&&_i.SC_DISABLE_SPEEDY),uy=Object.freeze([]),nc=Object.freeze({});function J4(n,e,t){return t===void 0&&(t=nc),n.theme!==t.theme&&n.theme||e||t.theme}var ZP=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Z4=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,eB=/(^-|-$)/g;function DR(n){return n.replace(Z4,"-").replace(eB,"")}var tB=/(a)(d)/gi,Pm=52,kR=function(n){return String.fromCharCode(n+(n>25?39:97))};function i0(n){var e,t="";for(e=Math.abs(n);e>Pm;e=e/Pm|0)t=kR(e%Pm)+t;return(kR(e%Pm)+t).replace(tB,"$1-$2")}var mT,eD=5381,Uu=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},tD=function(n){return Uu(eD,n)};function nB(n){return i0(tD(n)>>>0)}function iB(n){return n.displayName||n.name||"Component"}function gT(n){return typeof n=="string"&&!0}var nD=typeof Symbol=="function"&&Symbol.for,iD=nD?Symbol.for("react.memo"):60115,rB=nD?Symbol.for("react.forward_ref"):60112,sB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oB=((mT={})[rB]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mT[iD]=rD,mT);function NR(n){return("type"in(e=n)&&e.type.$$typeof)===iD?rD:"$$typeof"in n?oB[n.$$typeof]:sB;var e}var lB=Object.defineProperty,uB=Object.getOwnPropertyNames,OR=Object.getOwnPropertySymbols,cB=Object.getOwnPropertyDescriptor,hB=Object.getPrototypeOf,VR=Object.prototype;function sD(n,e,t){if(typeof e!="string"){if(VR){var i=hB(e);i&&i!==VR&&sD(n,i,t)}var r=uB(e);OR&&(r=r.concat(OR(e)));for(var o=NR(n),l=NR(e),c=0;c<r.length;++c){var d=r[c];if(!(d in aB||t&&t[d]||l&&d in l||o&&d in o)){var f=cB(e,d);try{lB(n,d,f)}catch{}}}}return n}function ic(n){return typeof n=="function"}function xE(n){return typeof n=="object"&&"styledComponentId"in n}function Yo(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function MR(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function Kd(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function r0(n,e,t){if(t===void 0&&(t=!1),!t&&!Kd(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=r0(n[i],e[i]);else if(Kd(e))for(var i in e)n[i]=r0(n[i],e[i]);return n}function PE(n,e){Object.defineProperty(n,"toString",{value:e})}function Df(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var dB=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,o=r;e>=o;)if((o<<=1)<0)throw Df(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var l=r;l<o;l++)this.groupSizes[l]=0}for(var c=this.indexOfGroup(e+1),d=(l=0,t.length);l<d;l++)this.tag.insertRule(c,t[l])&&(this.groupSizes[e]++,c++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var o=i;o<r;o++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),o=r+i,l=r;l<o;l++)t+="".concat(this.tag.getRule(l)).concat(CE);return t},n}(),Jm=new Map,Eg=new Map,Zm=1,Dm=function(n){if(Jm.has(n))return Jm.get(n);for(;Eg.has(Zm);)Zm++;var e=Zm++;return Jm.set(n,e),Eg.set(e,n),e},fB=function(n,e){Zm=e+1,Jm.set(n,e),Eg.set(e,n)},pB="style[".concat(tc,"][").concat(JP,'="').concat(ly,'"]'),mB=new RegExp("^".concat(tc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),gB=function(n,e,t){for(var i,r=t.split(","),o=0,l=r.length;o<l;o++)(i=r[o])&&n.registerName(e,i)},yB=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(CE),r=[],o=0,l=i.length;o<l;o++){var c=i[o].trim();if(c){var d=c.match(mB);if(d){var f=0|parseInt(d[1],10),g=d[2];f!==0&&(fB(g,f),gB(n,g,d[3]),n.getTag().insertRules(f,r)),r.length=0}else r.push(c)}}},LR=function(n){for(var e=document.querySelectorAll(pB),t=0,i=e.length;t<i;t++){var r=e[t];r&&r.getAttribute(tc)!==XP&&(yB(n,r),r.parentNode&&r.parentNode.removeChild(r))}};function _B(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var aD=function(n){var e=document.head,t=n||e,i=document.createElement("style"),r=function(c){var d=Array.from(c.querySelectorAll("style[".concat(tc,"]")));return d[d.length-1]}(t),o=r!==void 0?r.nextSibling:null;i.setAttribute(tc,XP),i.setAttribute(JP,ly);var l=_B();return l&&i.setAttribute("nonce",l),t.insertBefore(i,o),i},vB=function(){function n(e){this.element=aD(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,r=0,o=i.length;r<o;r++){var l=i[r];if(l.ownerNode===t)return l}throw Df(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),TB=function(){function n(e){this.element=aD(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),EB=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),UR=Tg,bB={isServer:!Tg,useCSSOMInjection:!X4},oD=function(){function n(e,t,i){e===void 0&&(e=nc),t===void 0&&(t={});var r=this;this.options=ri(ri({},bB),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Tg&&UR&&(UR=!1,LR(this)),PE(this,function(){return function(o){for(var l=o.getTag(),c=l.length,d="",f=function(_){var T=function(P){return Eg.get(P)}(_);if(T===void 0)return"continue";var w=o.names.get(T),A=l.getGroup(_);if(w===void 0||!w.size||A.length===0)return"continue";var D="".concat(tc,".g").concat(_,'[id="').concat(T,'"]'),C="";w!==void 0&&w.forEach(function(P){P.length>0&&(C+="".concat(P,","))}),d+="".concat(A).concat(D,'{content:"').concat(C,'"}').concat(CE)},g=0;g<c;g++)f(g);return d}(r)})}return n.registerId=function(e){return Dm(e)},n.prototype.rehydrate=function(){!this.server&&Tg&&LR(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(ri(ri({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,r=t.target;return t.isServer?new EB(r):i?new vB(r):new TB(r)}(this.options),new dB(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Dm(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(Dm(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Dm(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),wB=/&/g,AB=/^\s*\/\/.*$/gm;function lD(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=lD(t.children,e)),t})}function SB(n){var e,t,i,r=nc,o=r.options,l=o===void 0?nc:o,c=r.plugins,d=c===void 0?uy:c,f=function(T,w,A){return A.startsWith(t)&&A.endsWith(t)&&A.replaceAll(t,"").length>0?".".concat(e):T},g=d.slice();g.push(function(T){T.type===ry&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(wB,t).replace(i,f))}),l.prefix&&g.push(Y4),g.push(G4);var _=function(T,w,A,D){w===void 0&&(w=""),A===void 0&&(A=""),D===void 0&&(D="&"),e=D,t=w,i=new RegExp("\\".concat(t,"\\b"),"g");var C=T.replace(AB,""),P=$4(A||w?"".concat(A," ").concat(w," { ").concat(C," }"):C);l.namespace&&(P=lD(P,l.namespace));var O=[];return vg(P,K4(g.concat(W4(function(k){return O.push(k)})))),O};return _.hash=d.length?d.reduce(function(T,w){return w.name||Df(15),Uu(T,w.name)},eD).toString():"",_}var IB=new oD,s0=SB(),uD=Ze.createContext({shouldForwardProp:void 0,styleSheet:IB,stylis:s0});uD.Consumer;Ze.createContext(void 0);function BR(){return U.useContext(uD)}var RB=function(){function n(e,t){var i=this;this.inject=function(r,o){o===void 0&&(o=s0);var l=i.name+o.hash;r.hasNameForId(i.id,l)||r.insertRules(i.id,l,o(i.rules,l,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,PE(this,function(){throw Df(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=s0),this.name+e.hash},n}(),CB=function(n){return n>="A"&&n<="Z"};function FR(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;CB(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var cD=function(n){return n==null||n===!1||n===""},hD=function(n){var e,t,i=[];for(var r in n){var o=n[r];n.hasOwnProperty(r)&&!cD(o)&&(Array.isArray(o)&&o.isCss||ic(o)?i.push("".concat(FR(r),":"),o,";"):Kd(o)?i.push.apply(i,_g(_g(["".concat(r," {")],hD(o),!1),["}"],!1)):i.push("".concat(FR(r),": ").concat((e=r,(t=o)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in Q4||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function il(n,e,t,i){if(cD(n))return[];if(xE(n))return[".".concat(n.styledComponentId)];if(ic(n)){if(!ic(o=n)||o.prototype&&o.prototype.isReactComponent||!e)return[n];var r=n(e);return il(r,e,t,i)}var o;return n instanceof RB?t?(n.inject(t,i),[n.getName(i)]):[n]:Kd(n)?hD(n):Array.isArray(n)?Array.prototype.concat.apply(uy,n.map(function(l){return il(l,e,t,i)})):[n.toString()]}function xB(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(ic(t)&&!xE(t))return!1}return!0}var PB=tD(ly),DB=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&xB(e),this.componentId=t,this.baseHash=Uu(PB,t),this.baseStyle=i,oD.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Yo(r,this.staticRulesId);else{var o=MR(il(this.rules,e,t,i)),l=i0(Uu(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,l)){var c=i(o,".".concat(l),void 0,this.componentId);t.insertRules(this.componentId,l,c)}r=Yo(r,l),this.staticRulesId=l}else{for(var d=Uu(this.baseHash,i.hash),f="",g=0;g<this.rules.length;g++){var _=this.rules[g];if(typeof _=="string")f+=_;else if(_){var T=MR(il(_,e,t,i));d=Uu(d,T+g),f+=T}}if(f){var w=i0(d>>>0);t.hasNameForId(this.componentId,w)||t.insertRules(this.componentId,w,i(f,".".concat(w),void 0,this.componentId)),r=Yo(r,w)}}return r},n}(),dD=Ze.createContext(void 0);dD.Consumer;var yT={};function kB(n,e,t){var i=xE(n),r=n,o=!gT(n),l=e.attrs,c=l===void 0?uy:l,d=e.componentId,f=d===void 0?function(q,j){var Q=typeof q!="string"?"sc":DR(q);yT[Q]=(yT[Q]||0)+1;var x="".concat(Q,"-").concat(nB(ly+Q+yT[Q]));return j?"".concat(j,"-").concat(x):x}(e.displayName,e.parentComponentId):d,g=e.displayName,_=g===void 0?function(q){return gT(q)?"styled.".concat(q):"Styled(".concat(iB(q),")")}(n):g,T=e.displayName&&e.componentId?"".concat(DR(e.displayName),"-").concat(e.componentId):e.componentId||f,w=i&&r.attrs?r.attrs.concat(c).filter(Boolean):c,A=e.shouldForwardProp;if(i&&r.shouldForwardProp){var D=r.shouldForwardProp;if(e.shouldForwardProp){var C=e.shouldForwardProp;A=function(q,j){return D(q,j)&&C(q,j)}}else A=D}var P=new DB(t,T,i?r.componentStyle:void 0);function O(q,j){return function(Q,x,I){var N=Q.attrs,L=Q.componentStyle,F=Q.defaultProps,$=Q.foldedComponentIds,M=Q.styledComponentId,yt=Q.target,st=Ze.useContext(dD),ne=BR(),ue=Q.shouldForwardProp||ne.shouldForwardProp,ge=J4(x,st,F)||nc,Pe=function(De,Ae,At){for(var Ke,un=ri(ri({},Ae),{className:void 0,theme:At}),Ai=0;Ai<De.length;Ai+=1){var Zn=ic(Ke=De[Ai])?Ke(un):Ke;for(var xn in Zn)un[xn]=xn==="className"?Yo(un[xn],Zn[xn]):xn==="style"?ri(ri({},un[xn]),Zn[xn]):Zn[xn]}return Ae.className&&(un.className=Yo(un.className,Ae.className)),un}(N,x,ge),B=Pe.as||yt,ae={};for(var de in Pe)Pe[de]===void 0||de[0]==="$"||de==="as"||de==="theme"&&Pe.theme===ge||(de==="forwardedAs"?ae.as=Pe.forwardedAs:ue&&!ue(de,B)||(ae[de]=Pe[de]));var he=function(De,Ae){var At=BR(),Ke=De.generateAndInjectStyles(Ae,At.styleSheet,At.stylis);return Ke}(L,Pe),be=Yo($,M);return he&&(be+=" "+he),Pe.className&&(be+=" "+Pe.className),ae[gT(B)&&!ZP.has(B)?"class":"className"]=be,I&&(ae.ref=I),U.createElement(B,ae)}(k,q,j)}O.displayName=_;var k=Ze.forwardRef(O);return k.attrs=w,k.componentStyle=P,k.displayName=_,k.shouldForwardProp=A,k.foldedComponentIds=i?Yo(r.foldedComponentIds,r.styledComponentId):"",k.styledComponentId=T,k.target=i?r.target:n,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(q){this._foldedDefaultProps=i?function(j){for(var Q=[],x=1;x<arguments.length;x++)Q[x-1]=arguments[x];for(var I=0,N=Q;I<N.length;I++)r0(j,N[I],!0);return j}({},r.defaultProps,q):q}}),PE(k,function(){return".".concat(k.styledComponentId)}),o&&sD(k,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function zR(n,e){for(var t=[n[0]],i=0,r=e.length;i<r;i+=1)t.push(e[i],n[i+1]);return t}var jR=function(n){return Object.assign(n,{isCss:!0})};function NB(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(ic(n)||Kd(n))return jR(il(zR(uy,_g([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?il(i):jR(il(zR(i,e)))}function a0(n,e,t){if(t===void 0&&(t=nc),!e)throw Df(1,e);var i=function(r){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];return n(e,t,NB.apply(void 0,_g([r],o,!1)))};return i.attrs=function(r){return a0(n,e,ri(ri({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},i.withConfig=function(r){return a0(n,e,ri(ri({},t),r))},i}var fD=function(n){return a0(kB,n)},kt=fD;ZP.forEach(function(n){kt[n]=fD(n)});const OB={"급한 작업":{text:"#EF4444",bg:"#FAE3DE",dot:"#EF4444"},"진행 작업":{text:"#F59E0B",bg:"#FAEDCC",dot:"#F59E0B"},"완료 작업":{text:"#10B981",bg:"#DFEDDD",dot:"#10B981"},"보류 작업":{text:"#3B82F6",bg:"#D3E7F2",dot:"#3B82F6"},"전체 작업":{text:"#6B7280",bg:"#E5E7EB",dot:"#9CA3AF"}},VB=kt.button`
  white-space: nowrap;
  min-height: 32px;
  min-width: 120px;
  max-width: 140px;
  font-size: 16px;
  padding: 10px 12px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-weight: 600;
  cursor: pointer;
  border: 2px solid transparent;
  background-color: ${({bg:n})=>n};
  color: ${({text:n})=>n};
  line-height: 16px;

  ${({select:n,dot:e})=>n&&`
    box-shadow: 0 0 0 1.5px ${e} inset;
  `}
`,MB=kt.span`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: ${({dot:n})=>n};
  display: inline-block;
`;function wr({status:n,select:e,count:t}){const i=OB[n]||"전체 작업";return te.jsxs(VB,{bg:i.bg,text:i.text,dot:i.dot,select:e,children:[te.jsx(MB,{dot:i.dot}),n," ",typeof t=="number"?`(${t})`:""]})}const LB=kt.button`
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;

  background-color: ${({iconName:n})=>n==="send"?"#0077D4":"#EEEDEB"};

  .icon {
    font-size: 24px;
    color: ${({iconName:n})=>n==="send"?"#ffffff":"#333333"};
  }
`;function Hu({iconName:n,onClick:e=!1}){return te.jsx(LB,{onClick:e,iconName:n,children:te.jsx("span",{className:"material-symbols-outlined icon",children:n})})}const UB=kt.button`
  color: #ffffff;
  background-color: #0077d4;
  padding: 12px 18px;
  min-width: 120px;
  min-height: 40px;
  max-height: 40px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  border: none;
  cursor: pointer;
  align-items: center;

  .icon {
    font-size: 24px;
  }
`;function DE({type:n,onClick:e}){const t={write:"add",share:"check",edit:"edit"},i={write:"New Log",share:"Share Log",edit:"Edit Log"};return te.jsxs(UB,{onClick:e,children:[te.jsx("span",{className:"material-symbols-outlined",children:t[n]}),i[n]]})}const BB={"급한 작업":{text:"#EF4444",bg:"#FAE3DE"},"진행 작업":{text:"#F59E0B",bg:"#FAEDCC"},"완료 작업":{text:"#10B981",bg:"#DFEDDD"},"보류 작업":{text:"#3B82F6",bg:"#D3E7F2"},"전체 작업":{text:"#6B7280",bg:"#E5E7EB"}};function FB({status:n}){const e=BB[n]||"전체 작업";return te.jsx("span",{style:{whiteSpace:"nowrap",maxWidth:"72px",fontSize:"14px",padding:"4px 8px",borderRadius:"8px",backgroundColor:e.bg,color:e.text,display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"6px",fontWeight:500},children:n})}const zB=kt.div`
  background-color: #ffffff;
  border: 1px solid #EEEDEB;
  width: 224px;
  height: 320px;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  overflow: hidden;
  cursor: pointer;
`,jB=kt.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  margin: 0px 12px;
  height: 152px;
`,qB=kt.p`
  font-weight: 700;
  font-size: 20px;
  text-align: justify;
`,$B=kt.p`
  font-size: 12px;
  color: #777777;
`,HB=kt.div`
  height: 132px;
  width: 100%;
  overflow: hidden;
`,GB={"급한 작업":"#EF4444","진행 작업":"#F59E0B","완료 작업":"#10B981","보류 작업":"#3B82F6","전체 작업":"#6B7280"};function KB({post:n}){const{title:e,status:t,id:i}=n,r=GB[t]||"전체 작업",o=xf(),l=new Date(Number(i)).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});return te.jsxs(zB,{borderColor:r,onClick:()=>o(`/post/${n.id}`),children:[te.jsx(HB,{children:te.jsx("img",{className:"postImg",src:n.imageUrl||"/default.png"})}),te.jsxs(jB,{children:[te.jsx(FB,{status:t}),te.jsx(qB,{children:e}),te.jsx($B,{children:l})]})]})}const WB=()=>{};var qR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},YB=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],l=n[t++],c=n[t++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},mD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,c=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,g=o>>2,_=(o&3)<<4|c>>4;let T=(c&15)<<2|f>>6,w=f&63;d||(w=64,l||(T=64)),i.push(t[g],t[_],t[T],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const _=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||f==null||_==null)throw new QB;const T=o<<2|c>>4;if(i.push(T),f!==64){const w=c<<4&240|f>>2;if(i.push(w),_!==64){const A=f<<6&192|_;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XB=function(n){const e=pD(n);return mD.encodeByteArray(e,!0)},bg=function(n){return XB(n).replace(/\./g,"")},kE=function(n){try{return mD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!JB(t)||(n[t]=wg(n[t],e[t]));return n}function JB(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=()=>NE().__FIREBASE_DEFAULTS__,e3=()=>{if(typeof process>"u"||typeof qR>"u")return;const n=qR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},t3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kE(n[1]);return e&&JSON.parse(e)},OE=()=>{try{return WB()||ZB()||e3()||t3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gD=()=>{var n;return(n=OE())===null||n===void 0?void 0:n.config},n3=n=>{var e;return(e=OE())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bg(JSON.stringify(t)),bg(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function VE(){var n;const e=(n=OE())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s3(){return typeof window<"u"||_D()}function _D(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function a3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ME(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TD(){const n=Pt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ED(){return!VE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wd(){try{return typeof indexedDB=="object"}catch{return!1}}function o3(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="FirebaseError";class Un extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=l3,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?u3(o,i):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new Un(r,c,i)}}function u3(n,e){return n.replace(c3,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const c3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function h3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ka(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],l=e[r];if(HR(o)&&HR(l)){if(!ka(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function HR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Bu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function _d(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bD(n,e){const t=new d3(n,e);return t.subscribe.bind(t)}class d3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");f3(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=_T),r.error===void 0&&(r.error=_T),r.complete===void 0&&(r.complete=_T);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _T(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n){return n&&n._delegate?n._delegate:n}class Hi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new i3;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g3(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:m3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m3(n){return n===Fo?void 0:n}function g3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new p3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=[];var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const AD={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},y3=Be.INFO,_3={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},v3=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=_3[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cy{constructor(e){this.name=e,this._logLevel=y3,this._logHandler=v3,this._userLogHandler=null,LE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function T3(n){LE.forEach(e=>{e.setLogLevel(n)})}function E3(n,e){for(const t of LE){let i=null;e&&e.level&&(i=AD[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(r,o,...l)=>{const c=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??r.logLevel)&&n({level:Be[o].toLowerCase(),message:c,args:l,type:r.name})}}}const b3=(n,e)=>e.some(t=>n instanceof t);let GR,KR;function w3(){return GR||(GR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A3(){return KR||(KR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SD=new WeakMap,o0=new WeakMap,ID=new WeakMap,vT=new WeakMap,UE=new WeakMap;function S3(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Ra(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&SD.set(t,n)}).catch(()=>{}),UE.set(e,n),e}function I3(n){if(o0.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});o0.set(n,e)}let l0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return o0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ID.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ra(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function R3(n){l0=n(l0)}function C3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(TT(this),e,...t);return ID.set(i,e.sort?e.sort():[e]),Ra(i)}:A3().includes(n)?function(...e){return n.apply(TT(this),e),Ra(SD.get(this))}:function(...e){return Ra(n.apply(TT(this),e))}}function x3(n){return typeof n=="function"?C3(n):(n instanceof IDBTransaction&&I3(n),b3(n,w3())?new Proxy(n,l0):n)}function Ra(n){if(n instanceof IDBRequest)return S3(n);if(vT.has(n))return vT.get(n);const e=x3(n);return e!==n&&(vT.set(n,e),UE.set(e,n)),e}const TT=n=>UE.get(n);function P3(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,e),c=Ra(l);return i&&l.addEventListener("upgradeneeded",d=>{i(Ra(l.result),d.oldVersion,d.newVersion,Ra(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const D3=["get","getKey","getAll","getAllKeys","count"],k3=["put","add","delete","clear"],ET=new Map;function WR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ET.get(e))return ET.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=k3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||D3.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),r&&d.done]))[0]};return ET.set(e,o),o}R3(n=>({...n,get:(e,t,i)=>WR(e,t)||n.get(e,t,i),has:(e,t)=>!!WR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(O3(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function O3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",u0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new cy("@firebase/app"),V3="@firebase/app-compat",M3="@firebase/analytics-compat",L3="@firebase/analytics",U3="@firebase/app-check-compat",B3="@firebase/app-check",F3="@firebase/auth",z3="@firebase/auth-compat",j3="@firebase/database",q3="@firebase/data-connect",$3="@firebase/database-compat",H3="@firebase/functions",G3="@firebase/functions-compat",K3="@firebase/installations",W3="@firebase/installations-compat",Y3="@firebase/messaging",Q3="@firebase/messaging-compat",X3="@firebase/performance",J3="@firebase/performance-compat",Z3="@firebase/remote-config",eF="@firebase/remote-config-compat",tF="@firebase/storage",nF="@firebase/storage-compat",iF="@firebase/firestore",rF="@firebase/vertexai",sF="@firebase/firestore-compat",aF="firebase",oF="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]",lF={[Ag]:"fire-core",[V3]:"fire-core-compat",[L3]:"fire-analytics",[M3]:"fire-analytics-compat",[B3]:"fire-app-check",[U3]:"fire-app-check-compat",[F3]:"fire-auth",[z3]:"fire-auth-compat",[j3]:"fire-rtdb",[q3]:"fire-data-connect",[$3]:"fire-rtdb-compat",[H3]:"fire-fn",[G3]:"fire-fn-compat",[K3]:"fire-iid",[W3]:"fire-iid-compat",[Y3]:"fire-fcm",[Q3]:"fire-fcm-compat",[X3]:"fire-perf",[J3]:"fire-perf-compat",[Z3]:"fire-rc",[eF]:"fire-rc-compat",[tF]:"fire-gcs",[nF]:"fire-gcs-compat",[iF]:"fire-fst",[sF]:"fire-fst-compat",[rF]:"fire-vertex","fire-js":"fire-js",[aF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Map,rc=new Map,sc=new Map;function Yd(n,e){try{n.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function RD(n,e){n.container.addOrOverwriteComponent(e)}function Is(n){const e=n.name;if(sc.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;sc.set(e,n);for(const t of Oa.values())Yd(t,n);for(const t of rc.values())Yd(t,n);return!0}function CD(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function uF(n,e,t=Na){CD(n,e).clearInstance(t)}function xD(n){return n.options!==void 0}function mt(n){return n==null?!1:n.settings!==void 0}function cF(){sc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new Il("app","Firebase",hF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PD=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n,e){const t=kE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const r=JSON.parse(t).exp*1e3,o=new Date().getTime();r-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class dF extends PD{constructor(e,t,i,r){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:i,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,l,r);else{const c=e;super(c.options,l,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&YR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&YR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,bi(Ag,u0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){FE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ji.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=oF;function BE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Na,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ji.create("bad-app-name",{appName:String(r)});if(t||(t=gD()),!t)throw ji.create("no-options");const o=Oa.get(r);if(o){if(ka(t,o.options)&&ka(i,o.config))return o;throw ji.create("duplicate-app",{appName:r})}const l=new wD(r);for(const d of sc.values())l.addComponent(d);const c=new PD(t,i,l);return Oa.set(r,c),c}function fF(n,e){if(s3()&&!_D())throw ji.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;xD(n)?t=n.options:t=n;const i=Object.assign(Object.assign({},e),t);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const r=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ji.create("finalization-registry-not-supported",{});const o=""+r(JSON.stringify(i)),l=rc.get(o);if(l)return l.incRefCount(e.releaseOnDeref),l;const c=new wD(o);for(const f of sc.values())c.addComponent(f);const d=new dF(t,e,o,c);return rc.set(o,d),d}function pF(n=Na){const e=Oa.get(n);if(!e&&n===Na&&gD())return BE();if(!e)throw ji.create("no-app",{appName:n});return e}function mF(){return Array.from(Oa.values())}async function FE(n){let e=!1;const t=n.name;Oa.has(t)?(e=!0,Oa.delete(t)):rc.has(t)&&n.decRefCount()<=0&&(rc.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)}function bi(n,e,t){var i;let r=(i=lF[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(c.join(" "));return}Is(new Hi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function DD(n,e){if(n!==null&&typeof n!="function")throw ji.create("invalid-log-argument");E3(n,e)}function kD(n){T3(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="firebase-heartbeat-database",yF=1,Qd="firebase-heartbeat-store";let bT=null;function ND(){return bT||(bT=P3(gF,yF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ji.create("idb-open",{originalErrorMessage:n.message})})),bT}async function _F(n){try{const t=(await ND()).transaction(Qd),i=await t.objectStore(Qd).get(OD(n));return await t.done,i}catch(e){if(e instanceof Un)Ss.warn(e.message);else{const t=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(t.message)}}}async function QR(n,e){try{const i=(await ND()).transaction(Qd,"readwrite");await i.objectStore(Qd).put(e,OD(n)),await i.done}catch(t){if(t instanceof Un)Ss.warn(t.message);else{const i=ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ss.warn(i.message)}}}function OD(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=1024,TF=30;class EF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wF(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=XR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>TF){const l=AF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ss.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=XR(),{heartbeatsToSend:i,unsentEntries:r}=bF(this._heartbeatsCache.heartbeats),o=bg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ss.warn(t),""}}}function XR(){return new Date().toISOString().substring(0,10)}function bF(n,e=vF){const t=[];let i=n.slice();for(const r of n){const o=t.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),JR(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),JR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class wF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wd()?o3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _F(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return QR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return QR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JR(n){return bg(JSON.stringify({version:2,heartbeats:n})).length}function AF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(n){Is(new Hi("platform-logger",e=>new N3(e),"PRIVATE")),Is(new Hi("heartbeat",e=>new EF(e),"PRIVATE")),bi(Ag,u0,n),bi(Ag,u0,"esm2017"),bi("fire-js","")}SF("");const IF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Un,SDK_VERSION:Os,_DEFAULT_ENTRY_NAME:Na,_addComponent:Yd,_addOrOverwriteComponent:RD,_apps:Oa,_clearComponents:cF,_components:sc,_getProvider:CD,_isFirebaseApp:xD,_isFirebaseServerApp:mt,_registerComponent:Is,_removeServiceInstance:uF,_serverApps:rc,deleteApp:FE,getApp:pF,getApps:mF,initializeApp:BE,initializeServerApp:fF,onLog:DD,registerVersion:bi,setLogLevel:kD},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,t){this._delegate=e,this.firebase=t,Yd(e,new Hi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),FE(this._delegate)))}_getService(e,t=Na){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Na){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Yd(this._delegate,e)}_addOrOverwriteComponent(e){RD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},ZR=new Il("app-compat","Firebase",CF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(n){const e={},t={__esModule:!0,initializeApp:o,app:r,registerVersion:bi,setLogLevel:kD,onLog:DD,apps:null,SDK_VERSION:Os,INTERNAL:{registerComponent:c,removeApp:i,useAsService:d,modularAPIs:IF}};t.default=t,Object.defineProperty(t,"apps",{get:l});function i(f){delete e[f]}function r(f){if(f=f||Na,!$R(e,f))throw ZR.create("no-app",{appName:f});return e[f]}r.App=n;function o(f,g={}){const _=BE(f,g);if($R(e,_.name))return e[_.name];const T=new n(_,t);return e[_.name]=T,T}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const g=f.name,_=g.replace("-compat","");if(Is(f)&&f.type==="PUBLIC"){const T=(w=r())=>{if(typeof w[_]!="function")throw ZR.create("invalid-app-argument",{appName:g});return w[_]()};f.serviceProps!==void 0&&wg(T,f.serviceProps),t[_]=T,n.prototype[_]=function(...w){return this._getService.bind(this,g).apply(this,f.multipleInstances?w:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){const n=xF(RF);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:VD,extendNamespace:e,createSubscribe:bD,ErrorFactory:Il,deepExtend:wg});function e(t){wg(n,t)}return n}const PF=VD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new cy("@firebase/app-compat"),DF="@firebase/app-compat",kF="0.2.54";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(n){bi(DF,kF,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=NE();if(n.firebase!==void 0){e1.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&e1.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ga=PF;NF();var OF="firebase",VF="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ga.registerVersion(OF,VF,"app-compat");const sd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Su={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function MD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LF=MF,UF=MD,LD=new Il("auth","Firebase",MD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new cy("@firebase/auth");function BF(n,...e){Sg.logLevel<=Be.WARN&&Sg.warn(`Auth (${Os}): ${n}`,...e)}function eg(n,...e){Sg.logLevel<=Be.ERROR&&Sg.error(`Auth (${Os}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n,...e){throw jE(n,...e)}function on(n,...e){return jE(n,...e)}function zE(n,e,t){const i=Object.assign(Object.assign({},UF()),{[e]:t});return new Il("auth","Firebase",i).create(e,{appName:n.name})}function _n(n){return zE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kc(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Cn(n,"argument-error"),zE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jE(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return LD.create(n,...e)}function ce(n,e,...t){if(!n)throw jE(e,...t)}function xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw eg(e),new Error(e)}function ir(n,e){n||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function qE(){return t1()==="http:"||t1()==="https:"}function t1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qE()||vD()||"connection"in navigator)?navigator.onLine:!0}function zF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ir(t>e,"Short delay should be less than long delay!"),this.isMobile=r3()||ME()}get(){return FF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n,e){ir(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$F=new kf(3e4,6e4);function Bt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ft(n,e,t,i,r={}){return BD(n,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Dc(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return a3()||(f.referrerPolicy="no-referrer"),UD.fetch()(await FD(n,n.config.apiHost,t,c),f)})}async function BD(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},jF),e);try{const r=new GF(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw vd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw vd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw vd(n,"user-disabled",l);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw zE(n,g,f);Cn(n,g)}}catch(r){if(r instanceof Un)throw r;Cn(n,"network-request-failed",{message:String(r)})}}async function Vs(n,e,t,i,r={}){const o=await Ft(n,e,t,i,r);return"mfaPendingCredential"in o&&Cn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function FD(n,e,t,i){const r=`${e}${t}?${i}`,o=n,l=o.config.emulator?$E(n.config,r):`${n.config.apiScheme}://${r}`;return qF.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function HF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(on(this.auth,"network-request-failed")),$F.get())})}}function vd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=on(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n){return n!==void 0&&n.getResponse!==void 0}function i1(n){return n!==void 0&&n.enterprise!==void 0}class zD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(n){return(await Ft(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function jD(n,e){return Ft(n,"GET","/v2/recaptchaConfig",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(n,e){return Ft(n,"POST","/v1/accounts:delete",e)}async function YF(n,e){return Ft(n,"POST","/v1/accounts:update",e)}async function Ig(n,e){return Ft(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QF(n,e=!1){const t=Te(n),i=await t.getIdToken(e),r=hy(i);ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Cd(wT(r.auth_time)),issuedAtTime:Cd(wT(r.iat)),expirationTime:Cd(wT(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function wT(n){return Number(n)*1e3}function hy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return eg("JWT malformed, contained fewer than 3 sections"),null;try{const r=kE(t);return r?JSON.parse(r):(eg("Failed to decode base64 JWT payload"),null)}catch(r){return eg("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function r1(n){const e=hy(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Un&&XF(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function XF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Rs(n,Ig(t,{idToken:i}));ce(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qD(o.providerUserInfo):[],c=e6(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new c0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function ZF(n){const e=Te(n);await Jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e6(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function qD(n){return n.map(e=>{var{providerId:t}=e,i=SE(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(n,e){const t=await BD(n,{},async()=>{const i=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await FD(n,r,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",UD.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function n6(n,e){return Ft(n,"POST","/v2/accounts:revokeToken",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const t=r1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await t6(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,l=new Gu;return i&&(ce(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(ce(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gu,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=SE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new c0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Rs(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QF(this,e)}reload(){return ZF(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Jd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mt(this.auth.app))return Promise.reject(_n(this.auth));const e=await this.getIdToken();return await Rs(this,WF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,l,c,d,f,g;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(r=t.email)!==null&&r!==void 0?r:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(l=t.photoURL)!==null&&l!==void 0?l:void 0,D=(c=t.tenantId)!==null&&c!==void 0?c:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,P=(f=t.createdAt)!==null&&f!==void 0?f:void 0,O=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:q,isAnonymous:j,providerData:Q,stsTokenManager:x}=t;ce(k&&x,e,"internal-error");const I=Gu.fromJSON(this.name,x);ce(typeof k=="string",e,"internal-error"),ga(_,e.name),ga(T,e.name),ce(typeof q=="boolean",e,"internal-error"),ce(typeof j=="boolean",e,"internal-error"),ga(w,e.name),ga(A,e.name),ga(D,e.name),ga(C,e.name),ga(P,e.name),ga(O,e.name);const N=new tr({uid:k,auth:e,email:T,emailVerified:q,displayName:_,isAnonymous:j,photoURL:A,phoneNumber:w,tenantId:D,stsTokenManager:I,createdAt:P,lastLoginAt:O});return Q&&Array.isArray(Q)&&(N.providerData=Q.map(L=>Object.assign({},L))),C&&(N._redirectEventId=C),N}static async _fromIdTokenResponse(e,t,i=!1){const r=new Gu;r.updateFromServerResponse(t);const o=new tr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Jd(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];ce(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?qD(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),c=new Gu;c.updateFromIdToken(i);const d=new tr({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new c0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;function Ei(n){ir(n instanceof Function,"Expected a class definition");let e=s1.get(n);return e?(ir(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,s1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$D.type="NONE";const ac=$D;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(n,e,t){return`firebase:${n}:${e}:${t}`}class Ku{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=rl(this.userKey,r.apiKey,o),this.fullPersistenceKey=rl("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ig(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ku(Ei(ac),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Ei(ac);const l=rl(i,e.config.apiKey,e.name);let c=null;for(const f of t)try{const g=await f._get(l);if(g){let _;if(typeof g=="string"){const T=await Ig(e,{idToken:g}).catch(()=>{});if(!T)break;_=await tr._fromGetAccountInfoResponse(e,T,g)}else _=tr._fromJSON(e,g);f!==o&&(c=_),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ku(o,e,i):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ku(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YD(e))return"Blackberry";if(QD(e))return"Webos";if(GD(e))return"Safari";if((e.includes("chrome/")||KD(e))&&!e.includes("edge/"))return"Chrome";if(Nf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HD(n=Pt()){return/firefox\//i.test(n)}function GD(n=Pt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KD(n=Pt()){return/crios\//i.test(n)}function WD(n=Pt()){return/iemobile/i.test(n)}function Nf(n=Pt()){return/android/i.test(n)}function YD(n=Pt()){return/blackberry/i.test(n)}function QD(n=Pt()){return/webos/i.test(n)}function Of(n=Pt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function i6(n=Pt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function r6(n=Pt()){var e;return Of(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s6(){return TD()&&document.documentMode===10}function XD(n=Pt()){return Of(n)||Nf(n)||QD(n)||YD(n)||/windows phone/i.test(n)||WD(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n,e=[]){let t;switch(n){case"Browser":t=a1(Pt());break;case"Worker":t=`${a1(Pt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Os}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(n,e={}){return Ft(n,"GET","/v2/passwordPolicy",Bt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=6;class u6{constructor(e){var t,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:l6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o1(this),this.idTokenSubscription=new o1(this),this.beforeStateQueue=new a6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Ku.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ig(this,{idToken:e}),i=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mt(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mt(this.app))return Promise.reject(_n(this));const t=e?Te(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mt(this.app)?Promise.reject(_n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mt(this.app)?Promise.reject(_n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o6(this),t=new u6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Il("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await n6(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ei(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=await Ku.create(this,[Ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,r);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(mt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Dt(n){return Te(n)}class o1{constructor(e){this.auth=e,this.observer=null,this.addObserver=bD(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h6(n){Vf=n}function HE(n){return Vf.loadJS(n)}function d6(){return Vf.recaptchaV2Script}function f6(){return Vf.recaptchaEnterpriseScript}function p6(){return Vf.gapiScript}function ZD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=500,g6=6e4,km=1e12;class y6{constructor(e){this.auth=e,this.counter=km,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new T6(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||km;(t=this._widgets.get(i))===null||t===void 0||t.delete(),this._widgets.delete(i)}getResponse(e){var t;const i=e||km;return((t=this._widgets.get(i))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const i=e||km;return(t=this._widgets.get(i))===null||t===void 0||t.execute(),""}}class _6{constructor(){this.enterprise=new v6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class v6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class T6{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;ce(r,"argument-error",{appName:t}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=E6(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},g6)},m6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function E6(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const b6="recaptcha-enterprise",xd="NO_RECAPTCHA";class ek{constructor(e){this.type=b6,this.auth=Dt(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{jD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new zD(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function r(o,l,c){const d=window.grecaptcha;i1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(xd)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _6().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(c=>{if(!t&&i1(window.grecaptcha))r(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=f6();d.length!==0&&(d+=c),HE(d).then(()=>{r(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function ad(n,e,t,i=!1,r=!1){const o=new ek(n);let l;if(r)l=xd;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ca(n,e,t,i,r){var o,l;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ad(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ad(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)});else if(r==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const c=await ad(n,e,t);return i(n,c).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await ad(n,e,t,!1,!0);return i(n,g)}return Promise.reject(d)})}else{const c=await ad(n,e,t,!1,!0);return i(n,c)}else return Promise.reject(r+" provider is not supported.")}async function w6(n){const e=Dt(n),t=await jD(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new zD(t);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new ek(e).verify()}function A6(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function S6(n,e,t){const i=Dt(n);ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(t!=null&&t.disableWarnings),o=tk(e),{host:l,port:c}=I6(e),d=c===null?"":`:${c}`,f={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ce(ka(f,i.config.emulator)&&ka(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,r||R6()}function tk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function I6(n){const e=tk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:l1(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:l1(l)}}}function l1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function R6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,t){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n,e){return Ft(n,"POST","/v1/accounts:resetPassword",Bt(n,e))}async function C6(n,e){return Ft(n,"POST","/v1/accounts:update",e)}async function x6(n,e){return Ft(n,"POST","/v1/accounts:signUp",e)}async function P6(n,e){return Ft(n,"POST","/v1/accounts:update",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(n,e){return Vs(n,"POST","/v1/accounts:signInWithPassword",Bt(n,e))}async function dy(n,e){return Ft(n,"POST","/v1/accounts:sendOobCode",Bt(n,e))}async function k6(n,e){return dy(n,e)}async function N6(n,e){return dy(n,e)}async function O6(n,e){return dy(n,e)}async function V6(n,e){return dy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(n,e){return Vs(n,"POST","/v1/accounts:signInWithEmailLink",Bt(n,e))}async function L6(n,e){return Vs(n,"POST","/v1/accounts:signInWithEmailLink",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Nc{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Zd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ca(e,t,"signInWithPassword",D6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return M6(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ca(e,i,"signUpPassword",x6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return L6(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(n,e){return Vs(n,"POST","/v1/accounts:signInWithIdp",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="http://localhost";class Br extends Nc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=SE(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new Br(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return bs(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,bs(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}buildRequest(){const e={requestUri:U6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(n,e){return Ft(n,"POST","/v1/accounts:sendVerificationCode",Bt(n,e))}async function B6(n,e){return Vs(n,"POST","/v1/accounts:signInWithPhoneNumber",Bt(n,e))}async function F6(n,e){const t=await Vs(n,"POST","/v1/accounts:signInWithPhoneNumber",Bt(n,e));if(t.temporaryProof)throw vd(n,"account-exists-with-different-credential",t);return t}const z6={USER_NOT_FOUND:"user-not-found"};async function j6(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Vs(n,"POST","/v1/accounts:signInWithPhoneNumber",Bt(n,t),z6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Nc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new sl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new sl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return B6(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return F6(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return j6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!t&&!r&&!o?null:new sl({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $6(n){const e=Bu(_d(n)).link,t=e?Bu(_d(e)).deep_link_id:null,i=Bu(_d(n)).deep_link_id;return(i?Bu(_d(i)).link:null)||i||t||e||n}class fy{constructor(e){var t,i,r,o,l,c;const d=Bu(_d(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(i=d.oobCode)!==null&&i!==void 0?i:null,_=q6((r=d.mode)!==null&&r!==void 0?r:null);ce(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=$6(e);try{return new fy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.providerId=Ka.PROVIDER_ID}static credential(e,t){return Zd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=fy.parseLink(t);return ce(i,"argument-error"),Zd._fromEmailAndCode(e,i.code,i.tenantId)}}Ka.PROVIDER_ID="password";Ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wu extends Oc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ce("providerId"in t&&"signInMethod"in t,"argument-error"),Br._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ce(e.idToken||e.accessToken,"argument-error"),Br._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Wu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Wu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!r&&!t&&!o||!c)return null;try{return new Wu(c)._credential({idToken:t,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Oc{constructor(){super("facebook.com")}static credential(e){return Br._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Br._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Sr.credential(t,i)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Oc{constructor(){super("github.com")}static credential(e){return Br._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="http://localhost";class oc extends Nc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return bs(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,bs(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=t;return!i||!r||!o||i!==r?null:new oc(i,o)}static _create(e,t){return new oc(e,t)}buildRequest(){return{requestUri:H6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="saml.";class Rg extends Ms{constructor(e){ce(e.startsWith(G6),"argument-error"),super(e)}static credentialFromResult(e){return Rg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Rg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=oc.fromJSON(e);return ce(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return oc._create(i,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Oc{constructor(){super("twitter.com")}static credential(e,t){return Br._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Rr.credential(t,i)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(n,e){return Vs(n,"POST","/v1/accounts:signUp",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await tr._fromIdTokenResponse(e,i,r),l=c1(i);return new Gi({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=c1(i);return new Gi({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function c1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(n){var e;if(mt(n.app))return Promise.reject(_n(n));const t=Dt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Gi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ik(t,{returnSecureToken:!0}),r=await Gi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Un{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Cg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Cg(e,t,i,r)}}function rk(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cg._fromErrorAndOperation(n,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(n,e){const t=Te(n);await py(!0,t,e);const{providerUserInfo:i}=await YF(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),r=sk(i||[]);return t.providerData=t.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function GE(n,e,t=!1){const i=await Rs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gi._forOperation(n,"link",i)}async function py(n,e,t){await Jd(e);const i=sk(e.providerData),r=n===!1?"provider-already-linked":"no-such-provider";ce(i.has(t)===n,e.auth,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e,t=!1){const{auth:i}=n;if(mt(i.app))return Promise.reject(_n(i));const r="reauthenticate";try{const o=await Rs(n,rk(i,r,e,n),t);ce(o.idToken,i,"internal-error");const l=hy(o.idToken);ce(l,i,"internal-error");const{sub:c}=l;return ce(n.uid===c,i,"user-mismatch"),Gi._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Cn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(n,e,t=!1){if(mt(n.app))return Promise.reject(_n(n));const i="signIn",r=await rk(n,i,e),o=await Gi._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function my(n,e){return ok(Dt(n),e)}async function lk(n,e){const t=Te(n);return await py(!1,t,e.providerId),GE(t,e)}async function uk(n,e){return ak(Te(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(n,e){return Vs(n,"POST","/v1/accounts:signInWithCustomToken",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(n,e){if(mt(n.app))return Promise.reject(_n(n));const t=Dt(n),i=await Y6(t,{token:e,returnSecureToken:!0}),r=await Gi._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?KE._fromServerResponse(e,t):"totpInfo"in t?WE._fromServerResponse(e,t):Cn(e,"internal-error")}}class KE extends Mf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new KE(t)}}class WE extends Mf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new WE(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n,e,t){var i;ce(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),ce(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ce(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ce(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ce(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(n){const e=Dt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function X6(n,e,t){const i=Dt(n),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&gy(i,r,t),await Ca(i,r,"getOobCode",N6,"EMAIL_PASSWORD_PROVIDER")}async function J6(n,e,t){await nk(Te(n),{oobCode:e,newPassword:t}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&YE(n),i})}async function Z6(n,e){await P6(Te(n),{oobCode:e})}async function ck(n,e){const t=Te(n),i=await nk(t,{oobCode:e}),r=i.requestType;switch(ce(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(i.mfaInfo,t,"internal-error");default:ce(i.email,t,"internal-error")}let o=null;return i.mfaInfo&&(o=Mf._fromServerResponse(Dt(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}}async function e5(n,e){const{data:t}=await ck(Te(n),e);return t.email}async function t5(n,e,t){if(mt(n.app))return Promise.reject(_n(n));const i=Dt(n),l=await Ca(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ik,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&YE(n),d}),c=await Gi._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function n5(n,e,t){return mt(n.app)?Promise.reject(_n(n)):my(Te(n),Ka.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&YE(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(n,e,t){const i=Dt(n),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){ce(c.handleCodeInApp,i,"argument-error"),c&&gy(i,l,c)}o(r,t),await Ca(i,r,"getOobCode",O6,"EMAIL_PASSWORD_PROVIDER")}function r5(n,e){const t=fy.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function s5(n,e,t){if(mt(n.app))return Promise.reject(_n(n));const i=Te(n),r=Ka.credentialWithLink(e,t||Xd());return ce(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),my(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(n,e){return Ft(n,"POST","/v1/accounts:createAuthUri",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(n,e){const t=qE()?Xd():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:r}=await a5(Te(n),i);return r||[]}async function l5(n,e){const t=Te(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&gy(t.auth,r,e);const{email:o}=await k6(t.auth,r);o!==n.email&&await n.reload()}async function u5(n,e,t){const i=Te(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&gy(i.auth,o,t);const{email:l}=await V6(i.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(n,e){return Ft(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Te(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Rs(i,c5(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function d5(n,e){const t=Te(n);return mt(t.auth.app)?Promise.reject(_n(t.auth)):hk(t,e,null)}function f5(n,e){return hk(Te(n),null,e)}async function hk(n,e,t){const{auth:i}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const l=await Rs(n,C6(i,o));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(n){var e,t;if(!n)return null;const{providerId:i}=n,r=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(n!=null&&n.idToken)){const l=(t=(e=hy(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new Yu(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new m5(o,r);case"github.com":return new g5(o,r);case"google.com":return new y5(o,r);case"twitter.com":return new _5(o,r,n.screenName||null);case"custom":case"anonymous":return new Yu(o,null);default:return new Yu(o,i,r)}}class Yu{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class dk extends Yu{constructor(e,t,i,r){super(e,t,i),this.username=r}}class m5 extends Yu{constructor(e,t){super(e,"facebook.com",t)}}class g5 extends dk{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class y5 extends Yu{constructor(e,t){super(e,"google.com",t)}}class _5 extends dk{constructor(e,t,i){super(e,"twitter.com",t,i)}}function v5(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:p5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new Qo("enroll",e,t)}static _fromMfaPendingCredential(e){return new Qo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Qo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return Qo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=Dt(e),r=t.customData._serverResponse,o=(r.mfaInfo||[]).map(c=>Mf._fromServerResponse(i,c));ce(r.mfaPendingCredential,i,"internal-error");const l=Qo._fromMfaPendingCredential(r.mfaPendingCredential);return new QE(l,o,async c=>{const d=await c._process(i,l);delete r.mfaInfo,delete r.mfaPendingCredential;const f=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await Gi._fromIdTokenResponse(i,t.operationType,f);return await i._updateCurrentUser(g.user),g;case"reauthenticate":return ce(t.user,i,"internal-error"),Gi._forOperation(t.user,t.operationType,f);default:Cn(i,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function T5(n,e){var t;const i=Te(n),r=e;return ce(e.customData.operationType,i,"argument-error"),ce((t=r.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,i,"argument-error"),QE._fromError(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:start",Bt(n,e))}function E5(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(n,e))}function b5(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(n,e))}class XE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>Mf._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new XE(e)}async getSession(){return Qo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const i=e,r=await this.getSession(),o=await Rs(this.user,i._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const r=await Rs(this.user,b5(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(r),await this.user.reload()}catch(r){throw r}}}const AT=new WeakMap;function w5(n){const e=Te(n);return AT.has(e)||AT.set(e,XE._fromUser(e)),AT.get(e)}const xg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xg,"1"),this.storage.removeItem(xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1e3,S5=10;class pk extends fk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);s6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,S5):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},A5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pk.type="LOCAL";const JE=pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends fk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mk.type="SESSION";const hl=mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new yy(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(l).map(async f=>f(t.origin,o)),d=await I5(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=Lf("",20);r.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const T=_;if(T.data.eventId===f)switch(T.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(T.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return window}function C5(n){Zt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof Zt().WorkerGlobalScope<"u"&&typeof Zt().importScripts=="function"}async function x5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function D5(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="firebaseLocalStorageDb",k5=1,Pg="firebaseLocalStorage",yk="fbase_key";class Uf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _y(n,e){return n.transaction([Pg],e?"readwrite":"readonly").objectStore(Pg)}function N5(){const n=indexedDB.deleteDatabase(gk);return new Uf(n).toPromise()}function h0(){const n=indexedDB.open(gk,k5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Pg,{keyPath:yk})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Pg)?e(i):(i.close(),await N5(),e(await h0()))})})}async function d1(n,e,t){const i=_y(n,!0).put({[yk]:e,value:t});return new Uf(i).toPromise()}async function O5(n,e){const t=_y(n,!1).get(e),i=await new Uf(t).toPromise();return i===void 0?null:i.value}function f1(n,e){const t=_y(n,!0).delete(e);return new Uf(t).toPromise()}const V5=800,M5=3;class _k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>M5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yy._getInstance(D5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await x5(),!this.activeServiceWorker)return;this.sender=new R5(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h0();return await d1(e,xg,"1"),await f1(e,xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>O5(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>f1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=_y(r,!1).getAll();return new Uf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_k.type="LOCAL";const ef=_k;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n,e){return Ft(n,"POST","/v2/accounts/mfaSignIn:start",Bt(n,e))}function L5(n,e){return Ft(n,"POST","/v2/accounts/mfaSignIn:finalize",Bt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=ZD("rcb"),U5=new kf(3e4,6e4);class B5{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Zt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ce(F5(t),e,"argument-error"),this.shouldResolveImmediately(t)&&n1(Zt().grecaptcha)?Promise.resolve(Zt().grecaptcha):new Promise((i,r)=>{const o=Zt().setTimeout(()=>{r(on(e,"network-request-failed"))},U5.get());Zt()[ST]=()=>{Zt().clearTimeout(o),delete Zt()[ST];const c=Zt().grecaptcha;if(!c||!n1(c)){r(on(e,"internal-error"));return}const d=c.render;c.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,i(c)};const l=`${d6()}?${Dc({onload:ST,render:"explicit",hl:t})}`;HE(l).catch(()=>{clearTimeout(o),r(on(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Zt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function F5(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class z5{async load(e){return new y6(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="recaptcha",j5={theme:"light",type:"image"};let q5=class{constructor(e,t,i=Object.assign({},j5)){this.parameters=i,this.type=Pd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(e),this.isInvisible=this.parameters.size==="invisible",ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof t=="string"?document.getElementById(t):t;ce(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new z5:new B5,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(r=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),r(l))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){const i=Zt()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ce(qE()&&!ZE(),this.auth,"internal-error"),await $5(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await KF(this.auth);ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function $5(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=sl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function H5(n,e,t){if(mt(n.app))return Promise.reject(_n(n));const i=Dt(n),r=await vy(i,e,Te(t));return new eb(r,o=>my(i,o))}async function G5(n,e,t){const i=Te(n);await py(!1,i,"phone");const r=await vy(i.auth,e,Te(t));return new eb(r,o=>lk(i,o))}async function K5(n,e,t){const i=Te(n);if(mt(i.auth.app))return Promise.reject(_n(i.auth));const r=await vy(i.auth,e,Te(t));return new eb(r,o=>uk(i,o))}async function vy(n,e,t){var i;if(!n._getRecaptchaConfig())try{await w6(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const o=r.session;if("phoneNumber"in r){ce(o.type==="enroll",n,"internal-error");const l={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ca(n,l,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===xd){ce((t==null?void 0:t.type)===Pd,g,"argument-error");const T=await IT(g,_,t);return h1(g,T)}return h1(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ce(o.type==="signin",n,"internal-error");const l=((i=r.multiFactorHint)===null||i===void 0?void 0:i.uid)||r.multiFactorUid;ce(l,n,"missing-multi-factor-info");const c={mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ca(n,c,"mfaSmsSignIn",async(_,T)=>{if(T.phoneSignInInfo.captchaResponse===xd){ce((t==null?void 0:t.type)===Pd,_,"argument-error");const w=await IT(_,T,t);return p1(_,w)}return p1(_,T)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ca(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===xd){ce((t==null?void 0:t.type)===Pd,f,"argument-error");const _=await IT(f,g,t);return u1(f,_)}return u1(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function W5(n,e){const t=Te(n);if(mt(t.auth.app))return Promise.reject(_n(t.auth));await GE(t,e)}async function IT(n,e,t){ce(t.type===Pd,n,"argument-error");const i=await t.verify();ce(typeof i=="string",n,"argument-error");const r=Object.assign({},e);if("phoneEnrollmentInfo"in r){const o=r.phoneEnrollmentInfo.phoneNumber,l=r.phoneEnrollmentInfo.captchaResponse,c=r.phoneEnrollmentInfo.clientType,d=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i,captchaResponse:l,clientType:c,recaptchaVersion:d}}),r}else if("phoneSignInInfo"in r){const o=r.phoneSignInInfo.captchaResponse,l=r.phoneSignInInfo.clientType,c=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:o,clientType:l,recaptchaVersion:c}}),r}else return Object.assign(r,{recaptchaToken:i}),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=class tg{constructor(e){this.providerId=tg.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,t){return vy(this.auth,e,Te(t))}static credential(e,t){return sl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return tg.credentialFromTaggedObject(t)}static credentialFromError(e){return tg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?sl._fromTokenResponse(t,i):null}};dl.PROVIDER_ID="phone";dl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n,e){return e?Ei(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Nc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Y5(n){return ok(n.auth,new tb(n),n.bypassAuthState)}function Q5(n){const{auth:e,user:t}=n;return ce(t,e,"internal-error"),ak(t,new tb(n),n.bypassAuthState)}async function X5(n){const{auth:e,user:t}=n;return ce(t,e,"internal-error"),GE(t,new tb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y5;case"linkViaPopup":case"linkViaRedirect":return X5;case"reauthViaPopup":case"reauthViaRedirect":return Q5;default:Cn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new kf(2e3,1e4);async function Z5(n,e,t){if(mt(n.app))return Promise.reject(on(n,"operation-not-supported-in-this-environment"));const i=Dt(n);kc(n,e,Ms);const r=Rl(i,t);return new _s(i,"signInViaPopup",e,r).executeNotNull()}async function ez(n,e,t){const i=Te(n);if(mt(i.auth.app))return Promise.reject(on(i.auth,"operation-not-supported-in-this-environment"));kc(i.auth,e,Ms);const r=Rl(i.auth,t);return new _s(i.auth,"reauthViaPopup",e,r,i).executeNotNull()}async function tz(n,e,t){const i=Te(n);kc(i.auth,e,Ms);const r=Rl(i.auth,t);return new _s(i.auth,"linkViaPopup",e,r,i).executeNotNull()}class _s extends vk{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Lf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J5.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="pendingRedirect",Dd=new Map;class iz extends vk{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const i=await rz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rz(n,e){const t=Ek(e),i=Tk(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}async function nb(n,e){return Tk(n)._set(Ek(e),"true")}function sz(){Dd.clear()}function ib(n,e){Dd.set(n._key(),e)}function Tk(n){return Ei(n._redirectPersistence)}function Ek(n){return rl(nz,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(n,e,t){return oz(n,e,t)}async function oz(n,e,t){if(mt(n.app))return Promise.reject(_n(n));const i=Dt(n);kc(n,e,Ms),await i._initializationPromise;const r=Rl(i,t);return await nb(r,i),r._openRedirect(i,e,"signInViaRedirect")}function lz(n,e,t){return uz(n,e,t)}async function uz(n,e,t){const i=Te(n);if(kc(i.auth,e,Ms),mt(i.auth.app))return Promise.reject(_n(i.auth));await i.auth._initializationPromise;const r=Rl(i.auth,t);await nb(r,i.auth);const o=await bk(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)}function cz(n,e,t){return hz(n,e,t)}async function hz(n,e,t){const i=Te(n);kc(i.auth,e,Ms),await i.auth._initializationPromise;const r=Rl(i.auth,t);await py(!1,i,e.providerId),await nb(r,i.auth);const o=await bk(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)}async function dz(n,e){return await Dt(n)._initializationPromise,Ty(n,e,!1)}async function Ty(n,e,t=!1){if(mt(n.app))return Promise.reject(_n(n));const i=Dt(n),r=Rl(i,e),l=await new iz(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function bk(n){const e=Lf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=10*60*1e3;class wk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Ak(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(on(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fz&&this.cachedEventUids.clear(),this.cachedEventUids.has(m1(e))}saveEventToCache(e){this.cachedEventUids.add(m1(e)),this.lastProcessedEventTime=Date.now()}}function m1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ak({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ak(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(n,e={}){return Ft(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gz=/^https?/;async function yz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Sk(n);for(const t of e)try{if(_z(t))return}catch{}Cn(n,"unauthorized-domain")}function _z(n){const e=Xd(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!gz.test(t))return!1;if(mz.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=new kf(3e4,6e4);function g1(){const n=Zt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Tz(n){return new Promise((e,t)=>{var i,r,o;function l(){g1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g1(),t(on(n,"network-request-failed"))},timeout:vz.get()})}if(!((r=(i=Zt().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Zt().gapi)===null||o===void 0)&&o.load)l();else{const c=ZD("iframefcb");return Zt()[c]=()=>{gapi.load?l():t(on(n,"network-request-failed"))},HE(`${p6()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw ng=null,e})}let ng=null;function Ez(n){return ng=ng||Tz(n),ng}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new kf(5e3,15e3),wz="__/auth/iframe",Az="emulator/auth/iframe",Sz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rz(n){const e=n.config;ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$E(e,Az):`https://${n.config.authDomain}/${wz}`,i={apiKey:e.apiKey,appName:n.name,v:Os},r=Iz.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Dc(i).slice(1)}`}async function Cz(n){const e=await Ez(n),t=Zt().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:Rz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sz,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=on(n,"network-request-failed"),c=Zt().setTimeout(()=>{o(l)},bz.get());function d(){Zt().clearTimeout(c),r(i)}i.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pz=500,Dz=600,kz="_blank",Nz="http://localhost";class y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Oz(n,e,t,i=Pz,r=Dz){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d=Object.assign(Object.assign({},xz),{width:i.toString(),height:r.toString(),top:o,left:l}),f=Pt().toLowerCase();t&&(c=KD(f)?kz:t),HD(f)&&(e=e||Nz,d.scrollbars="yes");const g=Object.entries(d).reduce((T,[w,A])=>`${T}${w}=${A},`,"");if(r6(f)&&c!=="_self")return Vz(e||"",c),new y1(null);const _=window.open(e||"",c,g);ce(_,n,"popup-blocked");try{_.focus()}catch{}return new y1(_)}function Vz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="__/auth/handler",Lz="emulator/auth/handler",Uz=encodeURIComponent("fac");async function d0(n,e,t,i,r,o){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Os,eventId:r};if(e instanceof Ms){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",h3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))l[g]=_}if(e instanceof Oc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await n._getAppCheckToken(),f=d?`#${Uz}=${encodeURIComponent(d)}`:"";return`${Bz(n)}?${Dc(c).slice(1)}${f}`}function Bz({config:n}){return n.emulator?$E(n,Lz):`https://${n.authDomain}/${Mz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="webStorageSupport";class Fz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hl,this._completeRedirectFn=Ty,this._overrideRedirectResult=ib}async _openPopup(e,t,i,r){var o;ir((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await d0(e,t,i,Xd(),r);return Oz(e,l,Lf())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await d0(e,t,i,Xd(),r);return C5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(ir(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Cz(e),i=new wk(e);return t.register("authEvent",r=>(ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(RT,{type:RT},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[RT];l!==void 0&&t(!!l),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XD()||GD()||Of()}}const zz=Fz;class jz{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return xr("unexpected MultiFactorSessionType")}}}class rb extends jz{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rb(e)}_finalizeEnroll(e,t,i){return E5(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return L5(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ik{constructor(){}static assertion(e){return rb._fromCredential(e)}}Ik.FACTOR_ID="phone";var _1="@firebase/auth",v1="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hz(n){Is(new Hi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;ce(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JD(n)},f=new c6(i,r,o,d);return A6(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Is(new Hi("auth-internal",e=>{const t=Dt(e.getProvider("auth").getImmediate());return(i=>new qz(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(_1,v1,$z(n)),bi(_1,v1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=5*60;n3("authIdTokenMaxAge");function Kz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}h6({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=on("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",Kz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hz("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=2e3;async function Yz(n,e,t){var i;const{BuildInfo:r}=fl();ir(e.sessionId,"AuthEvent did not contain a session ID");const o=await e9(e.sessionId),l={};return Of()?l.ibi=r.packageName:Nf()?l.apn=r.packageName:Cn(n,"operation-not-supported-in-this-environment"),r.displayName&&(l.appDisplayName=r.displayName),l.sessionId=o,d0(n,t,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function Qz(n){const{BuildInfo:e}=fl(),t={};Of()?t.iosBundleId=e.packageName:Nf()?t.androidPackageName=e.packageName:Cn(n,"operation-not-supported-in-this-environment"),await Sk(n,t)}function Xz(n){const{cordova:e}=fl();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(n):r=e.InAppBrowser.open(n,i6()?"_blank":"_system","location=yes"),t(r)})})}async function Jz(n,e,t){const{cordova:i}=fl();let r=()=>{};try{await new Promise((o,l)=>{let c=null;function d(){var _;o();const T=(_=i.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof T=="function"&&T(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){c||(c=window.setTimeout(()=>{l(on(n,"redirect-cancelled-by-user"))},Wz))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Nf()&&document.addEventListener("visibilitychange",g,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),c&&window.clearTimeout(c)}})}finally{r()}}function Zz(n){var e,t,i,r,o,l,c,d,f,g;const _=fl();ce(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce(typeof((o=(r=(i=_==null?void 0:_.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce(typeof((d=(c=(l=_==null?void 0:_.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function e9(n){const e=t9(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(r=>r.toString(16).padStart(2,"0")).join("")}function t9(n){if(ir(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=20;class i9 extends wk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function r9(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:o9(),postBody:null,tenantId:n.tenantId,error:on(n,"no-auth-event")}}function s9(n,e){return f0()._set(p0(n),e)}async function T1(n){const e=await f0()._get(p0(n));return e&&await f0()._remove(p0(n)),e}function a9(n,e){var t,i;const r=u9(e);if(r.includes("/__/auth/callback")){const o=ig(r),l=o.firebaseError?l9(decodeURIComponent(o.firebaseError)):null,c=(i=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||i===void 0?void 0:i[1],d=c?on(c):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:r,postBody:null}}return null}function o9(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<n9;t++){const i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function f0(){return Ei(JE)}function p0(n){return rl("authEvent",n.config.apiKey,n.name)}function l9(n){try{return JSON.parse(n)}catch{return null}}function u9(n){const e=ig(n),t=e.link?decodeURIComponent(e.link):void 0,i=ig(t).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ig(r).link||r||i||t||n}function ig(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Bu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=500;class h9{constructor(){this._redirectPersistence=hl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ty,this._overrideRedirectResult=ib}async _initialize(e){const t=e._key();let i=this.eventManagers.get(t);return i||(i=new i9(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Cn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,r){Zz(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),sz(),await this._originValidation(e);const l=r9(e,i,r);await s9(e,l);const c=await Yz(e,l,t),d=await Xz(c);return Jz(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Qz(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:i,handleOpenURL:r,BuildInfo:o}=fl(),l=setTimeout(async()=>{await T1(e),t.onEvent(E1())},c9),c=async g=>{clearTimeout(l);const _=await T1(e);let T=null;_&&(g!=null&&g.url)&&(T=a9(_,g.url)),t.onEvent(T||E1())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const d=r,f=`${o.packageName.toLowerCase()}://`;fl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&c({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const d9=h9;function E1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(n,e){Dt(n)._logFramework(e)}var p9="@firebase/auth-compat",m9="0.5.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=1e3;function kd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function y9(){return kd()==="http:"||kd()==="https:"}function Rk(n=Pt()){return!!((kd()==="file:"||kd()==="ionic:"||kd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function _9(){return ME()||VE()}function v9(){return TD()&&(document==null?void 0:document.documentMode)===11}function T9(n=Pt()){return/Edge\/\d+/.test(n)}function E9(n=Pt()){return v9()||T9(n)}function Ck(){try{const n=self.localStorage,e=Lf();if(n)return n.setItem(e,"1"),n.removeItem(e),E9()?Wd():!0}catch{return sb()&&Wd()}return!1}function sb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function CT(){return(y9()||vD()||Rk())&&!_9()&&Ck()&&!sb()}function xk(){return Rk()&&typeof document<"u"}async function b9(){return xk()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},g9);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function w9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti={LOCAL:"local",NONE:"none",SESSION:"session"},od=ce,Pk="persistence";function A9(n,e){if(od(Object.values(Ti).includes(e),n,"invalid-persistence-type"),ME()){od(e!==Ti.SESSION,n,"unsupported-persistence-type");return}if(VE()){od(e===Ti.NONE,n,"unsupported-persistence-type");return}if(sb()){od(e===Ti.NONE||e===Ti.LOCAL&&Wd(),n,"unsupported-persistence-type");return}od(e===Ti.NONE||Ck(),n,"unsupported-persistence-type")}async function m0(n){await n._initializationPromise;const e=Dk(),t=rl(Pk,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function S9(n,e){const t=Dk();if(!t)return[];const i=rl(Pk,n,e);switch(t.getItem(i)){case Ti.NONE:return[ac];case Ti.LOCAL:return[ef,hl];case Ti.SESSION:return[hl];default:return[]}}function Dk(){var n;try{return((n=w9())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=ce;class Aa{constructor(){this.browserResolver=Ei(zz),this.cordovaResolver=Ei(d9),this.underlyingResolver=null,this._redirectPersistence=hl,this._completeRedirectFn=Ty,this._overrideRedirectResult=ib}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,r)}async _openRedirect(e,t,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xk()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return I9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await b9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n){return n.unwrap()}function R9(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(n){return Nk(n)}function x9(n,e){var t;const i=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const r=e;r.resolver=new P9(n,T5(n,e))}else if(i){const r=Nk(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Nk(n){const{_tokenResponse:e}=n instanceof Un?n.customData:n;if(!e)return null;if(!(n instanceof Un)&&"temporaryProof"in e&&"phoneNumber"in e)return dl.credentialFromResult(n);const t=e.providerId;if(!t||t===sd.PASSWORD)return null;let i;switch(t){case sd.GOOGLE:i=Sr;break;case sd.FACEBOOK:i=Ar;break;case sd.GITHUB:i=Ir;break;case sd.TWITTER:i=Rr;break;default:const{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:d}=e;return!o&&!l&&!r&&!c?null:c?t.startsWith("saml.")?oc._create(t,c):Br._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:r,accessToken:o}):new Wu(t).credential({idToken:r,accessToken:o,rawNonce:d})}return n instanceof Un?i.credentialFromError(n):i.credentialFromResult(n)}function ii(n,e){return e.catch(t=>{throw t instanceof Un&&x9(n,t),t}).then(t=>{const i=t.operationType,r=t.user;return{operationType:i,credential:C9(t),additionalUserInfo:v5(t),user:Ey.getOrCreate(r)}})}async function g0(n,e){const t=await e;return{verificationId:t.verificationId,confirm:i=>ii(n,t.confirm(i))}}class P9{constructor(e,t){this.resolver=t,this.auth=R9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ii(kk(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ey=class Td{constructor(e){this._delegate=e,this.multiFactor=w5(e)}static getOrCreate(e){return Td.USER_MAP.has(e)||Td.USER_MAP.set(e,new Td(e)),Td.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ii(this.auth,lk(this._delegate,e))}async linkWithPhoneNumber(e,t){return g0(this.auth,G5(this._delegate,e,t))}async linkWithPopup(e){return ii(this.auth,tz(this._delegate,e,Aa))}async linkWithRedirect(e){return await m0(Dt(this.auth)),cz(this._delegate,e,Aa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ii(this.auth,uk(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return g0(this.auth,K5(this._delegate,e,t))}reauthenticateWithPopup(e){return ii(this.auth,ez(this._delegate,e,Aa))}async reauthenticateWithRedirect(e){return await m0(Dt(this.auth)),lz(this._delegate,e,Aa)}sendEmailVerification(e){return l5(this._delegate,e)}async unlink(e){return await W6(this._delegate,e),this}updateEmail(e){return d5(this._delegate,e)}updatePassword(e){return f5(this._delegate,e)}updatePhoneNumber(e){return W5(this._delegate,e)}updateProfile(e){return h5(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return u5(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Ey.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=ce;class y0{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;ld(i,"invalid-api-key",{appName:e.name}),ld(i,"invalid-api-key",{appName:e.name});const r=typeof window<"u"?Aa:void 0;this._delegate=t.initialize({options:{persistence:D9(i,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(LF),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ey.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){S6(this._delegate,e,t)}applyActionCode(e){return Z6(this._delegate,e)}checkActionCode(e){return ck(this._delegate,e)}confirmPasswordReset(e,t){return J6(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ii(this._delegate,t5(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return o5(this._delegate,e)}isSignInWithEmailLink(e){return r5(this._delegate,e)}async getRedirectResult(){ld(CT(),this._delegate,"operation-not-supported-in-this-environment");const e=await dz(this._delegate,Aa);return e?ii(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){f9(this._delegate,e)}onAuthStateChanged(e,t,i){const{next:r,error:o,complete:l}=b1(e,t,i);return this._delegate.onAuthStateChanged(r,o,l)}onIdTokenChanged(e,t,i){const{next:r,error:o,complete:l}=b1(e,t,i);return this._delegate.onIdTokenChanged(r,o,l)}sendSignInLinkToEmail(e,t){return i5(this._delegate,e,t)}sendPasswordResetEmail(e,t){return X6(this._delegate,e,t||void 0)}async setPersistence(e){A9(this._delegate,e);let t;switch(e){case Ti.SESSION:t=hl;break;case Ti.LOCAL:t=await Ei(ef)._isAvailable()?ef:JE;break;case Ti.NONE:t=ac;break;default:return Cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ii(this._delegate,K6(this._delegate))}signInWithCredential(e){return ii(this._delegate,my(this._delegate,e))}signInWithCustomToken(e){return ii(this._delegate,Q6(this._delegate,e))}signInWithEmailAndPassword(e,t){return ii(this._delegate,n5(this._delegate,e,t))}signInWithEmailLink(e,t){return ii(this._delegate,s5(this._delegate,e,t))}signInWithPhoneNumber(e,t){return g0(this._delegate,H5(this._delegate,e,t))}async signInWithPopup(e){return ld(CT(),this._delegate,"operation-not-supported-in-this-environment"),ii(this._delegate,Z5(this._delegate,e,Aa))}async signInWithRedirect(e){return ld(CT(),this._delegate,"operation-not-supported-in-this-environment"),await m0(this._delegate),az(this._delegate,e,Aa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return e5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}y0.Persistence=Ti;function b1(n,e,t){let i=n;typeof n!="function"&&({next:i,error:e,complete:t}=n);const r=i;return{next:l=>r(l&&Ey.getOrCreate(l)),error:e,complete:t}}function D9(n,e){const t=S9(n,e);if(typeof self<"u"&&!t.includes(ef)&&t.push(ef),typeof window<"u")for(const i of[JE,hl])t.includes(i)||t.push(i);return t.includes(ac)||t.push(ac),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static credential(e,t){return dl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new dl(kk(Ga.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ab.PHONE_SIGN_IN_METHOD=dl.PHONE_SIGN_IN_METHOD;ab.PROVIDER_ID=dl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=ce;class N9{constructor(e,t,i=Ga.app()){var r;k9((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new q5(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9="auth-compat";function V9(n){n.INTERNAL.registerComponent(new Hi(O9,e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new y0(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Su.EMAIL_SIGNIN,PASSWORD_RESET:Su.PASSWORD_RESET,RECOVER_EMAIL:Su.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Su.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Su.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Su.VERIFY_EMAIL}},EmailAuthProvider:Ka,FacebookAuthProvider:Ar,GithubAuthProvider:Ir,GoogleAuthProvider:Sr,OAuthProvider:Wu,SAMLAuthProvider:Rg,PhoneAuthProvider:ab,PhoneMultiFactorGenerator:Ik,RecaptchaVerifier:N9,TwitterAuthProvider:Rr,Auth:y0,AuthCredential:Nc,Error:Un}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(p9,m9)}V9(Ga);var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,Ok;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function N(){}N.prototype=I.prototype,x.D=I.prototype,x.prototype=new N,x.prototype.constructor=x,x.C=function(L,F,$){for(var M=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)M[yt-2]=arguments[yt];return I.prototype[F].apply(L,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,I,N){N||(N=0);var L=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)L[F]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(F=0;16>F;++F)L[F]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=x.g[0],N=x.g[1],F=x.g[2];var $=x.g[3],M=I+($^N&(F^$))+L[0]+3614090360&4294967295;I=N+(M<<7&4294967295|M>>>25),M=$+(F^I&(N^F))+L[1]+3905402710&4294967295,$=I+(M<<12&4294967295|M>>>20),M=F+(N^$&(I^N))+L[2]+606105819&4294967295,F=$+(M<<17&4294967295|M>>>15),M=N+(I^F&($^I))+L[3]+3250441966&4294967295,N=F+(M<<22&4294967295|M>>>10),M=I+($^N&(F^$))+L[4]+4118548399&4294967295,I=N+(M<<7&4294967295|M>>>25),M=$+(F^I&(N^F))+L[5]+1200080426&4294967295,$=I+(M<<12&4294967295|M>>>20),M=F+(N^$&(I^N))+L[6]+2821735955&4294967295,F=$+(M<<17&4294967295|M>>>15),M=N+(I^F&($^I))+L[7]+4249261313&4294967295,N=F+(M<<22&4294967295|M>>>10),M=I+($^N&(F^$))+L[8]+1770035416&4294967295,I=N+(M<<7&4294967295|M>>>25),M=$+(F^I&(N^F))+L[9]+2336552879&4294967295,$=I+(M<<12&4294967295|M>>>20),M=F+(N^$&(I^N))+L[10]+4294925233&4294967295,F=$+(M<<17&4294967295|M>>>15),M=N+(I^F&($^I))+L[11]+2304563134&4294967295,N=F+(M<<22&4294967295|M>>>10),M=I+($^N&(F^$))+L[12]+1804603682&4294967295,I=N+(M<<7&4294967295|M>>>25),M=$+(F^I&(N^F))+L[13]+4254626195&4294967295,$=I+(M<<12&4294967295|M>>>20),M=F+(N^$&(I^N))+L[14]+2792965006&4294967295,F=$+(M<<17&4294967295|M>>>15),M=N+(I^F&($^I))+L[15]+1236535329&4294967295,N=F+(M<<22&4294967295|M>>>10),M=I+(F^$&(N^F))+L[1]+4129170786&4294967295,I=N+(M<<5&4294967295|M>>>27),M=$+(N^F&(I^N))+L[6]+3225465664&4294967295,$=I+(M<<9&4294967295|M>>>23),M=F+(I^N&($^I))+L[11]+643717713&4294967295,F=$+(M<<14&4294967295|M>>>18),M=N+($^I&(F^$))+L[0]+3921069994&4294967295,N=F+(M<<20&4294967295|M>>>12),M=I+(F^$&(N^F))+L[5]+3593408605&4294967295,I=N+(M<<5&4294967295|M>>>27),M=$+(N^F&(I^N))+L[10]+38016083&4294967295,$=I+(M<<9&4294967295|M>>>23),M=F+(I^N&($^I))+L[15]+3634488961&4294967295,F=$+(M<<14&4294967295|M>>>18),M=N+($^I&(F^$))+L[4]+3889429448&4294967295,N=F+(M<<20&4294967295|M>>>12),M=I+(F^$&(N^F))+L[9]+568446438&4294967295,I=N+(M<<5&4294967295|M>>>27),M=$+(N^F&(I^N))+L[14]+3275163606&4294967295,$=I+(M<<9&4294967295|M>>>23),M=F+(I^N&($^I))+L[3]+4107603335&4294967295,F=$+(M<<14&4294967295|M>>>18),M=N+($^I&(F^$))+L[8]+1163531501&4294967295,N=F+(M<<20&4294967295|M>>>12),M=I+(F^$&(N^F))+L[13]+2850285829&4294967295,I=N+(M<<5&4294967295|M>>>27),M=$+(N^F&(I^N))+L[2]+4243563512&4294967295,$=I+(M<<9&4294967295|M>>>23),M=F+(I^N&($^I))+L[7]+1735328473&4294967295,F=$+(M<<14&4294967295|M>>>18),M=N+($^I&(F^$))+L[12]+2368359562&4294967295,N=F+(M<<20&4294967295|M>>>12),M=I+(N^F^$)+L[5]+4294588738&4294967295,I=N+(M<<4&4294967295|M>>>28),M=$+(I^N^F)+L[8]+2272392833&4294967295,$=I+(M<<11&4294967295|M>>>21),M=F+($^I^N)+L[11]+1839030562&4294967295,F=$+(M<<16&4294967295|M>>>16),M=N+(F^$^I)+L[14]+4259657740&4294967295,N=F+(M<<23&4294967295|M>>>9),M=I+(N^F^$)+L[1]+2763975236&4294967295,I=N+(M<<4&4294967295|M>>>28),M=$+(I^N^F)+L[4]+1272893353&4294967295,$=I+(M<<11&4294967295|M>>>21),M=F+($^I^N)+L[7]+4139469664&4294967295,F=$+(M<<16&4294967295|M>>>16),M=N+(F^$^I)+L[10]+3200236656&4294967295,N=F+(M<<23&4294967295|M>>>9),M=I+(N^F^$)+L[13]+681279174&4294967295,I=N+(M<<4&4294967295|M>>>28),M=$+(I^N^F)+L[0]+3936430074&4294967295,$=I+(M<<11&4294967295|M>>>21),M=F+($^I^N)+L[3]+3572445317&4294967295,F=$+(M<<16&4294967295|M>>>16),M=N+(F^$^I)+L[6]+76029189&4294967295,N=F+(M<<23&4294967295|M>>>9),M=I+(N^F^$)+L[9]+3654602809&4294967295,I=N+(M<<4&4294967295|M>>>28),M=$+(I^N^F)+L[12]+3873151461&4294967295,$=I+(M<<11&4294967295|M>>>21),M=F+($^I^N)+L[15]+530742520&4294967295,F=$+(M<<16&4294967295|M>>>16),M=N+(F^$^I)+L[2]+3299628645&4294967295,N=F+(M<<23&4294967295|M>>>9),M=I+(F^(N|~$))+L[0]+4096336452&4294967295,I=N+(M<<6&4294967295|M>>>26),M=$+(N^(I|~F))+L[7]+1126891415&4294967295,$=I+(M<<10&4294967295|M>>>22),M=F+(I^($|~N))+L[14]+2878612391&4294967295,F=$+(M<<15&4294967295|M>>>17),M=N+($^(F|~I))+L[5]+4237533241&4294967295,N=F+(M<<21&4294967295|M>>>11),M=I+(F^(N|~$))+L[12]+1700485571&4294967295,I=N+(M<<6&4294967295|M>>>26),M=$+(N^(I|~F))+L[3]+2399980690&4294967295,$=I+(M<<10&4294967295|M>>>22),M=F+(I^($|~N))+L[10]+4293915773&4294967295,F=$+(M<<15&4294967295|M>>>17),M=N+($^(F|~I))+L[1]+2240044497&4294967295,N=F+(M<<21&4294967295|M>>>11),M=I+(F^(N|~$))+L[8]+1873313359&4294967295,I=N+(M<<6&4294967295|M>>>26),M=$+(N^(I|~F))+L[15]+4264355552&4294967295,$=I+(M<<10&4294967295|M>>>22),M=F+(I^($|~N))+L[6]+2734768916&4294967295,F=$+(M<<15&4294967295|M>>>17),M=N+($^(F|~I))+L[13]+1309151649&4294967295,N=F+(M<<21&4294967295|M>>>11),M=I+(F^(N|~$))+L[4]+4149444226&4294967295,I=N+(M<<6&4294967295|M>>>26),M=$+(N^(I|~F))+L[11]+3174756917&4294967295,$=I+(M<<10&4294967295|M>>>22),M=F+(I^($|~N))+L[2]+718787259&4294967295,F=$+(M<<15&4294967295|M>>>17),M=N+($^(F|~I))+L[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(F+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+F&4294967295,x.g[3]=x.g[3]+$&4294967295}i.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var N=I-this.blockSize,L=this.B,F=this.h,$=0;$<I;){if(F==0)for(;$<=N;)r(this,x,$),$+=this.blockSize;if(typeof x=="string"){for(;$<I;)if(L[F++]=x.charCodeAt($++),F==this.blockSize){r(this,L),F=0;break}}else for(;$<I;)if(L[F++]=x[$++],F==this.blockSize){r(this,L),F=0;break}}this.h=F,this.o+=I},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var N=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=N&255,N/=256;for(this.u(x),x=Array(16),I=N=0;4>I;++I)for(var L=0;32>L;L+=8)x[N++]=this.g[I]>>>L&255;return x};function o(x,I){var N=c;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=I(x)}function l(x,I){this.h=I;for(var N=[],L=!0,F=x.length-1;0<=F;F--){var $=x[F]|0;L&&$==I||(N[F]=$,L=!1)}this.g=N}var c={};function d(x){return-128<=x&&128>x?o(x,function(I){return new l([I|0],0>I?-1:0)}):new l([x|0],0>x?-1:0)}function f(x){if(isNaN(x)||!isFinite(x))return _;if(0>x)return C(f(-x));for(var I=[],N=1,L=0;x>=N;L++)I[L]=x/N|0,N*=4294967296;return new l(I,0)}function g(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return C(g(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(I,8)),L=_,F=0;F<x.length;F+=8){var $=Math.min(8,x.length-F),M=parseInt(x.substring(F,F+$),I);8>$?($=f(Math.pow(I,$)),L=L.j($).add(f(M))):(L=L.j(N),L=L.add(f(M)))}return L}var _=d(0),T=d(1),w=d(16777216);n=l.prototype,n.m=function(){if(D(this))return-C(this).m();for(var x=0,I=1,N=0;N<this.g.length;N++){var L=this.i(N);x+=(0<=L?L:4294967296+L)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A(this))return"0";if(D(this))return"-"+C(this).toString(x);for(var I=f(Math.pow(x,6)),N=this,L="";;){var F=q(N,I).g;N=P(N,F.j(I));var $=((0<N.g.length?N.g[0]:N.h)>>>0).toString(x);if(N=F,A(N))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function A(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function D(x){return x.h==-1}n.l=function(x){return x=P(this,x),D(x)?-1:A(x)?0:1};function C(x){for(var I=x.g.length,N=[],L=0;L<I;L++)N[L]=~x.g[L];return new l(N,~x.h).add(T)}n.abs=function(){return D(this)?C(this):this},n.add=function(x){for(var I=Math.max(this.g.length,x.g.length),N=[],L=0,F=0;F<=I;F++){var $=L+(this.i(F)&65535)+(x.i(F)&65535),M=($>>>16)+(this.i(F)>>>16)+(x.i(F)>>>16);L=M>>>16,$&=65535,M&=65535,N[F]=M<<16|$}return new l(N,N[N.length-1]&-2147483648?-1:0)};function P(x,I){return x.add(C(I))}n.j=function(x){if(A(this)||A(x))return _;if(D(this))return D(x)?C(this).j(C(x)):C(C(this).j(x));if(D(x))return C(this.j(C(x)));if(0>this.l(w)&&0>x.l(w))return f(this.m()*x.m());for(var I=this.g.length+x.g.length,N=[],L=0;L<2*I;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<x.g.length;F++){var $=this.i(L)>>>16,M=this.i(L)&65535,yt=x.i(F)>>>16,st=x.i(F)&65535;N[2*L+2*F]+=M*st,O(N,2*L+2*F),N[2*L+2*F+1]+=$*st,O(N,2*L+2*F+1),N[2*L+2*F+1]+=M*yt,O(N,2*L+2*F+1),N[2*L+2*F+2]+=$*yt,O(N,2*L+2*F+2)}for(L=0;L<I;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=I;L<2*I;L++)N[L]=0;return new l(N,0)};function O(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function k(x,I){this.g=x,this.h=I}function q(x,I){if(A(I))throw Error("division by zero");if(A(x))return new k(_,_);if(D(x))return I=q(C(x),I),new k(C(I.g),C(I.h));if(D(I))return I=q(x,C(I)),new k(C(I.g),I.h);if(30<x.g.length){if(D(x)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var N=T,L=I;0>=L.l(x);)N=j(N),L=j(L);var F=Q(N,1),$=Q(L,1);for(L=Q(L,2),N=Q(N,2);!A(L);){var M=$.add(L);0>=M.l(x)&&(F=F.add(N),$=M),L=Q(L,1),N=Q(N,1)}return I=P(x,F.j(I)),new k(F,I)}for(F=_;0<=x.l(I);){for(N=Math.max(1,Math.floor(x.m()/I.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=f(N),M=$.j(I);D(M)||0<M.l(x);)N-=L,$=f(N),M=$.j(I);A($)&&($=T),F=F.add($),x=P(x,M)}return new k(F,x)}n.A=function(x){return q(this,x).h},n.and=function(x){for(var I=Math.max(this.g.length,x.g.length),N=[],L=0;L<I;L++)N[L]=this.i(L)&x.i(L);return new l(N,this.h&x.h)},n.or=function(x){for(var I=Math.max(this.g.length,x.g.length),N=[],L=0;L<I;L++)N[L]=this.i(L)|x.i(L);return new l(N,this.h|x.h)},n.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),N=[],L=0;L<I;L++)N[L]=this.i(L)^x.i(L);return new l(N,this.h^x.h)};function j(x){for(var I=x.g.length+1,N=[],L=0;L<I;L++)N[L]=x.i(L)<<1|x.i(L-1)>>>31;return new l(N,x.h)}function Q(x,I){var N=I>>5;I%=32;for(var L=x.g.length-N,F=[],$=0;$<L;$++)F[$]=0<I?x.i($+N)>>>I|x.i($+N+1)<<32-I:x.i($+N);return new l(F,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ok=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,xa=l}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vk,Ed,Mk,rg,_0,Lk,Uk,Bk;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,v,E){return p==Array.prototype||p==Object.prototype||(p[v]=E.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nm=="object"&&Nm];for(var v=0;v<p.length;++v){var E=p[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function r(p,v){if(v)e:{var E=i;p=p.split(".");for(var R=0;R<p.length-1;R++){var G=p[R];if(!(G in E))break e;E=E[G]}p=p[p.length-1],R=E[p],v=v(R),v!=R&&v!=null&&e(E,p,{configurable:!0,writable:!0,value:v})}}function o(p,v){p instanceof String&&(p+="");var E=0,R=!1,G={next:function(){if(!R&&E<p.length){var ee=E++;return{value:v(ee,p[ee]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(p){return p||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(p){var v=typeof p;return v=v!="object"?v:p?Array.isArray(p)?"array":v:"null",v=="array"||v=="object"&&typeof p.length=="number"}function f(p){var v=typeof p;return v=="object"&&p!=null||v=="function"}function g(p,v,E){return p.call.apply(p.bind,arguments)}function _(p,v,E){if(!p)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),p.apply(v,G)}}return function(){return p.apply(v,arguments)}}function T(p,v,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function w(p,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),p.apply(this,R)}}function A(p,v){function E(){}E.prototype=v.prototype,p.aa=v.prototype,p.prototype=new E,p.prototype.constructor=p,p.Qb=function(R,G,ee){for(var fe=Array(arguments.length-2),je=2;je<arguments.length;je++)fe[je-2]=arguments[je];return v.prototype[G].apply(R,fe)}}function D(p){const v=p.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=p[R];return E}return[]}function C(p,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(d(R)){const G=p.length||0,ee=R.length||0;p.length=G+ee;for(let fe=0;fe<ee;fe++)p[G+fe]=R[fe]}else p.push(R)}}class P{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(p){return/^[\s\xa0]*$/.test(p)}function k(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var j=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function Q(p,v,E){for(const R in p)v.call(E,p[R],R,p)}function x(p,v){for(const E in p)v.call(void 0,p[E],E,p)}function I(p){const v={};for(const E in p)v[E]=p[E];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(p,v){let E,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(E in R)p[E]=R[E];for(let ee=0;ee<N.length;ee++)E=N[ee],Object.prototype.hasOwnProperty.call(R,E)&&(p[E]=R[E])}}function F(p){var v=1;p=p.split(":");const E=[];for(;0<v&&p.length;)E.push(p.shift()),v--;return p.length&&E.push(p.join(":")),E}function $(p){c.setTimeout(()=>{throw p},0)}function M(){var p=Pe;let v=null;return p.g&&(v=p.g,p.g=p.g.next,p.g||(p.h=null),v.next=null),v}class yt{constructor(){this.h=this.g=null}add(v,E){const R=st.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var st=new P(()=>new ne,p=>p.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,Pe=new yt,B=()=>{const p=c.Promise.resolve(void 0);ue=()=>{p.then(ae)}};var ae=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(E){$(E)}var v=st;v.j(p),100>v.h&&(v.h++,p.next=v.g,v.g=p)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(p,v){this.type=p,this.g=this.target=v,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,v=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return p}();function De(p,v){if(he.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var E=this.type=p.type,R=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=v,v=p.relatedTarget){if(j){e:{try{q(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else E=="mouseover"?v=p.fromElement:E=="mouseout"&&(v=p.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ae[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&De.aa.h.call(this)}}A(De,he);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function un(p,v,E,R,G){this.listener=p,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=G,this.key=++Ke,this.da=this.fa=!1}function Ai(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Zn(p){this.src=p,this.g={},this.h=0}Zn.prototype.add=function(p,v,E,R,G){var ee=p.toString();p=this.g[ee],p||(p=this.g[ee]=[],this.h++);var fe=to(p,v,R,G);return-1<fe?(v=p[fe],E||(v.fa=!1)):(v=new un(v,this.src,ee,!!R,G),v.fa=E,p.push(v)),v};function xn(p,v){var E=v.type;if(E in p.g){var R=p.g[E],G=Array.prototype.indexOf.call(R,v,void 0),ee;(ee=0<=G)&&Array.prototype.splice.call(R,G,1),ee&&(Ai(v),p.g[E].length==0&&(delete p.g[E],p.h--))}}function to(p,v,E,R){for(var G=0;G<p.length;++G){var ee=p[G];if(!ee.da&&ee.listener==v&&ee.capture==!!E&&ee.ha==R)return G}return-1}var no="closure_lm_"+(1e6*Math.random()|0),Kc={};function sp(p,v,E,R,G){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)sp(p,v[ee],E,R,G);return null}return E=ap(E),p&&p[At]?p.K(v,E,f(R)?!!R.capture:!1,G):Si(p,v,E,!1,R,G)}function Si(p,v,E,R,G,ee){if(!v)throw Error("Invalid event type");var fe=f(G)?!!G.capture:!!G,je=Nl(p);if(je||(p[no]=je=new Zn(p)),E=je.add(v,E,R,fe,ee),E.proxy)return E;if(R=a_(),E.proxy=R,R.src=p,R.listener=E,p.addEventListener)be||(G=fe),G===void 0&&(G=!1),p.addEventListener(v.toString(),R,G);else if(p.attachEvent)p.attachEvent(io(v.toString()),R);else if(p.addListener&&p.removeListener)p.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function a_(){function p(E){return v.call(p.src,p.listener,E)}const v=o_;return p}function Wc(p,v,E,R,G){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Wc(p,v[ee],E,R,G);else R=f(R)?!!R.capture:!!R,E=ap(E),p&&p[At]?(p=p.i,v=String(v).toString(),v in p.g&&(ee=p.g[v],E=to(ee,E,R,G),-1<E&&(Ai(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete p.g[v],p.h--)))):p&&(p=Nl(p))&&(v=p.g[v.toString()],p=-1,v&&(p=to(v,E,R,G)),(E=-1<p?v[p]:null)&&kl(E))}function kl(p){if(typeof p!="number"&&p&&!p.da){var v=p.src;if(v&&v[At])xn(v.i,p);else{var E=p.type,R=p.proxy;v.removeEventListener?v.removeEventListener(E,R,p.capture):v.detachEvent?v.detachEvent(io(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=Nl(v))?(xn(E,p),E.h==0&&(E.src=null,v[no]=null)):Ai(p)}}}function io(p){return p in Kc?Kc[p]:Kc[p]="on"+p}function o_(p,v){if(p.da)p=!0;else{v=new De(v,this);var E=p.listener,R=p.ha||p.src;p.fa&&kl(p),p=E.call(R,v)}return p}function Nl(p){return p=p[no],p instanceof Zn?p:null}var Yc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ap(p){return typeof p=="function"?p:(p[Yc]||(p[Yc]=function(v){return p.handleEvent(v)}),p[Yc])}function Ot(){de.call(this),this.i=new Zn(this),this.M=this,this.F=null}A(Ot,de),Ot.prototype[At]=!0,Ot.prototype.removeEventListener=function(p,v,E,R){Wc(this,p,v,E,R)};function et(p,v){var E,R=p.F;if(R)for(E=[];R;R=R.F)E.push(R);if(p=p.M,R=v.type||v,typeof v=="string")v=new he(v,p);else if(v instanceof he)v.target=v.target||p;else{var G=v;v=new he(R,p),L(v,G)}if(G=!0,E)for(var ee=E.length-1;0<=ee;ee--){var fe=v.g=E[ee];G=ui(fe,R,!0,v)&&G}if(fe=v.g=p,G=ui(fe,R,!0,v)&&G,G=ui(fe,R,!1,v)&&G,E)for(ee=0;ee<E.length;ee++)fe=v.g=E[ee],G=ui(fe,R,!1,v)&&G}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var p=this.i,v;for(v in p.g){for(var E=p.g[v],R=0;R<E.length;R++)Ai(E[R]);delete p.g[v],p.h--}}this.F=null},Ot.prototype.K=function(p,v,E,R){return this.i.add(String(p),v,!1,E,R)},Ot.prototype.L=function(p,v,E,R){return this.i.add(String(p),v,!0,E,R)};function ui(p,v,E,R){if(v=p.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,ee=0;ee<v.length;++ee){var fe=v[ee];if(fe&&!fe.da&&fe.capture==E){var je=fe.listener,nn=fe.ha||fe.src;fe.fa&&xn(p.i,fe),G=je.call(nn,R)!==!1&&G}}return G&&!R.defaultPrevented}function Pn(p,v,E){if(typeof p=="function")E&&(p=T(p,E));else if(p&&typeof p.handleEvent=="function")p=T(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(p,v||0)}function op(p){p.g=Pn(()=>{p.g=null,p.i&&(p.i=!1,op(p))},p.l);const v=p.h;p.h=null,p.m.apply(null,v)}class l_ extends de{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:op(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(p){de.call(this),this.h=p,this.g={}}A(ro,de);var so=[];function ao(p){Q(p.g,function(v,E){this.g.hasOwnProperty(E)&&kl(v)},p),p.g={}}ro.prototype.N=function(){ro.aa.N.call(this),ao(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=c.JSON.stringify,Ol=c.JSON.parse,oo=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Qc(){}Qc.prototype.h=null;function Xc(p){return p.h||(p.h=p.i())}function Jc(){}var Hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gr(){he.call(this,"d")}A(Gr,he);function Zc(){he.call(this,"c")}A(Zc,he);var rr={},eh=null;function js(){return eh=eh||new Ot}rr.La="serverreachability";function Vl(p){he.call(this,rr.La,p)}A(Vl,he);function qs(p){const v=js();et(v,new Vl(v))}rr.STAT_EVENT="statevent";function lp(p,v){he.call(this,rr.STAT_EVENT,p),this.stat=v}A(lp,he);function _t(p){const v=js();et(v,new lp(v,p))}rr.Ma="timingevent";function tn(p,v){he.call(this,rr.Ma,p),this.size=v}A(tn,he);function Wt(p,v){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},v)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function th(p,v,E,R,G,ee){p.info(function(){if(p.g)if(ee)for(var fe="",je=ee.split("&"),nn=0;nn<je.length;nn++){var qe=je[nn].split("=");if(1<qe.length){var hn=qe[0];qe=qe[1];var rn=hn.split("_");fe=2<=rn.length&&rn[1]=="type"?fe+(hn+"="+qe+"&"):fe+(hn+"=redacted&")}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+v+`
`+E+`
`+fe})}function u_(p,v,E,R,G,ee,fe){p.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+v+`
`+E+`
`+ee+" "+fe})}function $s(p,v,E,R){p.info(function(){return"XMLHTTP TEXT ("+v+"): "+lo(p,E)+(R?" "+R:"")})}function up(p,v){p.info(function(){return"TIMEOUT: "+v})}Ii.prototype.info=function(){};function lo(p,v){if(!p.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(p=0;p<E.length;p++)if(Array.isArray(E[p])){var R=E[p];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var fe=1;fe<G.length;fe++)G[fe]=""}}}}return Ki(E)}catch{return v}}var Hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function ar(){}A(ar,Qc),ar.prototype.g=function(){return new XMLHttpRequest},ar.prototype.i=function(){return{}},sr=new ar;function zn(p,v,E,R){this.j=p,this.i=v,this.l=E,this.R=R||1,this.U=new ro(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zt}function zt(){this.i=null,this.g="",this.h=!1}var nh={},Ml={};function Wi(p,v,E){p.L=1,p.v=po(ci(v)),p.m=E,p.P=!0,Wr(p,null)}function Wr(p,v){p.F=Date.now(),uo(p),p.A=ci(p.v);var E=p.A,R=p.R;Array.isArray(R)||(R=[String(R)]),lh(E.i,"t",R),p.C=0,E=p.j.J,p.h=new zt,p.g=Sp(p.j,E?v:null,!p.m),0<p.O&&(p.M=new l_(T(p.Y,p,p.g),p.O)),v=p.U,E=p.g,R=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(so[0]=G.toString()),G=so);for(var ee=0;ee<G.length;ee++){var fe=sp(E,G[ee],R||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,v)):(p.u="GET",p.g.ea(p.A,p.u,null,v)),qs(),th(p.i,p.u,p.A,p.l,p.R,p.m)}zn.prototype.ca=function(p){p=p.target;const v=this.M;v&&Pi(p)==3?v.j():this.Y(p)},zn.prototype.Y=function(p){try{if(p==this.g)e:{const rn=Pi(this.g);var v=this.g.Ba();const ns=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||yp(this.g)))){this.J||rn!=4||v==7||(v==8||0>=ns?qs(3):qs(2)),Gs(this);var E=this.g.Z();this.X=E;t:if(cp(this)){var R=yp(this.g);p="";var G=R.length,ee=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),or(this);var fe="";break t}this.h.i=new c.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,p+=this.h.i.decode(R[v],{stream:!(ee&&v==G-1)});R.length=0,this.h.g+=p,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,u_(this.i,this.u,this.A,this.l,this.R,rn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var je,nn=this.g;if((je=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(je)){var qe=je;break t}}qe=null}if(E=qe)$s(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,E);else{this.o=!1,this.s=3,_t(12),vn(this),or(this);break e}}if(this.P){E=!0;let Tn;for(;!this.J&&this.C<fe.length;)if(Tn=hp(this,fe),Tn==Ml){rn==4&&(this.s=4,_t(14),E=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==nh){this.s=4,_t(15),$s(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else $s(this.i,this.l,Tn,null),co(this,Tn);if(cp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||fe.length!=0||this.h.h||(this.s=1,_t(16),E=!1),this.o=this.o&&E,!E)$s(this.i,this.l,fe,"[Invalid Chunked Response]"),vn(this),or(this);else if(0<fe.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),bo(hn),hn.M=!0,_t(11))}}else $s(this.i,this.l,fe,null),co(this,fe);rn==4&&vn(this),this.o&&!this.J&&(rn==4?bp(this.j,this):(this.o=!1,uo(this)))}else p_(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),vn(this),or(this)}}}catch{}finally{}};function cp(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function hp(p,v){var E=p.C,R=v.indexOf(`
`,E);return R==-1?Ml:(E=Number(v.substring(E,R)),isNaN(E)?nh:(R+=1,R+E>v.length?Ml:(v=v.slice(R,R+E),p.C=R+E,v)))}zn.prototype.cancel=function(){this.J=!0,vn(this)};function uo(p){p.S=Date.now()+p.I,dp(p,p.I)}function dp(p,v){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Wt(T(p.ba,p),v)}function Gs(p){p.B&&(c.clearTimeout(p.B),p.B=null)}zn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(up(this.i,this.A),this.L!=2&&(qs(),_t(17)),vn(this),this.s=2,or(this)):dp(this,this.S-p)};function or(p){p.j.G==0||p.J||bp(p.j,p)}function vn(p){Gs(p);var v=p.M;v&&typeof v.ma=="function"&&v.ma(),p.M=null,ao(p.U),p.g&&(v=p.g,p.g=null,v.abort(),v.ma())}function co(p,v){try{var E=p.j;if(E.G!=0&&(E.g==p||ih(E.h,p))){if(!p.K&&ih(E.h,p)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<p.F)Wl(E),Gl(E);else break e;fh(E),_t(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=Wt(T(E.Za,E),6e3));if(1>=Ul(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ts(E,11)}else if((p.K||E.g==p)&&Wl(E),!O(v))for(G=E.Da.g.parse(v),v=0;v<G.length;v++){let qe=G[v];if(E.T=qe[0],qe=qe[1],E.G==2)if(qe[0]=="c"){E.K=qe[1],E.ia=qe[2];const hn=qe[3];hn!=null&&(E.la=hn,E.j.info("VER="+E.la));const rn=qe[4];rn!=null&&(E.Aa=rn,E.j.info("SVER="+E.Aa));const ns=qe[5];ns!=null&&typeof ns=="number"&&0<ns&&(R=1.5*ns,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Tn=p.g;if(Tn){const pr=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var ee=R.h;ee.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Bl(ee,ee.h),ee.h=null))}if(R.D){const mh=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;mh&&(R.ya=mh,at(R.I,R.D,mh))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-p.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var fe=p;if(R.qa=Ap(R,R.J?R.ia:null,R.W),fe.K){jn(R.h,fe);var je=fe,nn=R.L;nn&&(je.I=nn),je.B&&(Gs(je),uo(je)),R.g=fe}else Tp(R);0<E.i.length&&Kl(E)}else qe[0]!="stop"&&qe[0]!="close"||ts(E,7);else E.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ts(E,7):hh(E):qe[0]!="noop"&&E.l&&E.l.ta(qe),E.v=0)}}qs(4)}catch{}}var fp=class{constructor(p,v){this.g=p,this.map=v}};function Yr(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ul(p){return p.h?1:p.g?p.g.size:0}function ih(p,v){return p.h?p.h==v:p.g?p.g.has(v):!1}function Bl(p,v){p.g?p.g.add(v):p.h=v}function jn(p,v){p.h&&p.h==v?p.h=null:p.g&&p.g.has(v)&&p.g.delete(v)}Yr.prototype.cancel=function(){if(this.i=rh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function rh(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let v=p.i;for(const E of p.g.values())v=v.concat(E.D);return v}return D(p.i)}function c_(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var v=[],E=p.length,R=0;R<E;R++)v.push(p[R]);return v}v=[],E=0;for(R in p)v[E++]=p[R];return v}function Fl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var v=[];p=p.length;for(var E=0;E<p;E++)v.push(E);return v}v=[],E=0;for(const R in p)v[E++]=R;return v}}}function sh(p,v){if(p.forEach&&typeof p.forEach=="function")p.forEach(v,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,v,void 0);else for(var E=Fl(p),R=c_(p),G=R.length,ee=0;ee<G;ee++)v.call(void 0,R[ee],E&&E[ee],p)}var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h_(p,v){if(p){p=p.split("&");for(var E=0;E<p.length;E++){var R=p[E].indexOf("="),G=null;if(0<=R){var ee=p[E].substring(0,R);G=p[E].substring(R+1)}else ee=p[E];v(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Yt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Yt){this.h=p.h,fo(this,p.j),this.o=p.o,this.g=p.g,Ks(this,p.s),this.l=p.l;var v=p.i,E=new Xr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Qr(this,E),this.m=p.m}else p&&(v=String(p).match(ho))?(this.h=!1,fo(this,v[1]||"",!0),this.o=Ri(v[2]||""),this.g=Ri(v[3]||"",!0),Ks(this,v[4]),this.l=Ri(v[5]||"",!0),Qr(this,v[6]||"",!0),this.m=Ri(v[7]||"")):(this.h=!1,this.i=new Xr(null,this.h))}Yt.prototype.toString=function(){var p=[],v=this.j;v&&p.push(mo(v,ah,!0),":");var E=this.g;return(E||v=="file")&&(p.push("//"),(v=this.o)&&p.push(mo(v,ah,!0),"@"),p.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&p.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&p.push("/"),p.push(mo(E,E.charAt(0)=="/"?d_:oh,!0))),(E=this.i.toString())&&p.push("?",E),(E=this.m)&&p.push("#",mo(E,zl)),p.join("")};function ci(p){return new Yt(p)}function fo(p,v,E){p.j=E?Ri(v,!0):v,p.j&&(p.j=p.j.replace(/:$/,""))}function Ks(p,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);p.s=v}else p.s=null}function Qr(p,v,E){v instanceof Xr?(p.i=v,mp(p.i,p.h)):(E||(v=mo(v,f_)),p.i=new Xr(v,p.h))}function at(p,v,E){p.i.set(v,E)}function po(p){return at(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ri(p,v){return p?v?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function mo(p,v,E){return typeof p=="string"?(p=encodeURI(p).replace(v,pp),E&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function pp(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ah=/[#\/\?@]/g,oh=/[#\?:]/g,d_=/[#\?]/g,f_=/[#\?@]/g,zl=/#/g;function Xr(p,v){this.h=this.g=null,this.i=p||null,this.j=!!v}function Ci(p){p.g||(p.g=new Map,p.h=0,p.i&&h_(p.i,function(v,E){p.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Xr.prototype,n.add=function(p,v){Ci(this),this.i=null,p=lr(this,p);var E=this.g.get(p);return E||this.g.set(p,E=[]),E.push(v),this.h+=1,this};function Jr(p,v){Ci(p),v=lr(p,v),p.g.has(v)&&(p.i=null,p.h-=p.g.get(v).length,p.g.delete(v))}function Zr(p,v){return Ci(p),v=lr(p,v),p.g.has(v)}n.forEach=function(p,v){Ci(this),this.g.forEach(function(E,R){E.forEach(function(G){p.call(v,G,R,this)},this)},this)},n.na=function(){Ci(this);const p=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const G=p[R];for(let ee=0;ee<G.length;ee++)E.push(v[R])}return E},n.V=function(p){Ci(this);let v=[];if(typeof p=="string")Zr(this,p)&&(v=v.concat(this.g.get(lr(this,p))));else{p=Array.from(this.g.values());for(let E=0;E<p.length;E++)v=v.concat(p[E])}return v},n.set=function(p,v){return Ci(this),this.i=null,p=lr(this,p),Zr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[v]),this.h+=1,this},n.get=function(p,v){return p?(p=this.V(p),0<p.length?String(p[0]):v):v};function lh(p,v,E){Jr(p,v),0<E.length&&(p.i=null,p.g.set(lr(p,v),D(E)),p.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const ee=encodeURIComponent(String(R)),fe=this.V(R);for(R=0;R<fe.length;R++){var G=ee;fe[R]!==""&&(G+="="+encodeURIComponent(String(fe[R]))),p.push(G)}}return this.i=p.join("&")};function lr(p,v){return v=String(v),p.j&&(v=v.toLowerCase()),v}function mp(p,v){v&&!p.j&&(Ci(p),p.i=null,p.g.forEach(function(E,R){var G=R.toLowerCase();R!=G&&(Jr(this,R),lh(this,G,E))},p)),p.j=v}function go(p,v){const E=new Ii;if(c.Image){const R=new Image;R.onload=w(xi,E,"TestLoadImage: loaded",!0,v,R),R.onerror=w(xi,E,"TestLoadImage: error",!1,v,R),R.onabort=w(xi,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=w(xi,E,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=p}else v(!1)}function Yi(p,v){const E=new Ii,R=new AbortController,G=setTimeout(()=>{R.abort(),xi(E,"TestPingServer: timeout",!1,v)},1e4);fetch(p,{signal:R.signal}).then(ee=>{clearTimeout(G),ee.ok?xi(E,"TestPingServer: ok",!0,v):xi(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),xi(E,"TestPingServer: error",!1,v)})}function xi(p,v,E,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(E)}catch{}}function yo(){this.g=new oo}function ur(p,v,E){const R=E||"";try{sh(p,function(G,ee){let fe=G;f(G)&&(fe=Ki(G)),v.push(R+ee+"="+encodeURIComponent(fe))})}catch(G){throw v.push(R+"type="+encodeURIComponent("_badmap")),G}}function Ws(p){this.l=p.Ub||null,this.j=p.eb||!1}A(Ws,Qc),Ws.prototype.g=function(){return new es(this.l,this.j)},Ws.prototype.i=function(p){return function(){return p}}({});function es(p,v){Ot.call(this),this.D=p,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(es,Ot),n=es.prototype,n.open=function(p,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=v,this.readyState=1,hr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(v.body=p),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function uh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var v=p.value?p.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!p.done}))&&(this.response=this.responseText+=v)}p.done?cr(this):hr(this),this.readyState==3&&uh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,cr(this))},n.Qa=function(p){this.g&&(this.response=p,cr(this))},n.ga=function(){this.g&&cr(this)};function cr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,hr(p)}n.setRequestHeader=function(p,v){this.u.append(p,v)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,p.push(E[0]+": "+E[1]),E=v.next();return p.join(`\r
`)};function hr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ch(p){let v="";return Q(p,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function cn(p,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=ch(E),typeof p=="string"?E!=null&&encodeURIComponent(String(E)):at(p,v,E))}function Xe(p){Ot.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Xe,Ot);var jl=/^https?$/i,_o=["POST","PUT"];n=Xe.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);v=v?v.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?Xc(this.o):Xc(sr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(p),!0),this.B=!1}catch(ee){gp(this,ee);return}if(p=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)E.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())E.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(_o,v,void 0))||R||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of E)this.g.setRequestHeader(ee,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(p),this.u=!1}catch(ee){gp(this,ee)}};function gp(p,v){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=v,p.m=5,ql(p),dr(p)}function ql(p){p.A||(p.A=!0,et(p,"complete"),et(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,et(this,"complete"),et(this,"abort"),dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$l(this):this.bb())},n.bb=function(){$l(this)};function $l(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Pi(p)!=4||p.Z()!=2)){if(p.u&&Pi(p)==4)Pn(p.Ea,0,p);else if(et(p,"readystatechange"),Pi(p)==4){p.h=!1;try{const fe=p.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=fe===0){var G=String(p.D).match(ho)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),R=!jl.test(G?G.toLowerCase():"")}E=R}if(E)et(p,"complete"),et(p,"success");else{p.m=6;try{var ee=2<Pi(p)?p.g.statusText:""}catch{ee=""}p.l=ee+" ["+p.Z()+"]",ql(p)}}finally{dr(p)}}}}function dr(p,v){if(p.g){vo(p);const E=p.g,R=p.v[0]?()=>{}:null;p.g=null,p.v=null,v||et(p,"ready");try{E.onreadystatechange=R}catch{}}}function vo(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Pi(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var v=this.g.responseText;return p&&v.indexOf(p)==0&&(v=v.substring(p.length)),Ol(v)}};function yp(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function p_(p){const v={};p=(p.g&&2<=Pi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<p.length;R++){if(O(p[R]))continue;var E=F(p[R]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=v[G]||[];v[G]=ee,ee.push(E)}x(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(p,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[p]||v}function Hl(p){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=To("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=To("baseRetryDelayMs",5e3,p),this.cb=To("retryDelaySeedMs",1e4,p),this.Wa=To("forwardChannelMaxRetries",2,p),this.wa=To("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Yr(p&&p.concurrentRequestLimit),this.Da=new yo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Hl.prototype,n.la=8,n.G=1,n.connect=function(p,v,E,R){_t(0),this.W=p,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Ap(this,null,this.W),Kl(this)};function hh(p){if(_p(p),p.G==3){var v=p.U++,E=ci(p.I);if(at(E,"SID",p.K),at(E,"RID",v),at(E,"TYPE","terminate"),Eo(p,E),v=new zn(p,p.j,v),v.L=2,v.v=po(ci(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=Sp(v.j,null),v.g.ea(v.v)),v.F=Date.now(),uo(v)}wp(p)}function Gl(p){p.g&&(bo(p),p.g.cancel(),p.g=null)}function _p(p){Gl(p),p.u&&(c.clearTimeout(p.u),p.u=null),Wl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Kl(p){if(!Ll(p.h)&&!p.s){p.s=!0;var v=p.Ga;ue||B(),ge||(ue(),ge=!0),Pe.add(v,p),p.B=0}}function m_(p,v){return Ul(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=v.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Wt(T(p.Ga,p,v),ph(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new zn(this,this.j,p);let ee=this.o;if(this.S&&(ee?(ee=I(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||(G.H=ee,ee=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=vp(this,G,v),E=ci(this.I),at(E,"RID",p),at(E,"CVER",22),this.D&&at(E,"X-HTTP-Session-Id",this.D),Eo(this,E),ee&&(this.O?v="headers="+encodeURIComponent(String(ch(ee)))+"&"+v:this.m&&cn(E,this.m,ee)),Bl(this.h,G),this.Ua&&at(E,"TYPE","init"),this.P?(at(E,"$req",v),at(E,"SID","null"),G.T=!0,Wi(G,E,null)):Wi(G,E,v),this.G=2}}else this.G==3&&(p?dh(this,p):this.i.length==0||Ll(this.h)||dh(this))};function dh(p,v){var E;v?E=v.l:E=p.U++;const R=ci(p.I);at(R,"SID",p.K),at(R,"RID",E),at(R,"AID",p.T),Eo(p,R),p.m&&p.o&&cn(R,p.m,p.o),E=new zn(p,p.j,E,p.B+1),p.m===null&&(E.H=p.o),v&&(p.i=v.D.concat(p.i)),v=vp(p,E,1e3),E.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Bl(p.h,E),Wi(E,R,v)}function Eo(p,v){p.H&&Q(p.H,function(E,R){at(v,R,E)}),p.l&&sh({},function(E,R){at(v,R,E)})}function vp(p,v,E){E=Math.min(p.i.length,E);var R=p.l?T(p.l.Na,p.l,p):null;e:{var G=p.i;let ee=-1;for(;;){const fe=["count="+E];ee==-1?0<E?(ee=G[0].g,fe.push("ofs="+ee)):ee=0:fe.push("ofs="+ee);let je=!0;for(let nn=0;nn<E;nn++){let qe=G[nn].g;const hn=G[nn].map;if(qe-=ee,0>qe)ee=Math.max(0,G[nn].g-100),je=!1;else try{ur(hn,fe,"req"+qe+"_")}catch{R&&R(hn)}}if(je){R=fe.join("&");break e}}}return p=p.i.splice(0,E),v.D=p,R}function Tp(p){if(!p.g&&!p.u){p.Y=1;var v=p.Fa;ue||B(),ge||(ue(),ge=!0),Pe.add(v,p),p.v=0}}function fh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Wt(T(p.Fa,p),ph(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Ep(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Wt(T(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Gl(this),Ep(this))};function bo(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Ep(p){p.g=new zn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var v=ci(p.qa);at(v,"RID","rpc"),at(v,"SID",p.K),at(v,"AID",p.T),at(v,"CI",p.F?"0":"1"),!p.F&&p.ja&&at(v,"TO",p.ja),at(v,"TYPE","xmlhttp"),Eo(p,v),p.m&&p.o&&cn(v,p.m,p.o),p.L&&(p.g.I=p.L);var E=p.g;p=p.ia,E.L=1,E.v=po(ci(v)),E.m=null,E.P=!0,Wr(E,p)}n.Za=function(){this.C!=null&&(this.C=null,Gl(this),fh(this),_t(19))};function Wl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function bp(p,v){var E=null;if(p.g==v){Wl(p),bo(p),p.g=null;var R=2}else if(ih(p.h,v))E=v.D,jn(p.h,v),R=1;else return;if(p.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var G=p.B;R=js(),et(R,new tn(R,E)),Kl(p)}else Tp(p);else if(G=v.s,G==3||G==0&&0<v.X||!(R==1&&m_(p,v)||R==2&&fh(p)))switch(E&&0<E.length&&(v=p.h,v.i=v.i.concat(E)),G){case 1:ts(p,5);break;case 4:ts(p,10);break;case 3:ts(p,6);break;default:ts(p,2)}}}function ph(p,v){let E=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(E*=2),E*v}function ts(p,v){if(p.j.info("Error code "+v),v==2){var E=T(p.fb,p),R=p.Xa;const G=!R;R=new Yt(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fo(R,"https"),po(R),G?go(R.toString(),E):Yi(R.toString(),E)}else _t(2);p.G=0,p.l&&p.l.sa(v),wp(p),_p(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function wp(p){if(p.G=0,p.ka=[],p.l){const v=rh(p.h);(v.length!=0||p.i.length!=0)&&(C(p.ka,v),C(p.ka,p.i),p.h.i.length=0,D(p.i),p.i.length=0),p.l.ra()}}function Ap(p,v,E){var R=E instanceof Yt?ci(E):new Yt(E);if(R.g!="")v&&(R.g=v+"."+R.g),Ks(R,R.s);else{var G=c.location;R=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var ee=new Yt(null);R&&fo(ee,R),v&&(ee.g=v),G&&Ks(ee,G),E&&(ee.l=E),R=ee}return E=p.D,v=p.ya,E&&v&&at(R,E,v),at(R,"VER",p.la),Eo(p,R),R}function Sp(p,v,E){if(v&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=p.Ca&&!p.pa?new Xe(new Ws({eb:E})):new Xe(p.pa),v.Ha(p.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ip(){}n=Ip.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Yl(){}Yl.prototype.g=function(p,v){return new qn(p,v)};function qn(p,v){Ot.call(this),this.g=new Hl(v),this.l=p,this.h=v&&v.messageUrlParams||null,p=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(p?p["X-WebChannel-Content-Type"]=v.messageContentType:p={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(p?p["X-WebChannel-Client-Profile"]=v.va:p={"X-WebChannel-Client-Profile":v.va}),this.g.S=p,(p=v&&v.Sb)&&!O(p)&&(this.g.m=p),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.D=v,p=this.h,p!==null&&v in p&&(p=this.h,v in p&&delete p[v])),this.j=new fr(this)}A(qn,Ot),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){hh(this.g)},qn.prototype.o=function(p){var v=this.g;if(typeof p=="string"){var E={};E.__data__=p,p=E}else this.u&&(E={},E.__data__=Ki(p),p=E);v.i.push(new fp(v.Ya++,p)),v.G==3&&Kl(v)},qn.prototype.N=function(){this.g.l=null,delete this.j,hh(this.g),delete this.g,qn.aa.N.call(this)};function Rp(p){Gr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var v=p.__sm__;if(v){e:{for(const E in v){p=E;break e}p=void 0}(this.i=p)&&(p=this.i,v=v!==null&&p in v?v[p]:void 0),this.data=v}else this.data=p}A(Rp,Gr);function Cp(){Zc.call(this),this.status=1}A(Cp,Zc);function fr(p){this.g=p}A(fr,Ip),fr.prototype.ua=function(){et(this.g,"a")},fr.prototype.ta=function(p){et(this.g,new Rp(p))},fr.prototype.sa=function(p){et(this.g,new Cp)},fr.prototype.ra=function(){et(this.g,"b")},Yl.prototype.createWebChannel=Yl.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,Bk=function(){return new Yl},Uk=function(){return js()},Lk=rr,_0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,rg=Hs,Kr.COMPLETE="complete",Mk=Kr,Jc.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Ed=Jc,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Vk=Xe}).apply(typeof Nm<"u"?Nm:typeof self<"u"?self:typeof window<"u"?window:{});const A1="@firebase/firestore",S1="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new cy("@firebase/firestore");function Nu(){return Va.logLevel}function M9(n){Va.setLogLevel(n)}function le(n,...e){if(Va.logLevel<=Be.DEBUG){const t=e.map(ob);Va.debug(`Firestore (${Vc}): ${n}`,...t)}}function Ht(n,...e){if(Va.logLevel<=Be.ERROR){const t=e.map(ob);Va.error(`Firestore (${Vc}): ${n}`,...t)}}function Fr(n,...e){if(Va.logLevel<=Be.WARN){const t=e.map(ob);Va.warn(`Firestore (${Vc}): ${n}`,...t)}}function ob(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Fk(n,i,t)}function Fk(n,e,t){let i=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ht(i),new Error(i)}function ve(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||Fk(e,r,i)}function L9(n,e){n||ye(57014,e)}function me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class B9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F9{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},c=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ve(typeof i.accessToken=="string",31837,{l:i}),new zk(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class z9{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j9{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new z9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ve(this.o===void 0,3512);const i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new I1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=$9(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%62))}return i}}function Re(n,e){return n<e?-1:n>e?1:0}function v0(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Re(i,r);{const o=lb(),l=H9(o.encode(R1(n,t)),o.encode(R1(e,t)));return l!==0?l:Re(i,r)}}t+=i>65535?2:1}return Re(n.length,e.length)}function R1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function H9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Re(n[t],e[t]);return Re(n.length,e.length)}function lc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function qk(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=-62135596800,x1=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*x1);return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<C1)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x1}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-C1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new wt(0,0))}static max(){return new Ee(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="__name__";class Tr{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ye(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=Tr.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return Re(e.length,t.length)}static compareSegments(e,t){const i=Tr.isNumericId(e),r=Tr.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):v0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class Fe extends Tr{construct(e,t,i){return new Fe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Fe(t)}static emptyPath(){return new Fe([])}}const G9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Tr{construct(e,t,i){return new Et(e,t,i)}static isValidIdentifier(e){return G9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P1}static keyField(){return new Et([P1])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(i.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else c==="`"?(l=!l,r++):c!=="."||l?(i+=c,r++):(o(),r++)}if(o(),l)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(t)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Fe.fromString(e))}static fromName(e){return new pe(Fe.fromString(e).popFirst(5))}static empty(){return new pe(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;class Dg{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function T0(n){return n.fields.find(e=>e.kind===2)}function zo(n){return n.fields.filter(e=>e.kind!==2)}Dg.UNKNOWN_ID=-1;class sg{constructor(e,t){this.fieldPath=e,this.kind=t}}class tf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tf(0,wi.min())}}function $k(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ee.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new wi(r,pe.empty(),e)}function Hk(n){return new wi(n.readTime,n.key,uc)}class wi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wi(Ee.min(),pe.empty(),uc)}static max(){return new wi(Ee.max(),pe.empty(),uc)}}function ub(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==Gk)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let r=0,o=0,l=!1;e.forEach(c=>{++r,c.next(()=>{++o,l&&o===r&&t()},d=>i(d))}),l=!0,o===r&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(r=>r?K.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new K((i,r)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{l[f]=g,++c,c===o&&i(l)},g=>r(g))}})}static doWhile(e,t){return new K((i,r)=>{const o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="SimpleDb";class by{static open(e,t,i,r){try{return new by(t,e.transaction(r,i))}catch(o){throw new Nd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Rn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Nd(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const r=cb(i.target.error);this.S.reject(new Nd(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(vi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new W9(t)}}class kr{static delete(e){return le(vi,"Removing database:",e),$o(NE().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Wd())return!1;if(kr.F())return!0;const e=Pt(),t=kr.M(e),i=0<t&&t<10,r=Wk(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.B=i,this.L=null,kr.M(Pt())===12.2&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(le(vi,"Opening database:",this.name),this.db=await new Promise((t,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{const l=o.target.result;t(l)},r.onblocked=()=>{i(new Nd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{const l=o.target.error;l.name==="VersionError"?i(new oe(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?i(new oe(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):i(new Nd(e,l))},r.onupgradeneeded=o=>{le(vi,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${l.version}`);this.B.q(l,r.transaction,o.oldVersion,this.version).next(()=>{le(vi,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const i=t.target;this.L=i.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,r){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.k(e);const c=by.open(this.db,e,o?"readonly":"readwrite",i),d=r(c).next(f=>(c.v(),f)).catch(f=>(c.abort(f),K.reject(f))).toPromise();return d.catch(()=>{}),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(le(vi,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Wk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class K9{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return $o(this.K.delete())}}class Nd extends oe{constructor(e,t){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ya(n){return n.name==="IndexedDbTransactionError"}class W9{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(le(vi,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(le(vi,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),$o(i)}add(e){return le(vi,"ADD",this.store.name,e,e),$o(this.store.add(e))}get(e){return $o(this.store.get(e)).next(t=>(t===void 0&&(t=null),le(vi,"GET",this.store.name,e,t),t))}delete(e){return le(vi,"DELETE",this.store.name,e),$o(this.store.delete(e))}count(){return le(vi,"COUNT",this.store.name),$o(this.store.count())}J(e,t){const i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){const o=r.getAll(i.range);return new K((l,c)=>{o.onerror=d=>{c(d.target.error)},o.onsuccess=d=>{l(d.target.result)}})}{const o=this.cursor(i),l=[];return this.Y(o,(c,d)=>{l.push(d)}).next(()=>l)}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new K((r,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}X(e,t){le(vi,"DELETE ALL",this.store.name);const i=this.options(e,t);i.ee=!1;const r=this.cursor(i);return this.Y(r,(o,l,c)=>c.delete())}te(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Y(r,t)}ne(e){const t=this.cursor({});return new K((i,r)=>{t.onerror=o=>{const l=cb(o.target.error);r(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(c=>{c?l.continue():i()}):i()}})}Y(e,t){const i=[];return new K((r,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void r();const d=new K9(c),f=t(c.primaryKey,c.value,d);if(f instanceof K){const g=f.catch(_=>(d.done(),K.reject(_)));i.push(g)}d.isDone?r():d.j===null?c.continue():c.continue(d.j)}}).next(()=>K.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.ee?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $o(n){return new K((e,t)=>{n.onsuccess=i=>{const r=i.target.result;e(r)},n.onerror=i=>{const r=cb(i.target.error);t(r)}})}let D1=!1;function cb(n){const e=kr.M(Pt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return D1||(D1=!0,setTimeout(()=>{throw i},0)),i}}return n}const Od="IndexBackfiller";class Y9{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){le(Od,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();le(Od,`Documents written: ${t}`)}catch(t){Ya(t)?le(Od,"Ignoring IndexedDB error during index backfill: ",t):await Wa(t)}await this.ie(6e4)})}}class Q9{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const i=new Set;let r=t,o=!0;return K.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!i.has(l))return le(Od,`Processing collection: ${l}`),this._e(e,l,r).next(c=>{r-=c,i.add(l)});o=!1})).next(()=>t-r)}_e(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ae(r,o)).next(c=>(le(Od,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>l.size)}))}ae(e,t){let i=e;return t.changes.forEach((r,o)=>{const l=Hk(o);ub(l,i)>0&&(i=l)}),new wi(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}si.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=-1;function Bf(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function Yk(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="";function Bn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=k1(e)),e=X9(n.get(t),e);return k1(e)}function X9(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="";break;case kg:t+="";break;default:t+=o}}return t}function k1(n){return n+kg+""}function Pr(n){const e=n.length;if(ve(e>=2,64408,{path:n}),e===2)return ve(n.charAt(0)===kg&&n.charAt(1)==="",56145,{path:n}),Fe.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const l=n.indexOf(kg,o);switch((l<0||l>t)&&ye(50515,{path:n}),n.charAt(l+1)){case"":const c=n.substring(o,l);let d;r.length===0?d=c:(r+=c,d=r,r=""),i.push(d);break;case"":r+=n.substring(o,l),r+="\0";break;case"":r+=n.substring(o,l+1);break;default:ye(61167,{path:n})}o=l+2}return new Fe(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="remoteDocuments",Ff="owner",Iu="owner",rf="mutationQueues",J9="userId",er="mutations",N1="batchId",Xo="userMutationsIndex",O1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(n,e){return[n,Bn(e)]}function Qk(n,e,t){return[n,Bn(e),t]}const Z9={},cc="documentMutations",Ng="remoteDocumentsV14",ej=["prefixPath","collectionGroup","readTime","documentId"],og="documentKeyIndex",tj=["prefixPath","collectionGroup","documentId"],Xk="collectionGroupIndex",nj=["collectionGroup","readTime","prefixPath","documentId"],sf="remoteDocumentGlobal",E0="remoteDocumentGlobalKey",hc="targets",Jk="queryTargetsIndex",ij=["canonicalId","targetId"],dc="targetDocuments",rj=["targetId","path"],hb="documentTargetsIndex",sj=["path","targetId"],Og="targetGlobalKey",al="targetGlobal",af="collectionParents",aj=["collectionId","parent"],fc="clientMetadata",oj="clientId",wy="bundles",lj="bundleId",Ay="namedQueries",uj="name",db="indexConfiguration",cj="indexId",b0="collectionGroupIndex",hj="collectionGroup",Vg="indexState",dj=["indexId","uid"],Zk="sequenceNumberIndex",fj=["uid","sequenceNumber"],Mg="indexEntries",pj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],eN="documentKeyIndex",mj=["indexId","uid","orderedDocumentKey"],Sy="documentOverlays",gj=["userId","collectionPath","documentId"],w0="collectionPathOverlayIndex",yj=["userId","collectionPath","largestBatchId"],tN="collectionGroupOverlayIndex",_j=["userId","collectionGroup","largestBatchId"],fb="globals",vj="name",nN=[rf,er,cc,jo,hc,Ff,al,dc,fc,sf,af,wy,Ay],Tj=[...nN,Sy],iN=[rf,er,cc,Ng,hc,Ff,al,dc,fc,sf,af,wy,Ay,Sy],rN=iN,pb=[...rN,db,Vg,Mg],Ej=pb,bj=[...pb,fb];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends Kk{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function ln(n,e){const t=me(n);return kr.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Om(this.root,e,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Om(this.root,e,this.comparator,!0)}}class Om{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Sn.RED,this.left=r??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Sn(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Sn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,i,r,o){return this}insert(e,t,i){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M1(this.data.getIterator())}getIteratorFrom(e){return new M1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rt(this.comparator);return t.data=e,t}}class M1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ru(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new ai([])}unionWith(e){let t=new rt(Et.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new aN("Invalid base64 string: "+o):o}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Aj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(ve(!!n,39018),typeof n=="string"){let e=0;const t=Aj.exec(n);if(ve(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xs(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="server_timestamp",lN="__type__",uN="__previous_value__",cN="__local_write_time__";function Iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[lN])===null||t===void 0?void 0:t.stringValue)===oN}function Ry(n){const e=n.mapValue.fields[uN];return Iy(e)?Ry(e):e}function of(n){const e=Cs(n.mapValue.fields[cN].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t,i,r,o,l,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}const S0="(default)";class Ma{constructor(e,t){this.projectId=e,this.database=t||S0}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database===S0}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="__type__",hN="__max__",Sa={mapValue:{fields:{__type__:{stringValue:hN}}}},gb="__vector__",pc="value",lg={nullValue:"NULL_VALUE"};function La(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iy(n)?4:dN(n)?9007199254740991:Cy(n)?10:11:ye(28295,{value:n})}function zr(n,e){if(n===e)return!0;const t=La(n);if(t!==La(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return of(n).isEqual(of(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Cs(r.timestampValue),c=Cs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return xs(r.bytesValue).isEqual(xs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Tt(r.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(r.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Tt(r.integerValue)===Tt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Tt(r.doubleValue),c=Tt(o.doubleValue);return l===c?nf(l)===nf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(r,o){const l=r.mapValue.fields||{},c=o.mapValue.fields||{};if(V1(l)!==V1(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!zr(l[d],c[d])))return!1;return!0}(n,e);default:return ye(52216,{left:n})}}function lf(n,e){return(n.values||[]).find(t=>zr(t,e))!==void 0}function Ua(n,e){if(n===e)return 0;const t=La(n),i=La(e);if(t!==i)return Re(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Tt(o.integerValue||o.doubleValue),d=Tt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return L1(n.timestampValue,e.timestampValue);case 4:return L1(of(n),of(e));case 5:return v0(n.stringValue,e.stringValue);case 6:return function(o,l){const c=xs(o),d=xs(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const g=Re(c[f],d[f]);if(g!==0)return g}return Re(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Re(Tt(o.latitude),Tt(l.latitude));return c!==0?c:Re(Tt(o.longitude),Tt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return U1(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,f,g;const _=o.fields||{},T=l.fields||{},w=(c=_[pc])===null||c===void 0?void 0:c.arrayValue,A=(d=T[pc])===null||d===void 0?void 0:d.arrayValue,D=Re(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:U1(w,A)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Sa.mapValue&&l===Sa.mapValue)return 0;if(o===Sa.mapValue)return 1;if(l===Sa.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const T=v0(d[_],g[_]);if(T!==0)return T;const w=Ua(c[d[_]],f[g[_]]);if(w!==0)return w}return Re(d.length,g.length)}(n.mapValue,e.mapValue);default:throw ye(23264,{Pe:t})}}function L1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=Cs(n),i=Cs(e),r=Re(t.seconds,i.seconds);return r!==0?r:Re(t.nanos,i.nanos)}function U1(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const o=Ua(t[r],i[r]);if(o)return o}return Re(t.length,i.length)}function mc(n){return I0(n)}function I0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Cs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=I0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${I0(t.fields[l])}`;return r+"}"}(n.mapValue):ye(61005,{value:n})}function ug(n){switch(La(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ry(n);return e?16+ug(e):16;case 5:return 2*n.stringValue.length;case 6:return xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+ug(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Qa(i.fields,(o,l)=>{r+=o.length+ug(l)}),r}(n.mapValue);default:throw ye(13486,{value:n})}}function pl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function R0(n){return!!n&&"integerValue"in n}function uf(n){return!!n&&"arrayValue"in n}function B1(n){return!!n&&"nullValue"in n}function F1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cg(n){return!!n&&"mapValue"in n}function Cy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mb])===null||t===void 0?void 0:t.stringValue)===gb}function Vd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Vd(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===hN}const fN={mapValue:{fields:{[mb]:{stringValue:gb},[pc]:{arrayValue:{}}}}};function Ij(n){return"nullValue"in n?lg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?pl(Ma.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Cy(n)?fN:{mapValue:{}}:ye(35942,{value:n})}function Rj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?pl(Ma.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?fN:"mapValue"in n?Cy(n)?{mapValue:{}}:Sa:ye(61959,{value:n})}function z1(n,e){const t=Ua(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function j1(n,e){const t=Ua(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!cg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vd(t)}setAll(e){let t=Et.emptyPath(),i={},r=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=c.popLast()}l?i[c.lastSegment()]=Vd(l):r.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());cg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];cg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Qa(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new In(Vd(this.value))}}function pN(n){const e=[];return Qa(n.fields,(t,i)=>{const r=new Et([t]);if(cg(i)){const o=pN(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t,i,r,o,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new pt(e,0,Ee.min(),Ee.min(),Ee.min(),In.empty(),0)}static newFoundDocument(e,t,i,r){return new pt(e,1,t,Ee.min(),i,r,0)}static newNoDocument(e,t){return new pt(e,2,t,Ee.min(),Ee.min(),In.empty(),0)}static newUnknownDocument(e,t){return new pt(e,3,t,Ee.min(),Ee.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this.position=e,this.inclusive=t}}function q1(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],l=n.position[r];if(o.field.isKeyField()?i=pe.comparator(pe.fromName(l.referenceValue),t.key):i=Ua(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function $1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Cj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{}class ze extends mN{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xj(e,t,i):t==="array-contains"?new kj(e,i):t==="in"?new EN(e,i):t==="not-in"?new Nj(e,i):t==="array-contains-any"?new Oj(e,i):new ze(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Pj(e,i):new Dj(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ua(t,this.value)):t!==null&&La(this.value)===La(t)&&this.matchesComparison(Ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class it extends mN{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new it(e,t)}matches(e){return gc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function gc(n){return n.op==="and"}function C0(n){return n.op==="or"}function yb(n){return gN(n)&&gc(n)}function gN(n){for(const e of n.filters)if(e instanceof it)return!1;return!0}function x0(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+mc(n.value);if(yb(n))return n.filters.map(e=>x0(e)).join(",");{const e=n.filters.map(t=>x0(t)).join(",");return`${n.op}(${e})`}}function yN(n,e){return n instanceof ze?function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&zr(i.value,r.value)}(n,e):n instanceof it?function(i,r){return r instanceof it&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,c)=>o&&yN(l,r.filters[c]),!0):!1}(n,e):void ye(19439)}function _N(n,e){const t=n.filters.concat(e);return it.create(t,n.op)}function vN(n){return n instanceof ze?function(t){return`${t.field.canonicalString()} ${t.op} ${mc(t.value)}`}(n):n instanceof it?function(t){return t.op.toString()+" {"+t.getFilters().map(vN).join(" ,")+"}"}(n):"Filter"}class xj extends ze{constructor(e,t,i){super(e,t,i),this.key=pe.fromName(i.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pj extends ze{constructor(e,t){super(e,"in",t),this.keys=TN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Dj extends ze{constructor(e,t){super(e,"not-in",t),this.keys=TN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>pe.fromName(i.referenceValue))}class kj extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uf(t)&&lf(t.arrayValue,this.value)}}class EN extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lf(this.value.arrayValue,t)}}class Nj extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lf(this.value.arrayValue,t)}}class Oj extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>lf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t=null,i=[],r=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=c,this.Ie=null}}function P0(n,e=null,t=[],i=[],r=null,o=null,l=null){return new Vj(n,e,t,i,r,o,l)}function ml(n){const e=me(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>x0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>mc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>mc(i)).join(",")),e.Ie=t}return e.Ie}function zf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Cj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$1(n.startAt,e.startAt)&&$1(n.endAt,e.endAt)}function Lg(n){return pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Ug(n,e){return n.filters.filter(t=>t instanceof ze&&t.field.isEqual(e))}function H1(n,e,t){let i=lg,r=!0;for(const o of Ug(n,e)){let l=lg,c=!0;switch(o.op){case"<":case"<=":l=Ij(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,c=!1;break;case"!=":case"not-in":l=lg}z1({value:i,inclusive:r},{value:l,inclusive:c})<0&&(i=l,r=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];z1({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}}return{value:i,inclusive:r}}function G1(n,e,t){let i=Sa,r=!0;for(const o of Ug(n,e)){let l=Sa,c=!0;switch(o.op){case">=":case">":l=Rj(o.value),c=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,c=!1;break;case"!=":case"not-in":l=Sa}j1({value:i,inclusive:r},{value:l,inclusive:c})>0&&(i=l,r=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];j1({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}}return{value:i,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t=null,i=[],r=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bN(n,e,t,i,r,o,l,c){return new Ls(n,e,t,i,r,o,l,c)}function Mc(n){return new Ls(n)}function K1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _b(n){return n.collectionGroup!==null}function Qu(n){const e=me(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new rt(Et.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new cf(o,i))}),t.has(Et.keyField().canonicalString())||e.Ee.push(new cf(Et.keyField(),i))}return e.Ee}function Xn(n){const e=me(n);return e.de||(e.de=Mj(e,Qu(n))),e.de}function Mj(n,e){if(n.limitType==="F")return P0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new cf(r.field,o)});const t=n.endAt?new Ba(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ba(n.startAt.position,n.startAt.inclusive):null;return P0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function D0(n,e){const t=n.filters.concat([e]);return new Ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bg(n,e,t){return new Ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jf(n,e){return zf(Xn(n),Xn(e))&&n.limitType===e.limitType}function wN(n){return`${ml(Xn(n))}|lt:${n.limitType}`}function Ou(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>vN(r)).join(", ")}]`),Bf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>mc(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>mc(r)).join(",")),`Target(${i})`}(Xn(n))}; limitType=${n.limitType})`}function qf(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Qu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(l,c,d){const f=q1(l,c,d);return l.inclusive?f<=0:f<0}(i.startAt,Qu(i),r)||i.endAt&&!function(l,c,d){const f=q1(l,c,d);return l.inclusive?f>=0:f>0}(i.endAt,Qu(i),r))}(n,e)}function AN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SN(n){return(e,t)=>{let i=!1;for(const r of Qu(n)){const o=Lj(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Lj(n,e,t){const i=n.field.isKeyField()?pe.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?Ua(d,f):ye(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return sN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new dt(pe.comparator);function oi(){return Uj}const IN=new dt(pe.comparator);function bd(...n){let e=IN;for(const t of n)e=e.insert(t.key,t);return e}function RN(n){let e=IN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Dr(){return Md()}function CN(){return Md()}function Md(){return new Us(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bj=new dt(pe.comparator),Fj=new rt(pe.comparator);function ke(...n){let e=Fj;for(const t of n)e=e.add(t);return e}const zj=new rt(Re);function vb(){return zj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function xN(n){return{integerValue:""+n}}function PN(n,e){return Yk(e)?xN(e):Tb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this._=void 0}}function jj(n,e,t){return n instanceof yc?function(r,o){const l={fields:{[lN]:{stringValue:oN},[cN]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Iy(o)&&(o=Ry(o)),o&&(l.fields[uN]=o),{mapValue:l}}(t,e):n instanceof gl?kN(n,e):n instanceof yl?NN(n,e):function(r,o){const l=DN(r,o),c=W1(l)+W1(r.Re);return R0(l)&&R0(r.Re)?xN(c):Tb(r.serializer,c)}(n,e)}function qj(n,e,t){return n instanceof gl?kN(n,e):n instanceof yl?NN(n,e):t}function DN(n,e){return n instanceof _c?function(i){return R0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class yc extends xy{}class gl extends xy{constructor(e){super(),this.elements=e}}function kN(n,e){const t=ON(e);for(const i of n.elements)t.some(r=>zr(r,i))||t.push(i);return{arrayValue:{values:t}}}class yl extends xy{constructor(e){super(),this.elements=e}}function NN(n,e){let t=ON(e);for(const i of n.elements)t=t.filter(r=>!zr(r,i));return{arrayValue:{values:t}}}class _c extends xy{constructor(e,t){super(),this.serializer=e,this.Re=t}}function W1(n){return Tt(n.integerValue||n.doubleValue)}function ON(n){return uf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.field=e,this.transform=t}}function $j(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof gl&&r instanceof gl||i instanceof yl&&r instanceof yl?lc(i.elements,r.elements,zr):i instanceof _c&&r instanceof _c?zr(i.Re,r.Re):i instanceof yc&&r instanceof yc}(n.transform,e.transform)}class Hj{constructor(e,t){this.version=e,this.transformResults=t}}class bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Py{}function VN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Uc(n.key,bt.none()):new Lc(n.key,n.data,bt.none());{const t=n.data,i=In.empty();let r=new rt(Et.comparator);for(let o of e.fields)if(!r.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new Bs(n.key,i,new ai(r.toArray()),bt.none())}}function Gj(n,e,t){n instanceof Lc?function(r,o,l){const c=r.value.clone(),d=Q1(r.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Bs?function(r,o,l){if(!hg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Q1(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(MN(r)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ld(n,e,t,i){return n instanceof Lc?function(o,l,c,d){if(!hg(o.precondition,l))return c;const f=o.value.clone(),g=X1(o.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Bs?function(o,l,c,d){if(!hg(o.precondition,l))return c;const f=X1(o.fieldTransforms,d,l),g=l.data;return g.setAll(MN(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(o,l,c){return hg(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function Kj(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=DN(i.transform,r||null);o!=null&&(t===null&&(t=In.empty()),t.set(i.field,o))}return t||null}function Y1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&lc(i,r,(o,l)=>$j(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Lc extends Py{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bs extends Py{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Q1(n,e,t){const i=new Map;ve(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){const o=n[r],l=o.transform,c=e.data.field(o.field);i.set(o.field,qj(l,c,t[r]))}return i}function X1(n,e,t){const i=new Map;for(const r of n){const o=r.transform,l=t.data.field(r.field);i.set(r.field,jj(o,l,e))}return i}class Uc extends Py{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb extends Py{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Gj(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ld(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ld(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=CN();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(r.key)?null:c;const d=VN(l,c);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(Ee.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,i)=>Y1(t,i))&&lc(this.baseMutations,e.baseMutations,(t,i)=>Y1(t,i))}}class wb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ve(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return Bj}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new wb(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,He;function LN(n){switch(n){case Z.OK:return ye(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function UN(n){if(n===void 0)return Ht("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Jt.OK:return Z.OK;case Jt.CANCELLED:return Z.CANCELLED;case Jt.UNKNOWN:return Z.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return Z.INTERNAL;case Jt.UNAVAILABLE:return Z.UNAVAILABLE;case Jt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Jt.NOT_FOUND:return Z.NOT_FOUND;case Jt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Jt.ABORTED:return Z.ABORTED;case Jt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Jt.DATA_LOSS:return Z.DATA_LOSS;default:return ye(39323,{code:n})}}(He=Jt||(Jt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new xa([4294967295,4294967295],0);function J1(n){const e=lb().encode(n),t=new Ok;return t.update(e),new Uint8Array(t.digest())}function Z1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xa([t,i],0),new xa([r,o],0)]}class Sb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new wd(`Invalid padding: ${t}`);if(i<0)throw new wd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new wd(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new wd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=xa.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(xa.fromNumber(i)));return r.compare(Yj)===1&&(r=new xa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=J1(e),[i,r]=Z1(t);for(let o=0;o<this.hashCount;o++){const l=this.we(i,r,o);if(!this.be(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Sb(o,r,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=J1(e),[i,r]=Z1(t);for(let o=0;o<this.hashCount;o++){const l=this.we(i,r,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Gf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hf(Ee.min(),r,new dt(Re),oi(),ke())}}class Gf{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gf(i,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}}class BN{constructor(e,t){this.targetId=e,this.Ce=t}}class FN{constructor(e,t,i=Ut.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class eC{constructor(){this.Fe=0,this.Me=tC(),this.xe=Ut.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),t=ke(),i=ke();return this.Me.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ye(38017,{changeType:o})}}),new Gf(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=tC()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Qj{constructor(e){this.ze=e,this.je=new Map,this.He=oi(),this.Je=Vm(),this.Ye=Vm(),this.Ze=new dt(Re)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){const o=r.target;if(Lg(o))if(i===0){const l=new pe(o.path);this.tt(t,l,pt.newNoDocument(l,Ee.min()))}else ve(i===1,20013,{expectedCount:i});else{const l=this.ut(t);if(l!==i){const c=this.ct(e),d=c?this.lt(c,e,l):1;if(d!==0){this.st(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let l,c;try{l=xs(i).toUint8Array()}catch(d){if(d instanceof aN)return Fr("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Sb(l,r,o)}catch(d){return Fr(d instanceof wd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.pe===0?null:c}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),r++)}),r}It(e){const t=new Map;this.je.forEach((o,l)=>{const c=this._t(l);if(c){if(o.current&&Lg(c.target)){const d=new pe(c.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,pt.newNoDocument(d,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let i=ke();this.Ye.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this._t(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const r=new Hf(e,t,this.Ze,this.He,i);return this.He=oi(),this.Je=Vm(),this.Ye=Vm(),this.Ze=new dt(Re),r}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new eC,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new rt(Re),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new rt(Re),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new eC),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Vm(){return new dt(pe.comparator)}function tC(){return new dt(pe.comparator)}const Xj={asc:"ASCENDING",desc:"DESCENDING"},Jj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zj={and:"AND",or:"OR"};class eq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function k0(n,e){return n.useProto3Json||Bf(e)?e:{value:e}}function vc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tq(n,e){return vc(n,e.toTimestamp())}function Gt(n){return ve(!!n,49232),Ee.fromTimestamp(function(t){const i=Cs(t);return new wt(i.seconds,i.nanos)}(n))}function Ib(n,e){return N0(n,e).canonicalString()}function N0(n,e){const t=function(r){return new Fe(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function jN(n){const e=Fe.fromString(n);return ve(JN(e),10190,{key:e.toString()}),e}function hf(n,e){return Ib(n.databaseId,e.path)}function Nr(n,e){const t=jN(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(HN(t))}function qN(n,e){return Ib(n.databaseId,e)}function $N(n){const e=jN(n);return e.length===4?Fe.emptyPath():HN(e)}function O0(n){return new Fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HN(n){return ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nC(n,e,t){return{name:hf(n,e),fields:t.value.mapValue.fields}}function GN(n,e,t){const i=Nr(n,e.name),r=Gt(e.updateTime),o=e.createTime?Gt(e.createTime):Ee.min(),l=new In({mapValue:{fields:e.fields}}),c=pt.newFoundDocument(i,r,o,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function nq(n,e){return"found"in e?function(i,r){ve(!!r.found,43571),r.found.name,r.found.updateTime;const o=Nr(i,r.found.name),l=Gt(r.found.updateTime),c=r.found.createTime?Gt(r.found.createTime):Ee.min(),d=new In({mapValue:{fields:r.found.fields}});return pt.newFoundDocument(o,l,c,d)}(n,e):"missing"in e?function(i,r){ve(!!r.missing,3894),ve(!!r.readTime,22933);const o=Nr(i,r.missing),l=Gt(r.readTime);return pt.newNoDocument(o,l)}(n,e):ye(7234,{result:e})}function iq(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ye(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(ve(g===void 0||typeof g=="string",58123),Ut.fromBase64String(g||"")):(ve(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Ut.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const g=f.code===void 0?Z.UNKNOWN:UN(f.code);return new oe(g,f.message||"")}(l);t=new FN(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Nr(n,i.document.name),o=Gt(i.document.updateTime),l=i.document.createTime?Gt(i.document.createTime):Ee.min(),c=new In({mapValue:{fields:i.document.fields}}),d=pt.newFoundDocument(r,o,l,c),f=i.targetIds||[],g=i.removedTargetIds||[];t=new dg(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Nr(n,i.document),o=i.readTime?Gt(i.readTime):Ee.min(),l=pt.newNoDocument(r,o),c=i.removedTargetIds||[];t=new dg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Nr(n,i.document),o=i.removedTargetIds||[];t=new dg([],o,r,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new Wj(r,o),c=i.targetId;t=new BN(c,l)}}return t}function df(n,e){let t;if(e instanceof Lc)t={update:nC(n,e.key,e.value)};else if(e instanceof Uc)t={delete:hf(n,e.key)};else if(e instanceof Bs)t={update:nC(n,e.key,e.data),updateMask:uq(e.fieldMask)};else{if(!(e instanceof Eb))return ye(16599,{ft:e.type});t={verify:hf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof yc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _c)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw ye(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:tq(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)}(n,e.precondition)),t}function V0(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?bt.updateTime(Gt(o.updateTime)):o.exists!==void 0?bt.exists(o.exists):bt.none()}(e.currentDocument):bt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(l,c){let d=null;if("setToServerValue"in c)ve(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new yc;else if("appendMissingElements"in c){const g=c.appendMissingElements.values||[];d=new gl(g)}else if("removeAllFromArray"in c){const g=c.removeAllFromArray.values||[];d=new yl(g)}else"increment"in c?d=new _c(l,c.increment):ye(16584,{proto:c});const f=Et.fromServerFormat(c.fieldPath);return new $f(f,d)}(n,r)):[];if(e.update){e.update.name;const r=Nr(n,e.update.name),o=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const f=d.fieldPaths||[];return new ai(f.map(g=>Et.fromServerFormat(g)))}(e.updateMask);return new Bs(r,o,l,t,i)}return new Lc(r,o,t,i)}if(e.delete){const r=Nr(n,e.delete);return new Uc(r,t)}if(e.verify){const r=Nr(n,e.verify);return new Eb(r,t)}return ye(1463,{proto:e})}function rq(n,e){return n&&n.length>0?(ve(e!==void 0,14353),n.map(t=>function(r,o){let l=r.updateTime?Gt(r.updateTime):Gt(o);return l.isEqual(Ee.min())&&(l=Gt(o)),new Hj(l,r.transformResults||[])}(t,e))):[]}function KN(n,e){return{documents:[qN(n,e.path)]}}function WN(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=qN(n,r);const o=function(f){if(f.length!==0)return XN(it.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(g=>function(T){return{field:Vu(T.field),direction:aq(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=k0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:r}}function YN(n){let e=$N(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ve(i===1,65062);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const T=QN(_);return T instanceof it&&yb(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(A){return new cf(Mu(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(_){let T;return T=typeof _=="object"?_.value:_,Bf(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(_){const T=!!_.before,w=_.values||[];return new Ba(w,T)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const T=!_.before,w=_.values||[];return new Ba(w,T)}(t.endAt)),bN(e,r,l,o,c,"F",d,f)}function sq(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Mu(t.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Mu(t.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mu(t.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Mu(t.unaryFilter.field);return ze.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(n):n.fieldFilter!==void 0?function(t){return ze.create(Mu(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return it.create(t.compositeFilter.filters.map(i=>QN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(t.compositeFilter.op))}(n):ye(30097,{filter:n})}function aq(n){return Xj[n]}function oq(n){return Jj[n]}function lq(n){return Zj[n]}function Vu(n){return{fieldPath:n.canonicalString()}}function Mu(n){return Et.fromServerFormat(n.fieldPath)}function XN(n){return n instanceof ze?function(t){if(t.op==="=="){if(F1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NAN"}};if(B1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(F1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NAN"}};if(B1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(t.field),op:oq(t.op),value:t.value}}}(n):n instanceof it?function(t){const i=t.getFilters().map(r=>XN(r));return i.length===1?i[0]:{compositeFilter:{op:lq(t.op),filters:i}}}(n):ye(54877,{filter:n})}function uq(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,i,r,o=Ee.min(),l=Ee.min(),c=Ut.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.wt=e}}function cq(n,e){let t;if(e.document)t=GN(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=pe.fromSegments(e.noDocument.path),r=vl(e.noDocument.readTime);t=pt.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const i=pe.fromSegments(e.unknownDocument.path),r=vl(e.unknownDocument.version);t=pt.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new wt(r[0],r[1]);return Ee.fromTimestamp(o)}(e.readTime)),t}function iC(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,l){return{name:hf(o,l.key),fields:l.data.value.mapValue.fields,updateTime:vc(o,l.version.toTimestamp()),createTime:vc(o,l.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:_l(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:_l(e.version)}}return i}function Fg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _l(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vl(n){const e=new wt(n.seconds,n.nanoseconds);return Ee.fromTimestamp(e)}function Ho(n,e){const t=(e.baseMutations||[]).map(o=>V0(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map(o=>V0(n.wt,o)),r=wt.fromMillis(e.localWriteTimeMs);return new bb(e.batchId,r,t,i)}function Ad(n){const e=vl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?vl(n.lastLimboFreeSnapshotVersion):Ee.min();let i;return i=function(o){return o.documents!==void 0}(n.query)?function(o){const l=o.documents.length;return ve(l===1,1966,{count:l}),Xn(Mc($N(o.documents[0])))}(n.query):function(o){return Xn(YN(o))}(n.query),new vs(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ut.fromBase64String(n.resumeToken))}function eO(n,e){const t=_l(e.snapshotVersion),i=_l(e.lastLimboFreeSnapshotVersion);let r;r=Lg(e.target)?KN(n.wt,e.target):WN(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ml(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Rb(n){const e=YN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bg(e,e.limit,"L"):e}function xT(n,e){return new Ab(e.largestBatchId,V0(n.wt,e.overlayMutation))}function rC(n,e){const t=e.path.lastSegment();return[n,Bn(e.path.popLast()),t]}function sC(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:_l(i.readTime),documentKey:Bn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{getBundleMetadata(e,t){return aC(e).get(t).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:vl(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,t){return aC(e).put(function(r){return{bundleId:r.id,createTime:_l(Gt(r.createTime)),version:r.version}}(t))}getNamedQuery(e,t){return oC(e).get(t).next(i=>{if(i)return function(o){return{name:o.name,query:Rb(o.bundledQuery),readTime:vl(o.readTime)}}(i)})}saveNamedQuery(e,t){return oC(e).put(function(r){return{name:r.name,readTime:_l(Gt(r.readTime)),bundledQuery:r.bundledQuery}}(t))}}function aC(n){return ln(n,wy)}function oC(n){return ln(n,Ay)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const i=t.uid||"";return new Dy(e,i)}getOverlay(e,t){return ud(e).get(rC(this.userId,t)).next(i=>i?xT(this.serializer,i):null)}getOverlays(e,t){const i=Dr();return K.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,l)=>{const c=new Ab(t,l);r.push(this.St(e,c))}),K.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Bn(l.getCollectionPath())));const o=[];return r.forEach(l=>{const c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);o.push(ud(e).X(w0,c))}),K.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Dr(),o=Bn(t),l=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ud(e).J(w0,l).next(c=>{for(const d of c){const f=xT(this.serializer,d);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Dr();let l;const c=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ud(e).te({index:tN,range:c},(d,f,g)=>{const _=xT(this.serializer,f);o.size()<r||_.largestBatchId===l?(o.set(_.getKey(),_),l=_.largestBatchId):g.done()}).next(()=>o)}St(e,t){return ud(e).put(function(r,o,l){const[c,d,f]=rC(o,l.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:df(r.wt,l.mutation)}}(this.serializer,this.userId,t))}}function ud(n){return ln(n,Sy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{Dt(e){return ln(e,fb)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const i=t==null?void 0:t.value;return i?Ut.fromUint8Array(i):Ut.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Tt(e.integerValue));else if("doubleValue"in e){const i=Tt(e.doubleValue);isNaN(i)?this.Mt(t,13):(this.Mt(t,15),nf(i)?t.xt(0):t.xt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Mt(t,20),typeof i=="string"&&(i=Cs(i)),t.Ot(`${i.seconds||""}`),t.xt(i.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(xs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Mt(t,45),t.xt(i.latitude||0),t.xt(i.longitude||0)}else"mapValue"in e?dN(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Cy(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ye(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const i=e.fields||{};this.Mt(t,55);for(const r of Object.keys(i))this.Nt(r,t),this.Ct(i[r],t)}qt(e,t){var i,r;const o=e.fields||{};this.Mt(t,53);const l=pc,c=((r=(i=o[l].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Mt(t,15),t.xt(Tt(c)),this.Nt(l,t),this.Ct(o[l],t)}$t(e,t){const i=e.values||[];this.Mt(t,50);for(const r of i)this.Ct(r,t)}kt(e,t){this.Mt(t,37),pe.fromName(e).path.forEach(i=>{this.Mt(t,60),this.Kt(i,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Go.Wt=new Go;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=255;function fq(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function lC(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const l=fq(255&i[o]);if(r+=l,l!==8)break}return r}(n);return Math.ceil(e/8)}class pq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.zt(i.value),i=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Yt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.zt(i);else if(i<2048)this.zt(960|i>>>6),this.zt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i);else{const r=t.codePointAt(0);this.zt(240|r>>>18),this.zt(128|63&r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r)}}this.jt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const r=t.codePointAt(0);this.Jt(240|r>>>18),this.Jt(128|63&r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r)}}this.Yt()}en(e){const t=this.tn(e),i=lC(t);this.nn(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}rn(e){const t=this.tn(e),i=lC(t);this.nn(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}sn(){this._n(Cu),this._n(255)}an(){this.un(Cu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Cu?(this._n(Cu),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Cu?(this.un(Cu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class mq{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class gq{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class cd{constructor(){this.ln=new pq,this.hn=new mq(this.ln),this.Pn=new gq(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}In(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Ko(this.indexId,this.documentKey,this.arrayValue,i)}}function ya(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=uC(n.arrayValue,e.arrayValue),t!==0?t:(t=uC(n.directionalValue,e.directionalValue),t!==0?t:pe.comparator(n.documentKey,e.documentKey)))}function uC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.En=new rt((t,i)=>Et.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const i=t;i.isInequality()?this.En=this.En.add(i):this.An.push(i)}}get Rn(){return this.En.size>1}Vn(e){if(ve(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=T0(e);if(t!==void 0&&!this.mn(t))return!1;const i=zo(e);let r=new Set,o=0,l=0;for(;o<i.length&&this.mn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.En.size>0){const c=this.En.getIterator().getNext();if(!r.has(c.field.canonicalString())){const d=i[o];if(!this.fn(c,d)||!this.gn(this.dn[l++],d))return!1}++o}for(;o<i.length;++o){const c=i[o];if(l>=this.dn.length||!this.gn(this.dn[l++],c))return!1}return!0}pn(){if(this.Rn)return null;let e=new rt(Et.comparator);const t=[];for(const i of this.An)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new sg(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new sg(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new sg(i.field,i.dir==="asc"?0:1)));return new Dg(Dg.UNKNOWN_ID,this.collectionId,t,tf.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){var e,t;if(ve(n instanceof ze||n instanceof it,20012),n instanceof ze){if(n instanceof EN){const r=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>ze.create(n.field,"==",o)))||[];return it.create(r,"or")}return n}const i=n.filters.map(r=>tO(r));return it.create(i,n.op)}function yq(n){if(n.getFilters().length===0)return[];const e=U0(tO(n));return ve(nO(e),7391),M0(e)||L0(e)?[e]:e.getFilters()}function M0(n){return n instanceof ze}function L0(n){return n instanceof it&&yb(n)}function nO(n){return M0(n)||L0(n)||function(t){if(t instanceof it&&C0(t)){for(const i of t.getFilters())if(!M0(i)&&!L0(i))return!1;return!0}return!1}(n)}function U0(n){if(ve(n instanceof ze||n instanceof it,34018),n instanceof ze)return n;if(n.filters.length===1)return U0(n.filters[0]);const e=n.filters.map(i=>U0(i));let t=it.create(e,n.op);return t=zg(t),nO(t)?t:(ve(t instanceof it,64498),ve(gc(t),40251),ve(t.filters.length>1,57927),t.filters.reduce((i,r)=>Cb(i,r)))}function Cb(n,e){let t;return ve(n instanceof ze||n instanceof it,38388),ve(e instanceof ze||e instanceof it,25473),t=n instanceof ze?e instanceof ze?function(r,o){return it.create([r,o],"and")}(n,e):hC(n,e):e instanceof ze?hC(e,n):function(r,o){if(ve(r.filters.length>0&&o.filters.length>0,48005),gc(r)&&gc(o))return _N(r,o.getFilters());const l=C0(r)?r:o,c=C0(r)?o:r,d=l.filters.map(f=>Cb(f,c));return it.create(d,"or")}(n,e),zg(t)}function hC(n,e){if(gc(e))return _N(e,n.getFilters());{const t=e.filters.map(i=>Cb(n,i));return it.create(t,"or")}}function zg(n){if(ve(n instanceof ze||n instanceof it,11850),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return zg(e[0]);if(gN(n))return n;const t=e.map(r=>zg(r)),i=[];return t.forEach(r=>{r instanceof ze?i.push(r):r instanceof it&&(r.op===n.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:it.create(i,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(){this.yn=new xb}addToCollectionParentIndex(e,t){return this.yn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(wi.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class xb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new rt(Fe.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new rt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="IndexedDbIndexManager",Mm=new Uint8Array(0);class vq{constructor(e,t){this.databaseId=t,this.wn=new xb,this.bn=new Us(i=>ml(i),(i,r)=>zf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.wn.add(t)});const o={collectionId:i,parent:Bn(r)};return fC(e).put(o)}return K.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[qk(t),""],!1,!0);return fC(e).J(r).next(o=>{for(const l of o){if(l.collectionId!==t)break;i.push(Pr(l.parent))}return i})}addFieldIndex(e,t){const i=hd(e),r=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete r.indexId;const o=i.add(r);if(t.indexState){const l=Pu(e);return o.next(c=>{l.put(sC(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=hd(e),r=Pu(e),o=xu(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=hd(e),i=xu(e),r=Pu(e);return t.X().next(()=>i.X()).next(()=>r.X())}createTargetIndexes(e,t){return K.forEach(this.Sn(t),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){const o=new cC(i).pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=xu(e);let r=!0;const o=new Map;return K.forEach(this.Sn(t),l=>this.Dn(e,l).next(c=>{r&&(r=!!c),o.set(l,c)})).next(()=>{if(r){let l=ke();const c=[];return K.forEach(o,(d,f)=>{le(dC,`Using index ${function(k){return`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(q=>`${q.fieldPath}:${q.kind}`).join(",")}`}(d)} to execute ${ml(t)}`);const g=function(k,q){const j=T0(q);if(j===void 0)return null;for(const Q of Ug(k,j.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null}(f,d),_=function(k,q){const j=new Map;for(const Q of zo(q))for(const x of Ug(k,Q.fieldPath))switch(x.op){case"==":case"in":j.set(Q.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return j.set(Q.fieldPath.canonicalString(),x.value),Array.from(j.values())}return null}(f,d),T=function(k,q){const j=[];let Q=!0;for(const x of zo(q)){const I=x.kind===0?H1(k,x.fieldPath,k.startAt):G1(k,x.fieldPath,k.startAt);j.push(I.value),Q&&(Q=I.inclusive)}return new Ba(j,Q)}(f,d),w=function(k,q){const j=[];let Q=!0;for(const x of zo(q)){const I=x.kind===0?G1(k,x.fieldPath,k.endAt):H1(k,x.fieldPath,k.endAt);j.push(I.value),Q&&(Q=I.inclusive)}return new Ba(j,Q)}(f,d),A=this.vn(d,f,T),D=this.vn(d,f,w),C=this.Cn(d,f,_),P=this.Fn(d.indexId,g,A,T.inclusive,D,w.inclusive,C);return K.forEach(P,O=>i.Z(O,t.limit).next(k=>{k.forEach(q=>{const j=pe.fromSegments(q.documentKey);l.has(j)||(l=l.add(j),c.push(j))})}))}).next(()=>c)}return K.resolve(null)})}Sn(e){let t=this.bn.get(e);return t||(e.filters.length===0?t=[e]:t=yq(it.create(e.filters,"and")).map(i=>P0(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.bn.set(e,t),t)}Fn(e,t,i,r,o,l,c){const d=(t!=null?t.length:1)*Math.max(i.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const T=t?this.Mn(t[_/f]):Mm,w=this.xn(e,T,i[_%f],r),A=this.On(e,T,o[_%f],l),D=c.map(C=>this.xn(e,T,C,!0));g.push(...this.createRange(w,A,D))}return g}xn(e,t,i,r){const o=new Ko(e,pe.empty(),t,i);return r?o:o.In()}On(e,t,i,r){const o=new Ko(e,pe.empty(),t,i);return r?o.In():o}Dn(e,t){const i=new cC(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let l=null;for(const c of o)i.Vn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l})}getIndexType(e,t){let i=2;const r=this.Sn(t);return K.forEach(r,o=>this.Dn(e,o).next(l=>{l?i!==0&&l.fields.length<function(d){let f=new rt(Et.comparator),g=!1;for(const _ of d.filters)for(const T of _.getFlattenedFilters())T.field.isKeyField()||(T.op==="array-contains"||T.op==="array-contains-any"?g=!0:f=f.add(T.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(i=1):i=0})).next(()=>function(l){return l.limit!==null}(t)&&r.length>1&&i===2?1:i)}Nn(e,t){const i=new cd;for(const r of zo(e)){const o=t.data.field(r.fieldPath);if(o==null)return null;const l=i.Tn(r.kind);Go.Wt.vt(o,l)}return i.cn()}Mn(e){const t=new cd;return Go.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const i=new cd;return Go.Wt.vt(pl(this.databaseId,t),i.Tn(function(o){const l=zo(o);return l.length===0?0:l[l.length-1].kind}(e))),i.cn()}Cn(e,t,i){if(i===null)return[];let r=[];r.push(new cd);let o=0;for(const l of zo(e)){const c=i[o++];for(const d of r)if(this.Ln(t,l.fieldPath)&&uf(c))r=this.kn(r,l,c);else{const f=d.Tn(l.kind);Go.Wt.vt(c,f)}}return this.qn(r)}vn(e,t,i){return this.Cn(e,t,i.position)}qn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].cn();return t}kn(e,t,i){const r=[...e],o=[];for(const l of i.arrayValue.values||[])for(const c of r){const d=new cd;d.seed(c.cn()),Go.Wt.vt(l,d.Tn(t.kind)),o.push(d)}return o}Ln(e,t){return!!e.filters.find(i=>i instanceof ze&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){const i=hd(e),r=Pu(e);return(t?i.J(b0,IDBKeyRange.bound(t,t)):i.J()).next(o=>{const l=[];return K.forEach(o,c=>r.get([c.indexId,this.uid]).next(d=>{l.push(function(g,_){const T=_?new tf(_.sequenceNumber,new wi(vl(_.readTime),new pe(Pr(_.documentKey)),_.largestBatchId)):tf.empty(),w=g.fields.map(([A,D])=>new sg(Et.fromServerFormat(A),D));return new Dg(g.indexId,g.collectionGroup,w,T)}(c,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:Re(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=hd(e),o=Pu(e);return this.Qn(e).next(l=>r.J(b0,IDBKeyRange.bound(t,t)).next(c=>K.forEach(c,d=>o.put(sC(d.indexId,this.uid,l,i)))))}updateIndexEntries(e,t){const i=new Map;return K.forEach(t,(r,o)=>{const l=i.get(r.collectionGroup);return(l?K.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),K.forEach(c,d=>this.$n(e,r,d).next(f=>{const g=this.Un(o,d);return f.isEqual(g)?K.resolve():this.Kn(e,o,d,f,g)}))))})}Wn(e,t,i,r){return xu(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Bn(i,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,i,r){return xu(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Bn(i,t.key),t.key.path.toArray()])}$n(e,t,i){const r=xu(e);let o=new rt(ya);return r.te({index:eN,range:IDBKeyRange.only([i.indexId,this.uid,this.Bn(i,t)])},(l,c)=>{o=o.add(new Ko(i.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>o)}Un(e,t){let i=new rt(ya);const r=this.Nn(t,e);if(r==null)return i;const o=T0(t);if(o!=null){const l=e.data.field(o.fieldPath);if(uf(l))for(const c of l.arrayValue.values||[])i=i.add(new Ko(t.indexId,e.key,this.Mn(c),r))}else i=i.add(new Ko(t.indexId,e.key,Mm,r));return i}Kn(e,t,i,r,o){le(dC,"Updating index entries for document '%s'",t.key);const l=[];return function(d,f,g,_,T){const w=d.getIterator(),A=f.getIterator();let D=Ru(w),C=Ru(A);for(;D||C;){let P=!1,O=!1;if(D&&C){const k=g(D,C);k<0?O=!0:k>0&&(P=!0)}else D!=null?O=!0:P=!0;P?(_(C),C=Ru(A)):O?(T(D),D=Ru(w)):(D=Ru(w),C=Ru(A))}}(r,o,ya,c=>{l.push(this.Wn(e,t,i,c))},c=>{l.push(this.Gn(e,t,i,c))}),K.waitFor(l)}Qn(e){let t=1;return Pu(e).te({index:Zk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,c)=>ya(l,c)).filter((l,c,d)=>!c||ya(l,d[c-1])!==0);const r=[];r.push(e);for(const l of i){const c=ya(l,e),d=ya(l,t);if(c===0)r[0]=e.In();else if(c>0&&d<0)r.push(l),r.push(l.In());else if(d>0)break}r.push(t);const o=[];for(let l=0;l<r.length;l+=2){if(this.zn(r[l],r[l+1]))return[];const c=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Mm,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Mm,[]];o.push(IDBKeyRange.bound(c,d))}return o}zn(e,t){return ya(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(pC)}getMinOffset(e,t){return K.mapArray(this.Sn(t),i=>this.Dn(e,i).next(r=>r||ye(44426))).next(pC)}}function fC(n){return ln(n,af)}function xu(n){return ln(n,Mg)}function hd(n){return ln(n,db)}function Pu(n){return ln(n,Vg)}function pC(n){ve(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ub(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new wi(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iO=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n,e,t){const i=n.store(er),r=n.store(cc),o=[],l=IDBKeyRange.only(t.batchId);let c=0;const d=i.te({range:l},(g,_,T)=>(c++,T.delete()));o.push(d.next(()=>{ve(c===1,47070,{batchId:t.batchId})}));const f=[];for(const g of t.mutations){const _=Qk(e,g.key.path,t.batchId);o.push(r.delete(_)),f.push(g.key)}return K.waitFor(o).next(()=>f)}function jg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(iO,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class ky{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.jn={}}static bt(e,t,i,r){ve(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new ky(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).te({index:Xo,range:i},(r,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Lu(e),l=_a(e);return l.add({}).next(c=>{ve(typeof c=="number",49019);const d=new bb(c,t,i,r),f=function(w,A,D){const C=D.baseMutations.map(O=>df(w.wt,O)),P=D.mutations.map(O=>df(w.wt,O));return{userId:A,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:C,mutations:P}}(this.serializer,this.userId,d),g=[];let _=new rt((T,w)=>Re(T.canonicalString(),w.canonicalString()));for(const T of r){const w=Qk(this.userId,T.key.path,c);_=_.add(T.key.path.popLast()),g.push(l.put(f)),g.push(o.put(w,Z9))}return _.forEach(T=>{g.push(this.indexManager.addToCollectionParentIndex(e,T))}),e.addOnCommittedListener(()=>{this.jn[c]=d.keys()}),K.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return _a(e).get(t).next(i=>i?(ve(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Ho(this.serializer,i)):null)}Hn(e,t){return this.jn[t]?K.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.jn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return _a(e).te({index:Xo,range:r},(l,c,d)=>{c.userId===this.userId&&(ve(c.batchId>=i,47524,{Jn:i}),o=Ho(this.serializer,c)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Pa;return _a(e).te({index:Xo,range:t,reverse:!0},(r,o,l)=>{i=o.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Pa],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).J(Xo,t).next(i=>i.map(r=>Ho(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=ag(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Lu(e).te({range:r},(l,c,d)=>{const[f,g,_]=l,T=Pr(g);if(f===this.userId&&t.path.isEqual(T))return _a(e).get(_).next(w=>{if(!w)throw ye(61480,{Yn:l,batchId:_});ve(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:_}),o.push(Ho(this.serializer,w))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rt(Re);const r=[];return t.forEach(o=>{const l=ag(this.userId,o.path),c=IDBKeyRange.lowerBound(l),d=Lu(e).te({range:c},(f,g,_)=>{const[T,w,A]=f,D=Pr(w);T===this.userId&&o.path.isEqual(D)?i=i.add(A):_.done()});r.push(d)}),K.waitFor(r).next(()=>this.Zn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=ag(this.userId,i),l=IDBKeyRange.lowerBound(o);let c=new rt(Re);return Lu(e).te({range:l},(d,f,g)=>{const[_,T,w]=d,A=Pr(T);_===this.userId&&i.isPrefixOf(A)?A.length===r&&(c=c.add(w)):g.done()}).next(()=>this.Zn(e,c))}Zn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(_a(e).get(o).next(l=>{if(l===null)throw ye(35274,{batchId:o});ve(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:o}),i.push(Ho(this.serializer,l))}))}),K.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return rO(e.he,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Xn(t.batchId)}),K.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return K.resolve();const i=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),r=[];return Lu(e).te({range:i},(o,l,c)=>{if(o[0]===this.userId){const d=Pr(o[1]);r.push(d)}else c.done()}).next(()=>{ve(r.length===0,56720,{er:r.map(o=>o.canonicalString())})})})}containsKey(e,t){return sO(e,this.userId,t)}tr(e){return aO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Pa,lastStreamToken:""})}}function sO(n,e,t){const i=ag(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let l=!1;return Lu(n).te({range:o,ee:!0},(c,d,f)=>{const[g,_,T]=c;g===e&&_===r&&(l=!0),f.done()}).next(()=>l)}function _a(n){return ln(n,er)}function Lu(n){return ln(n,cc)}function aO(n){return ln(n,rf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Tl(0)}static ir(){return new Tl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next(t=>{const i=new Tl(t.highestTargetId);return t.highestTargetId=i.next(),this._r(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.sr(e).next(t=>Ee.fromTimestamp(new wt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.sr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.sr(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this._r(e,r)))}addTargetData(e,t){return this.ar(e,t).next(()=>this.sr(e).next(i=>(i.targetCount+=1,this.ur(t,i),this._r(e,i))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Du(e).delete(t.targetId)).next(()=>this.sr(e)).next(i=>(ve(i.targetCount>0,8065),i.targetCount-=1,this._r(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Du(e).te((l,c)=>{const d=Ad(c);d.sequenceNumber<=t&&i.get(d.targetId)===null&&(r++,o.push(this.removeTargetData(e,d)))}).next(()=>K.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Du(e).te((i,r)=>{const o=Ad(r);t(o)})}sr(e){return gC(e).get(Og).next(t=>(ve(t!==null,2888),t))}_r(e,t){return gC(e).put(Og,t)}ar(e,t){return Du(e).put(eO(this.serializer,t))}ur(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.sr(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ml(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Du(e).te({range:r,index:Jk},(l,c,d)=>{const f=Ad(c);zf(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=wa(e);return t.forEach(l=>{const c=Bn(l.path);r.push(o.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(e,i,l))}),K.waitFor(r)}removeMatchingKeys(e,t,i){const r=wa(e);return K.forEach(t,o=>{const l=Bn(o.path);return K.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=wa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=wa(e);let o=ke();return r.te({range:i,ee:!0},(l,c,d)=>{const f=Pr(l[1]),g=new pe(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const i=Bn(t.path),r=IDBKeyRange.bound([i],[qk(i)],!1,!0);let o=0;return wa(e).te({index:hb,ee:!0,range:r},([l,c],d,f)=>{l!==0&&(o++,f.done())}).next(()=>o>0)}Rt(e,t){return Du(e).get(t).next(i=>i?Ad(i):null)}}function Du(n){return ln(n,hc)}function gC(n){return ln(n,al)}function wa(n){return ln(n,dc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="LruGarbageCollector",Eq=1048576;function _C([n,e],[t,i]){const r=Re(n,t);return r===0?Re(e,i):r}class bq{constructor(e){this.cr=e,this.buffer=new rt(_C),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();_C(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){le(yC,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ya(t)?le(yC,"Ignoring IndexedDB error during garbage collection: ",t):await Wa(t)}await this.Ir(3e5)})}}class wq{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return K.resolve(si.le);const i=new bq(t);return this.Er.forEachTarget(e,r=>i.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(e,r=>i.Pr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(mC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mC):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,r,o,l,c,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,l=Date.now(),this.nthSequenceNumber(e,r))).next(_=>(i=_,c=Date.now(),this.removeTargets(e,i,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(f=Date.now(),Nu()<=Be.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_})))}}function lO(n,e){return new wq(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,t){this.db=e,this.garbageCollector=lO(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,(i,r)=>t(r))}addReference(e,t,i){return Lm(e,i)}removeReference(e,t,i){return Lm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Lm(e,t)}gr(e,t){return function(r,o){let l=!1;return aO(r).ne(c=>sO(r,c,o).next(d=>(d&&(l=!0),K.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.mr(e,(l,c)=>{if(c<=t){const d=this.gr(e,l).next(f=>{if(!f)return o++,i.getEntry(e,l).next(()=>(i.removeEntry(l,Ee.min()),wa(e).delete(function(_){return[0,Bn(_.path)]}(l))))});r.push(d)}}).next(()=>K.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Lm(e,t)}mr(e,t){const i=wa(e);let r,o=si.le;return i.te({index:hb},([l,c],{path:d,sequenceNumber:f})=>{l===0?(o!==si.le&&t(new pe(Pr(r)),o),o=f,r=d):o=si.le}).next(()=>{o!==si.le&&t(new pe(Pr(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lm(n,e){return wa(n).put(function(i,r){return{targetId:0,path:Bn(i.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Uo(e).put(i)}removeEntry(e,t,i){return Uo(e).delete(function(o,l){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Fg(l),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.pr(e,i)))}getEntry(e,t){let i=pt.newInvalidDocument(t);return Uo(e).te({index:og,range:IDBKeyRange.only(dd(t))},(r,o)=>{i=this.yr(t,o)}).next(()=>i)}wr(e,t){let i={size:0,document:pt.newInvalidDocument(t)};return Uo(e).te({index:og,range:IDBKeyRange.only(dd(t))},(r,o)=>{i={document:this.yr(t,o),size:jg(o)}}).next(()=>i)}getEntries(e,t){let i=oi();return this.br(e,t,(r,o)=>{const l=this.yr(r,o);i=i.insert(r,l)}).next(()=>i)}Sr(e,t){let i=oi(),r=new dt(pe.comparator);return this.br(e,t,(o,l)=>{const c=this.yr(o,l);i=i.insert(o,c),r=r.insert(o,jg(l))}).next(()=>({documents:i,Dr:r}))}br(e,t,i){if(t.isEmpty())return K.resolve();let r=new rt(EC);t.forEach(d=>r=r.add(d));const o=IDBKeyRange.bound(dd(r.first()),dd(r.last())),l=r.getIterator();let c=l.getNext();return Uo(e).te({index:og,range:o},(d,f,g)=>{const _=pe.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&EC(c,_)<0;)i(c,null),c=l.getNext();c&&c.isEqual(_)&&(i(c,f),c=l.hasNext()?l.getNext():null),c?g.H(dd(c)):g.done()}).next(()=>{for(;c;)i(c,null),c=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),Fg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uo(e).J(IDBKeyRange.bound(c,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=oi();for(const _ of f){const T=this.yr(pe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);T.isFoundDocument()&&(qf(t,T)||r.has(T.key))&&(g=g.insert(T.key,T))}return g})}getAllFromCollectionGroup(e,t,i,r){let o=oi();const l=TC(t,i),c=TC(t,wi.max());return Uo(e).te({index:Xk,range:IDBKeyRange.bound(l,c,!0)},(d,f,g)=>{const _=this.yr(pe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===r&&g.done()}).next(()=>o)}newChangeBuffer(e){return new Iq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vC(e).get(E0).next(t=>(ve(!!t,20021),t))}pr(e,t){return vC(e).put(E0,t)}yr(e,t){if(t){const i=cq(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Ee.min())))return i}return pt.newInvalidDocument(e)}}function cO(n){return new Sq(n)}class Iq extends uO{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new Us(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new rt((o,l)=>Re(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const c=this.Cr.get(o);if(t.push(this.vr.removeEntry(e,o,c.readTime)),l.isValidDocument()){const d=iC(this.vr.serializer,l);r=r.add(o.path.popLast());const f=jg(d);i+=f-c.size,t.push(this.vr.addEntry(e,o,d))}else if(i-=c.size,this.trackRemovals){const d=iC(this.vr.serializer,l.convertToNoDocument(Ee.min()));t.push(this.vr.addEntry(e,o,d))}}),r.forEach(o=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.vr.updateMetadata(e,i)),K.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next(i=>(this.Cr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.vr.Sr(e,t).next(({documents:i,Dr:r})=>(r.forEach((o,l)=>{this.Cr.set(o,{size:l,readTime:i.get(o).readTime})}),i))}}function vC(n){return ln(n,sf)}function Uo(n){return ln(n,Ng)}function dd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TC(n,e){const t=e.documentKey.path.toArray();return[n,Fg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function EC(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Re(t[o],i[o]),r)return r;return r=Re(t.length,i.length),r||(r=Re(t[t.length-2],i[i.length-2]),r||Re(t[t.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Ld(i.mutation,r,ai.empty(),wt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ke()){const r=Dr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let l=bd();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=Dr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ke()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,r){let o=oi();const l=Md(),c=function(){return Md()}();return t.forEach((d,f)=>{const g=i.get(f.key);r.has(f.key)&&(g===void 0||g.mutation instanceof Bs)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Ld(g.mutation,f,g.mutation.getFieldMask(),wt.now())):l.set(f.key,ai.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>l.set(f,g)),t.forEach((f,g)=>{var _;return c.set(f,new Rq(g,(_=l.get(f))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const i=Md();let r=new dt((l,c)=>l-c),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=i.get(d)||ai.empty();g=c.applyToLocalView(f,g),i.set(d,g);const _=(r.get(c.batchId)||ke()).add(d);r=r.insert(c.batchId,_)})}).next(()=>{const l=[],c=r.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,g=d.value,_=CN();g.forEach(T=>{if(!o.has(T)){const w=VN(t.get(T),i.get(T));w!==null&&_.set(T,w),o=o.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return K.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(l){return pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_b(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):K.resolve(Dr());let c=uc,d=o;return l.next(f=>K.forEach(f,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(g)?K.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{d=d.insert(g,T)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,ke())).next(g=>({batchId:c,changes:RN(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(i=>{let r=bd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let l=bd();return this.indexManager.getCollectionParents(e,o).next(c=>K.forEach(c,d=>{const f=function(_,T){return new Ls(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(l=>{o.forEach((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,pt.newInvalidDocument(g)))});let c=bd();return l.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Ld(g.mutation,f,ai.empty(),wt.now()),qf(t,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return K.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Gt(r.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(r){return{name:r.name,query:Rb(r.bundledQuery),readTime:Gt(r.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.overlays=new dt(pe.comparator),this.Or=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Dr();return K.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.St(e,t,o)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Or.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const r=Dr(),o=t.length+1,l=new pe(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return K.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new dt((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=Dr(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=Dr(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>c.set(f,g)),!(c.size()>=r)););return K.resolve(c)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Or.get(r.largestBatchId).delete(i.key);this.Or.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Ab(t,i));let o=this.Or.get(t);o===void 0&&(o=ke(),this.Or.set(t,o)),this.Or.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.Nr=new rt(mn.Br),this.Lr=new rt(mn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new mn(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new mn(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new pe(new Fe([])),i=new mn(t,e),r=new mn(t,e+1),o=[];return this.Lr.forEachInRange([i,r],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new pe(new Fe([])),i=new mn(t,e),r=new mn(t,e+1);let o=ke();return this.Lr.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new mn(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class mn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return pe.comparator(e.key,t.key)||Re(e.Gr,t.Gr)}static kr(e,t){return Re(e.Gr,t.Gr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new rt(mn.Br)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new bb(o,t,i,r);this.mutationQueue.push(l);for(const c of r)this.zr=this.zr.add(new mn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return K.resolve(l)}lookupMutationBatch(e,t){return K.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Hr(i),o=r<0?0:r;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Pa:this.Jn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new mn(t,0),r=new mn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,r],l=>{const c=this.jr(l.Gr);o.push(c)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rt(Re);return t.forEach(r=>{const o=new mn(r,0),l=new mn(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],c=>{i=i.add(c.Gr)})}),K.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;pe.isDocumentKey(o)||(o=o.child(""));const l=new mn(new pe(o),0);let c=new rt(Re);return this.zr.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(d.Gr)),!0)},l),K.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(i=>{const r=this.jr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){ve(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return K.forEach(t.mutations,r=>{const o=new mn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new mn(t,0),r=this.zr.firstAfterOrEqual(i);return K.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.Zr=e,this.docs=function(){return new dt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,l=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():pt.newInvalidDocument(t))}getEntries(e,t){let i=oi();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():pt.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=oi();const l=t.path,c=new pe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||ub(Hk(g),i)<=0||(r.has(g.key)||qf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ye(9500)}Xr(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Nq(this)}getSize(e){return K.resolve(this.size)}}class Nq extends uO{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.persistence=e,this.ei=new Us(t=>ml(t),zf),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ti=0,this.ni=new Pb,this.targetCount=0,this.ri=Tl.rr()}forEachTarget(e,t){return this.ei.forEach((i,r)=>t(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),K.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.ar(t),K.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.ei.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),K.waitFor(o).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){this.ii={},this.overlays={},this.si=new si(0),this.oi=!1,this.oi=!0,this._i=new Pq,this.referenceDelegate=e(this),this.ai=new Oq(this),this.indexManager=new _q,this.remoteDocumentCache=function(r){return new kq(r)}(i=>this.referenceDelegate.ui(i)),this.serializer=new ZN(t),this.ci=new Cq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new Dq(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const r=new Vq(this.si.next());return this.referenceDelegate.li(),i(r).next(o=>this.referenceDelegate.hi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Pi(e,t){return K.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class Vq extends Kk{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.Ti=new Pb,this.Ii=null}static Ei(e){return new Ny(e)}get di(){if(this.Ii)return this.Ii;throw ye(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,i=>{const r=pe.fromPath(i);return this.Ai(e,r).next(o=>{o||t.removeEntry(r,Ee.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return K.or([()=>K.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class qg{constructor(e,t){this.persistence=e,this.Ri=new Us(i=>Bn(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=lO(this,t)}static Ei(e,t){return new qg(e,t)}li(){}hi(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return K.forEach(this.Ri,(i,r)=>this.gr(e,i,r).next(o=>o?K.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Xr(e,l=>this.gr(e,l,t).next(c=>{c||(i++,o.removeEntry(l,Ee.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),K.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ug(e.data.value)),t}gr(e,t,i){return K.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.Ri.get(t);return K.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e){this.serializer=e}q(e,t,i,r){const o=new by("createOrUpgrade",t);i<1&&r>=1&&(function(d){d.createObjectStore(Ff)}(e),function(d){d.createObjectStore(rf,{keyPath:J9}),d.createObjectStore(er,{keyPath:N1,autoIncrement:!0}).createIndex(Xo,O1,{unique:!0}),d.createObjectStore(cc)}(e),bC(e),function(d){d.createObjectStore(jo)}(e));let l=K.resolve();return i<3&&r>=3&&(i!==0&&(function(d){d.deleteObjectStore(dc),d.deleteObjectStore(hc),d.deleteObjectStore(al)}(e),bC(e)),l=l.next(()=>function(d){const f=d.store(al),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ee.min().toTimestamp(),targetCount:0};return f.put(Og,g)}(o))),i<4&&r>=4&&(i!==0&&(l=l.next(()=>function(d,f){return f.store(er).J().next(_=>{d.deleteObjectStore(er),d.createObjectStore(er,{keyPath:N1,autoIncrement:!0}).createIndex(Xo,O1,{unique:!0});const T=f.store(er),w=_.map(A=>T.put(A));return K.waitFor(w)})}(e,o))),l=l.next(()=>{(function(d){d.createObjectStore(fc,{keyPath:oj})})(e)})),i<5&&r>=5&&(l=l.next(()=>this.Vi(o))),i<6&&r>=6&&(l=l.next(()=>(function(d){d.createObjectStore(sf)}(e),this.mi(o)))),i<7&&r>=7&&(l=l.next(()=>this.fi(o))),i<8&&r>=8&&(l=l.next(()=>this.gi(e,o))),i<9&&r>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(l=l.next(()=>this.pi(o))),i<11&&r>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(wy,{keyPath:lj})})(e),function(d){d.createObjectStore(Ay,{keyPath:uj})}(e)})),i<12&&r>=12&&(l=l.next(()=>{(function(d){const f=d.createObjectStore(Sy,{keyPath:gj});f.createIndex(w0,yj,{unique:!1}),f.createIndex(tN,_j,{unique:!1})})(e)})),i<13&&r>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore(Ng,{keyPath:ej});f.createIndex(og,tj),f.createIndex(Xk,nj)}(e)).next(()=>this.yi(e,o)).next(()=>e.deleteObjectStore(jo))),i<14&&r>=14&&(l=l.next(()=>this.wi(e,o))),i<15&&r>=15&&(l=l.next(()=>function(d){d.createObjectStore(db,{keyPath:cj,autoIncrement:!0}).createIndex(b0,hj,{unique:!1}),d.createObjectStore(Vg,{keyPath:dj}).createIndex(Zk,fj,{unique:!1}),d.createObjectStore(Mg,{keyPath:pj}).createIndex(eN,mj,{unique:!1})}(e))),i<16&&r>=16&&(l=l.next(()=>{t.objectStore(Vg).clear()}).next(()=>{t.objectStore(Mg).clear()})),i<17&&r>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(fb,{keyPath:vj})})(e)})),l}mi(e){let t=0;return e.store(jo).te((i,r)=>{t+=jg(r)}).next(()=>{const i={byteSize:t};return e.store(sf).put(E0,i)})}Vi(e){const t=e.store(rf),i=e.store(er);return t.J().next(r=>K.forEach(r,o=>{const l=IDBKeyRange.bound([o.userId,Pa],[o.userId,o.lastAcknowledgedBatchId]);return i.J(Xo,l).next(c=>K.forEach(c,d=>{ve(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=Ho(this.serializer,d);return rO(e,o.userId,f).next(()=>{})}))}))}fi(e){const t=e.store(dc),i=e.store(jo);return e.store(al).get(Og).next(r=>{const o=[];return i.te((l,c)=>{const d=new Fe(l),f=function(_){return[0,Bn(_)]}(d);o.push(t.get(f).next(g=>g?K.resolve():(_=>t.put({targetId:0,path:Bn(_),sequenceNumber:r.highestListenSequenceNumber}))(d)))}).next(()=>K.waitFor(o))})}gi(e,t){e.createObjectStore(af,{keyPath:aj});const i=t.store(af),r=new xb,o=l=>{if(r.add(l)){const c=l.lastSegment(),d=l.popLast();return i.put({collectionId:c,parent:Bn(d)})}};return t.store(jo).te({ee:!0},(l,c)=>{const d=new Fe(l);return o(d.popLast())}).next(()=>t.store(cc).te({ee:!0},([l,c,d],f)=>{const g=Pr(c);return o(g.popLast())}))}pi(e){const t=e.store(hc);return t.te((i,r)=>{const o=Ad(r),l=eO(this.serializer,o);return t.put(l)})}yi(e,t){const i=t.store(jo),r=[];return i.te((o,l)=>{const c=t.store(Ng),d=function(_){return _.document?new pe(Fe.fromString(_.document.name).popFirst(5)):_.noDocument?pe.fromSegments(_.noDocument.path):_.unknownDocument?pe.fromSegments(_.unknownDocument.path):ye(36783)}(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(c.put(f))}).next(()=>K.waitFor(r))}wi(e,t){const i=t.store(er),r=cO(this.serializer),o=new Db(Ny.Ei,this.serializer.wt);return i.J().next(l=>{const c=new Map;return l.forEach(d=>{var f;let g=(f=c.get(d.userId))!==null&&f!==void 0?f:ke();Ho(this.serializer,d).keys().forEach(_=>g=g.add(_)),c.set(d.userId,g)}),K.forEach(c,(d,f)=>{const g=new yn(f),_=Dy.bt(this.serializer,g),T=o.getIndexManager(g),w=ky.bt(g,this.serializer,T,o.referenceDelegate);return new hO(r,w,_,T).recalculateAndSaveOverlaysForDocumentKeys(new A0(t,si.le),d).next()})})}}function bC(n){n.createObjectStore(dc,{keyPath:rj}).createIndex(hb,sj,{unique:!0}),n.createObjectStore(hc,{keyPath:"targetId"}).createIndex(Jk,ij,{unique:!0}),n.createObjectStore(al)}const va="IndexedDbPersistence",PT=18e5,DT=5e3,kT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dO="main";class kb{constructor(e,t,i,r,o,l,c,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.bi=o,this.window=l,this.document=c,this.Si=f,this.Di=g,this.Ci=_,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=T=>Promise.resolve(),!kb.C())throw new oe(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Aq(this,r),this.Bi=t+dO,this.serializer=new ZN(d),this.Li=new kr(this.Bi,this.Ci,new Mq(this.serializer)),this._i=new dq,this.ai=new Tq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cO(this.serializer),this.ci=new hq,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,g===!1&&Ht(va,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(Z.FAILED_PRECONDITION,kT);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ai.getHighestSequenceNumber(e))}).then(e=>{this.si=new si(e,this.Si)}).then(()=>{this.oi=!0}).catch(e=>(this.Li&&this.Li.close(),Promise.reject(e)))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Um(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(e).next(t=>{t||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(e)).next(t=>this.isPrimary&&!t?this.zi(e).next(()=>!1):!!t&&this.ji(e).next(()=>!0))).catch(e=>{if(Ya(e))return le(va,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(va,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.bi.enqueueRetryable(()=>this.Ni(e)),this.isPrimary=e})}Wi(e){return fd(e).get(Iu).next(t=>K.resolve(this.Hi(t)))}Ji(e){return Um(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,PT)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const i=ln(t,fc);return i.J().next(r=>{const o=this.Xi(r,PT),l=r.filter(c=>o.indexOf(c)===-1);return K.forEach(l,c=>i.delete(c.clientId)).next(()=>l)})}).catch(()=>[]);if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?K.resolve(!0):fd(e).get(Iu).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,DT)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new oe(Z.FAILED_PRECONDITION,kT);return!1}}return!(!this.networkEnabled||!this.inForeground)||Um(e).J().next(i=>this.Xi(i,DT).find(r=>{if(this.clientId!==r.clientId){const o=!this.networkEnabled&&r.networkEnabled,l=!this.inForeground&&r.inForeground,c=this.networkEnabled===r.networkEnabled;if(o||l&&c)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&le(va,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[Ff,fc],e=>{const t=new A0(e,si.le);return this.zi(t).next(()=>this.Ji(t))}),this.Li.close(),this._s()}Xi(e,t){return e.filter(i=>this.Zi(i.updateTimeMs,t)&&!this.ts(i.clientId))}us(){return this.runTransaction("getActiveClients","readonly",e=>Um(e).J().next(t=>this.Xi(t,PT).map(i=>i.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return ky.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vq(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return Dy.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,i){le(va,"Starting transaction:",e);const r=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?bj:d===16?Ej:d===15?pb:d===14?rN:d===13?iN:d===12?Tj:d===11?nN:void ye(60245)}(this.Ci);let l;return this.Li.runTransaction(e,r,o,c=>(l=new A0(c,this.si?this.si.next():si.le),t==="readwrite-primary"?this.Wi(l).next(d=>!!d||this.Gi(l)).next(d=>{if(!d)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new oe(Z.FAILED_PRECONDITION,Gk);return i(l)}).next(d=>this.ji(l).next(()=>d)):this.cs(l).next(()=>i(l)))).then(c=>(l.raiseOnCommittedEvent(),c))}cs(e){return fd(e).get(Iu).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,DT)&&!this.ts(t.ownerId)&&!this.Hi(t)&&!(this.Di||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(Z.FAILED_PRECONDITION,kT)})}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fd(e).put(Iu,t)}static C(){return kr.C()}zi(e){const t=fd(e);return t.get(Iu).next(i=>this.Hi(i)?(le(va,"Releasing primary lease."),t.delete(Iu)):K.resolve())}Zi(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(Ht(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const t=/(?:Version|Mobile)\/1[456]/;ED()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const i=((t=this.ki)===null||t===void 0?void 0:t.getItem(this.es(e)))!==null;return le(va,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ht(va,"Failed to get zombied client id.",i),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fd(n){return ln(n,Ff)}function Um(n){return ln(n,fc)}function Nb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=r}static Ps(e,t){let i=ke(),r=ke();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ob(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return ED()?8:Wk(Pt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.Rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(e,t,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new Lq;return this.fs(e,t,l).next(c=>{if(o.result=c,this.Is)return this.gs(e,t,l,c.size)})}).next(()=>o.result)}gs(e,t,i,r){return i.documentReadCount<this.Es?(Nu()<=Be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ou(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),K.resolve()):(Nu()<=Be.DEBUG&&le("QueryEngine","Query:",Ou(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(Nu()<=Be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ou(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(t))):K.resolve())}Rs(e,t){if(K1(t))return K.resolve(null);let i=Xn(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Bg(t,null,"F"),i=Xn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=ke(...o);return this.As.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{const f=this.ps(t,c);return this.ys(t,f,l,d.readTime)?this.Rs(e,Bg(t,null,"F")):this.ws(e,f,t,d)}))})))}Vs(e,t,i,r){return K1(t)||r.isEqual(Ee.min())?K.resolve(null):this.As.getDocuments(e,i).next(o=>{const l=this.ps(t,o);return this.ys(t,l,i,r)?K.resolve(null):(Nu()<=Be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ou(t)),this.ws(e,l,t,$k(r,uc)).next(c=>c))})}ps(e,t){let i=new rt(SN(e));return t.forEach((r,o)=>{qf(e,o)&&(i=i.add(o))}),i}ys(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}fs(e,t,i){return Nu()<=Be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ou(t)),this.As.getDocumentsMatchingQuery(e,t,wi.min(),i)}ws(e,t,i,r){return this.As.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LocalStore",Uq=3e8;class Bq{constructor(e,t,i,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new dt(Re),this.Ds=new Us(o=>ml(o),zf),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function pO(n,e,t,i){return new Bq(n,e,t,i)}async function mO(n,e){const t=me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let d=ke();for(const f of r){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){c.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(i,d).next(f=>({Ms:f,removedBatchIds:l,addedBatchIds:c}))})})}function Fq(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,d,f,g){const _=f.batch,T=_.keys();let w=K.resolve();return T.forEach(A=>{w=w.next(()=>g.getEntry(d,A)).next(D=>{const C=f.docVersions.get(A);ve(C!==null,48541),D.version.compareTo(C)<0&&(_.applyToRemoteDocument(D,f),D.isValidDocument()&&(D.setReadTime(f.commitVersion),g.addEntry(D)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(d,_))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=ke();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function gO(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function zq(n,e){const t=me(n),i=e.snapshotVersion;let r=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});r=t.Ss;const c=[];e.targetChanges.forEach((g,_)=>{const T=r.get(_);if(!T)return;c.push(t.ai.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,_)));let w=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(Ut.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,i)),r=r.insert(_,w),function(D,C,P){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Uq?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(T,w,g)&&c.push(t.ai.updateTargetData(o,w))});let d=oi(),f=ke();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(yO(o,l,e.documentUpdates).next(g=>{d=g.xs,f=g.Os})),!i.isEqual(Ee.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(_=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(g)}return K.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ss=r,o))}function yO(n,e,t){let i=ke(),r=ke();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=oi();return t.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(Ee.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):le(Vb,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{xs:l,Os:r}})}function jq(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Pa),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Tc(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.ai.getTargetData(i,e).next(o=>o?(r=o,K.resolve(r)):t.ai.allocateTargetId(i).next(l=>(r=new vs(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function Ec(n,e,t){const i=me(n),r=i.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!Ya(l))throw l;le(Vb,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(r.target)}function $g(n,e,t){const i=me(n);let r=Ee.min(),o=ke();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,g){const _=me(d),T=_.Ds.get(g);return T!==void 0?K.resolve(_.Ss.get(T)):_.ai.getTargetData(f,g)}(i,l,Xn(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>i.bs.getDocumentsMatchingQuery(l,e,t?r:Ee.min(),t?o:ke())).next(c=>(TO(i,AN(e),c),{documents:c,Ns:o})))}function _O(n,e){const t=me(n),i=me(t.ai),r=t.Ss.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.Rt(o,e).next(l=>l?l.target:null))}function vO(n,e){const t=me(n),i=t.vs.get(e)||Ee.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Cs.getAllFromCollectionGroup(r,e,$k(i,uc),Number.MAX_SAFE_INTEGER)).then(r=>(TO(t,e,r),r))}function TO(n,e,t){let i=n.vs.get(e)||Ee.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(e,i)}async function qq(n,e,t,i){const r=me(n);let o=ke(),l=oi();for(const f of t){const g=e.Bs(f.metadata.name);f.document&&(o=o.add(g));const _=e.Ls(f);_.setReadTime(e.ks(f.metadata.readTime)),l=l.insert(g,_)}const c=r.Cs.newChangeBuffer({trackRemovals:!0}),d=await Tc(r,function(g){return Xn(Mc(Fe.fromString(`__bundle__/docs/${g}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>yO(f,c,l).next(g=>(c.apply(f),g)).next(g=>r.ai.removeMatchingKeysForTargetId(f,d.targetId).next(()=>r.ai.addMatchingKeys(f,o,d.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,g.xs,g.Os)).next(()=>g.xs)))}async function $q(n,e,t=ke()){const i=await Tc(n,Xn(Rb(e.bundledQuery))),r=me(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const l=Gt(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.ci.saveNamedQuery(o,e);const c=i.withResumeToken(Ut.EMPTY_BYTE_STRING,l);return r.Ss=r.Ss.insert(c.targetId,c),r.ai.updateTargetData(o,c).next(()=>r.ai.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.ai.addMatchingKeys(o,t,i.targetId)).next(()=>r.ci.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="firestore_clients";function wC(n,e){return`${EO}_${n}_${e}`}const bO="firestore_mutations";function AC(n,e,t){let i=`${bO}_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const wO="firestore_targets";function NT(n,e){return`${wO}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="SharedClientState";class Hg{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static qs(e,t,i){const r=JSON.parse(i);let o,l=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(o=new oe(r.error.code,r.error.message))),l?new Hg(e,t,r.state,o):(Ht(br,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ud{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static qs(e,t){const i=JSON.parse(t);let r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new oe(i.error.code,i.error.message))),o?new Ud(e,i.state,r):(Ht(br,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const i=JSON.parse(t);let r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=vb();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=Yk(i.activeTargetIds[l]),o=o.add(i.activeTargetIds[l]);return r?new Gg(e,o):(Ht(br,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Mb{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Mb(t.clientId,t.onlineState):(Ht(br,`Failed to parse online state: ${e}`),null)}}class B0{constructor(){this.activeTargetIds=vb()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OT{constructor(e,t,i,r,o){this.window=e,this.bi=t,this.persistenceKey=i,this.Ks=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new dt(Re),this.started=!1,this.js=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Hs=wC(this.persistenceKey,this.Ks),this.Js=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new B0),this.Ys=new RegExp(`^${EO}_${l}_([^_]*)$`),this.Zs=new RegExp(`^${bO}_${l}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${wO}_${l}_(\\d+)$`),this.eo=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.no=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const i of e){if(i===this.Ks)continue;const r=this.getItem(wC(this.persistenceKey,i));if(r){const o=Gg.qs(i,r);o&&(this.zs=this.zs.insert(o.clientId,o))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const i=this.io(t);i&&this.so(i)}for(const i of this.js)this.Gs(i);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,i){this._o(e,t,i),this.ao(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(NT(this.persistenceKey,e));if(r){const o=Ud.qs(e,r);o&&(i=o.state)}}return t&&this.uo.$s(e),this.ro(),i}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(NT(this.persistenceKey,e))}updateQueryState(e,t,i){this.co(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.ao(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return le(br,"READ",e,t),t}setItem(e,t){le(br,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){le(br,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(le(br,"EVENT",t.key,t.newValue),t.key===this.Hs)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ys.test(t.key)){if(t.newValue==null){const i=this.Po(t.key);return this.To(i,null)}{const i=this.Io(t.key,t.newValue);if(i)return this.To(i.clientId,i)}}else if(this.Zs.test(t.key)){if(t.newValue!==null){const i=this.Eo(t.key,t.newValue);if(i)return this.Ao(i)}}else if(this.Xs.test(t.key)){if(t.newValue!==null){const i=this.Ro(t.key,t.newValue);if(i)return this.Vo(i)}}else if(t.key===this.eo){if(t.newValue!==null){const i=this.io(t.newValue);if(i)return this.so(i)}}else if(t.key===this.Js){const i=function(o){let l=si.le;if(o!=null)try{const c=JSON.parse(o);ve(typeof c=="number",30636,{mo:o}),l=c}catch(c){Ht(br,"Failed to read sequence number from WebStorage",c)}return l}(t.newValue);i!==si.le&&this.sequenceNumberHandler(i)}else if(t.key===this.no){const i=this.fo(t.newValue);await Promise.all(i.map(r=>this.syncEngine.po(r)))}}}else this.js.push(t)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,i){const r=new Hg(this.currentUser,e,t,i),o=AC(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Qs())}ao(e){const t=AC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,i){const r=NT(this.persistenceKey,e),o=new Ud(e,t,i);this.setItem(r,o.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const i=this.Po(e);return Gg.qs(i,t)}Eo(e,t){const i=this.Zs.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Hg.qs(new yn(o),r,t)}Ro(e,t){const i=this.Xs.exec(e),r=Number(i[1]);return Ud.qs(r,t)}io(e){return Mb.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);le(br,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const i=t?this.zs.insert(e,t):this.zs.remove(e),r=this.oo(this.zs),o=this.oo(i),l=[],c=[];return o.forEach(d=>{r.has(d)||l.push(d)}),r.forEach(d=>{o.has(d)||c.push(d)}),this.syncEngine.bo(l,c).then(()=>{this.zs=i})}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=vb();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class AO{constructor(){this.So=new B0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new B0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="ConnectivityMonitor";class IC{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){le(SC,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){le(SC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm=null;function F0(){return Bm===null?Bm=function(){return 268435456+Math.round(2147483648*Math.random())}():Bm++,"0x"+Bm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="RestConnection",Gq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kq{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${r}`,this.qo=this.databaseId.database===S0?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Qo(e,t,i,r,o){const l=F0(),c=this.$o(e,t.toUriEncodedString());le(VT,`Sending RPC '${e}' ${l}:`,c,i);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(d,r,o),this.Ko(e,c,d,i).then(f=>(le(VT,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Fr(VT,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Wo(e,t,i,r,o,l){return this.Qo(e,t,i,r,o)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}$o(e,t){const i=Gq[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class Yq extends Kq{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,r){const o=F0();return new Promise((l,c)=>{const d=new Vk;d.setWithCredentials(!0),d.listenOnce(Mk.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case rg.NO_ERROR:const g=d.getResponseJson();le(Nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case rg.TIMEOUT:le(Nn,`RPC '${e}' ${o} timed out`),c(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case rg.HTTP_ERROR:const _=d.getStatus();if(le(Nn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T==null?void 0:T.error;if(w&&w.status&&w.message){const A=function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(P)>=0?P:Z.UNKNOWN}(w.status);c(new oe(A,w.message))}else c(new oe(Z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{s_:e,streamId:o,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{le(Nn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);le(Nn,`RPC '${e}' ${o} sending request:`,r),d.send(t,"POST",f,i,15)})}a_(e,t,i){const r=F0(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Bk(),c=Uk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const g=o.join("");le(Nn,`Creating RPC '${e}' stream ${r}: ${g}`,d);const _=l.createWebChannel(g,d);let T=!1,w=!1;const A=new Wq({Go:C=>{w?le(Nn,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(T||(le(Nn,`Opening RPC '${e}' stream ${r} transport.`),_.open(),T=!0),le(Nn,`RPC '${e}' stream ${r} sending:`,C),_.send(C))},zo:()=>_.close()}),D=(C,P,O)=>{C.listen(P,k=>{try{O(k)}catch(q){setTimeout(()=>{throw q},0)}})};return D(_,Ed.EventType.OPEN,()=>{w||(le(Nn,`RPC '${e}' stream ${r} transport opened.`),A.t_())}),D(_,Ed.EventType.CLOSE,()=>{w||(w=!0,le(Nn,`RPC '${e}' stream ${r} transport closed`),A.r_())}),D(_,Ed.EventType.ERROR,C=>{w||(w=!0,Fr(Nn,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),A.r_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))}),D(_,Ed.EventType.MESSAGE,C=>{var P;if(!w){const O=C.data[0];ve(!!O,16349);const k=O,q=(k==null?void 0:k.error)||((P=k[0])===null||P===void 0?void 0:P.error);if(q){le(Nn,`RPC '${e}' stream ${r} received error:`,q);const j=q.status;let Q=function(N){const L=Jt[N];if(L!==void 0)return UN(L)}(j),x=q.message;Q===void 0&&(Q=Z.INTERNAL,x="Unknown error status: "+j+" with message "+q.message),w=!0,A.r_(new oe(Q,x)),_.close()}else le(Nn,`RPC '${e}' stream ${r} received:`,O),A.i_(O)}}),D(c,Lk.STAT_EVENT,C=>{C.stat===_0.PROXY?le(Nn,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===_0.NOPROXY&&le(Nn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){return typeof window<"u"?window:null}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n){return new eq(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,i=1e3,r=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=r,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="PersistentStream";class IO{constructor(e,t,i,r,o,l,c,d){this.bi=e,this.R_=i,this.V_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Lb(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Ht(t.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.m_===t&&this.B_(i,r)},i=>{e(()=>{const r=new oe(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(r)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{i(()=>this.L_(r))}),this.stream.onMessage(r=>{i(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return le(RC,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(le(RC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qq extends IO{constructor(e,t,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=iq(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ee.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ee.min():l.readTime?Gt(l.readTime):Ee.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=O0(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=Lg(d)?{documents:KN(o,d)}:{query:WN(o,d).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=zN(o,l.resumeToken);const f=k0(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ee.min())>0){c.readTime=vc(o,l.snapshotVersion.toTimestamp());const f=k0(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=sq(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=O0(this.serializer),t.removeTarget=e,this.F_(t)}}class Xq extends IO{constructor(e,t,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=rq(e.writeResults,e.commitTime),i=Gt(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=O0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>df(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{}class Zq extends Jq{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(e,N0(t,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(Z.UNKNOWN,o.toString())})}Wo(e,t,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,N0(t,i),r,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(Z.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class e${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ht(t),this.ea=!1):le("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class t${constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{i.enqueueAndForget(async()=>{Xa(this)&&(le(El,"Restarting streams for network reachability change."),await async function(d){const f=me(d);f.aa.add(4),await Bc(f),f.la.set("Unknown"),f.aa.delete(4),await Wf(f)}(this))})}),this.la=new e$(i,r)}}async function Wf(n){if(Xa(n))for(const e of n.ua)await e(!0)}async function Bc(n){for(const e of n.ua)await e(!1)}function Oy(n,e){const t=me(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Fb(t)?Bb(t):zc(t).b_()&&Ub(t,e))}function bc(n,e){const t=me(n),i=zc(t);t._a.delete(e),i.b_()&&RO(t,e),t._a.size===0&&(i.b_()?i.v_():Xa(t)&&t.la.set("Unknown"))}function Ub(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zc(n).U_(e)}function RO(n,e){n.ha.Ke(e),zc(n).K_(e)}function Bb(n){n.ha=new Qj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),zc(n).start(),n.la.ta()}function Fb(n){return Xa(n)&&!zc(n).w_()&&n._a.size>0}function Xa(n){return me(n).aa.size===0}function CO(n){n.ha=void 0}async function n$(n){n.la.set("Online")}async function i$(n){n._a.forEach((e,t)=>{Ub(n,e)})}async function r$(n,e){CO(n),Fb(n)?(n.la.ia(e),Bb(n)):n.la.set("Unknown")}async function s$(n,e,t){if(n.la.set("Online"),e instanceof FN&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const c of o.targetIds)r._a.has(c)&&(await r.remoteSyncer.rejectListen(c,l),r._a.delete(c),r.ha.removeTarget(c))}(n,e)}catch(i){le(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kg(n,i)}else if(e instanceof dg?n.ha.Xe(e):e instanceof BN?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ee.min()))try{const i=await gO(n.localStore);t.compareTo(i)>=0&&await function(o,l){const c=o.ha.It(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o._a.get(f);g&&o._a.set(f,g.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const g=o._a.get(d);if(!g)return;o._a.set(d,g.withResumeToken(Ut.EMPTY_BYTE_STRING,g.snapshotVersion)),RO(o,d);const _=new vs(g.target,d,f,g.sequenceNumber);Ub(o,_)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){le(El,"Failed to raise snapshot:",i),await Kg(n,i)}}async function Kg(n,e,t){if(!Ya(e))throw e;n.aa.add(1),await Bc(n),n.la.set("Offline"),t||(t=()=>gO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(El,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Wf(n)})}function xO(n,e){return e().catch(t=>Kg(n,t,e))}async function Fc(n){const e=me(n),t=Fa(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Pa;for(;a$(e);)try{const r=await jq(e.localStore,i);if(r===null){e.oa.length===0&&t.v_();break}i=r.batchId,o$(e,r)}catch(r){await Kg(e,r)}PO(e)&&DO(e)}function a$(n){return Xa(n)&&n.oa.length<10}function o$(n,e){n.oa.push(e);const t=Fa(n);t.b_()&&t.W_&&t.G_(e.mutations)}function PO(n){return Xa(n)&&!Fa(n).w_()&&n.oa.length>0}function DO(n){Fa(n).start()}async function l$(n){Fa(n).H_()}async function u$(n){const e=Fa(n);for(const t of n.oa)e.G_(t.mutations)}async function c$(n,e,t){const i=n.oa.shift(),r=wb.from(i,e,t);await xO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Fc(n)}async function h$(n,e){e&&Fa(n).W_&&await async function(i,r){if(function(l){return LN(l)&&l!==Z.ABORTED}(r.code)){const o=i.oa.shift();Fa(i).D_(),await xO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Fc(i)}}(n,e),PO(n)&&DO(n)}async function CC(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),le(El,"RemoteStore received new credentials");const i=Xa(t);t.aa.add(3),await Bc(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Wf(t)}async function z0(n,e){const t=me(n);e?(t.aa.delete(2),await Wf(t)):e||(t.aa.add(2),await Bc(t),t.la.set("Unknown"))}function zc(n){return n.Pa||(n.Pa=function(t,i,r){const o=me(t);return o.Y_(),new Qq(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:n$.bind(null,n),Jo:i$.bind(null,n),Zo:r$.bind(null,n),Q_:s$.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Fb(n)?Bb(n):n.la.set("Unknown")):(await n.Pa.stop(),CO(n))})),n.Pa}function Fa(n){return n.Ta||(n.Ta=function(t,i,r){const o=me(t);return o.Y_(),new Xq(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:l$.bind(null,n),Zo:h$.bind(null,n),z_:u$.bind(null,n),j_:c$.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Fc(n)):(await n.Ta.stop(),n.oa.length>0&&(le(El,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const l=Date.now()+i,c=new zb(e,t,l,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(n,e){if(Ht("AsyncQueue",`${e}: ${n}`),Ya(n))return new oe(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{static emptySet(e){return new Xu(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||pe.comparator(t.key,i.key):(t,i)=>pe.comparator(t.key,i.key),this.keyedMap=bd(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Xu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.Ia=new dt(pe.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):ye(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class wc{constructor(e,t,i,r,o,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new wc(e,t,Xu.emptySet(t),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class f${constructor(){this.queries=PC(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const r=me(t),o=r.queries;r.queries=PC(),o.forEach((l,c)=>{for(const d of c.Ra)d.onError(i)})})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function PC(){return new Us(n=>wN(n),jf)}async function jb(n,e){const t=me(n);let i=3;const r=e.query;let o=t.queries.get(r);o?!o.Va()&&e.ma()&&(i=2):(o=new d$,i=e.ma()?0:1);try{switch(i){case 0:o.Aa=await t.onListen(r,!0);break;case 1:o.Aa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const c=jc(l,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&$b(t)}async function qb(n,e){const t=me(n),i=e.query;let r=3;const o=t.queries.get(i);if(o){const l=o.Ra.indexOf(e);l>=0&&(o.Ra.splice(l,1),o.Ra.length===0?r=e.ma()?0:1:!o.Va()&&e.ma()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function p$(n,e){const t=me(n);let i=!1;for(const r of e){const o=r.query,l=t.queries.get(o);if(l){for(const c of l.Ra)c.pa(r)&&(i=!0);l.Aa=r}}i&&$b(t)}function m$(n,e,t){const i=me(n),r=i.queries.get(e);if(r)for(const o of r.Ra)o.onError(t);i.queries.delete(e)}function $b(n){n.fa.forEach(e=>{e.next()})}var j0,DC;(DC=j0||(j0={})).ya="default",DC.Cache="cache";class Hb{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new wc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==j0.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.serializer=e}Bs(e){return Nr(this.serializer,e)}Ls(e){return e.metadata.exists?GN(this.serializer,e.document,!1):pt.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return Gt(e)}}class y${constructor(e,t,i){this.Oa=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kO(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const i=Fe.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,i=new kC(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.Bs(r.metadata.name);for(const l of r.metadata.queries){const c=(t.get(l)||ke()).add(o);t.set(l,c)}}return t}async complete(){const e=await qq(this.localStore,new kC(this.serializer),this.documents,this.Oa.id),t=this.Ba(this.documents);for(const i of this.queries)await $q(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:e}}}function kO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.key=e}}class OO{constructor(e){this.key=e}}class VO{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=SN(e),this.Ka=new Xu(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new xC,r=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,l=r,c=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((g,_)=>{const T=r.get(g),w=qf(this.query,_)?_:null,A=!!T&&this.mutatedKeys.has(T.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;T&&w?T.data.isEqual(w.data)?A!==D&&(i.track({type:3,doc:w}),C=!0):this.ja(T,w)||(i.track({type:2,doc:w}),C=!0,(d&&this.Ua(w,d)>0||f&&this.Ua(w,f)<0)&&(c=!0)):!T&&w?(i.track({type:0,doc:w}),C=!0):T&&!w&&(i.track({type:1,doc:T}),C=!0,(d||f)&&(c=!0)),C&&(w?(l=l.add(w),o=D?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{Ka:l,za:i,ys:c,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((g,_)=>function(w,A){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:C})}};return D(w)-D(A)}(g.type,_.type)||this.Ua(g.doc,_.doc)),this.Ha(i),r=r!=null&&r;const c=t&&!r?this.Ja():[],d=this.$a.size===0&&this.current&&!r?1:0,f=d!==this.Qa;return this.Qa=d,l.length!==0||f?{snapshot:new wc(this.query,e.Ka,o,l,e.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new xC,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new OO(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new NO(i))}),t}Xa(e){this.qa=e.Ns,this.$a=ke();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return wc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ja="SyncEngine";class _${constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class v${constructor(e){this.key=e,this.tu=!1}}class T${constructor(e,t,i,r,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Us(c=>wN(c),jf),this.iu=new Map,this.su=new Set,this.ou=new dt(pe.comparator),this._u=new Map,this.au=new Pb,this.uu={},this.cu=new Map,this.lu=Tl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function E$(n,e,t=!0){const i=Vy(n);let r;const o=i.ru.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.eu()):r=await MO(i,e,t,!0),r}async function b$(n,e){const t=Vy(n);await MO(t,e,!0,!1)}async function MO(n,e,t,i){const r=await Tc(n.localStore,Xn(e)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return i&&(c=await Gb(n,e,o,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&Oy(n.remoteStore,r),c}async function Gb(n,e,t,i,r){n.Pu=(_,T,w)=>async function(D,C,P,O){let k=C.view.Ga(P);k.ys&&(k=await $g(D.localStore,C.query,!1).then(({documents:x})=>C.view.Ga(x,k)));const q=O&&O.targetChanges.get(C.targetId),j=O&&O.targetMismatches.get(C.targetId)!=null,Q=C.view.applyChanges(k,D.isPrimaryClient,q,j);return q0(D,C.targetId,Q.Ya),Q.snapshot}(n,_,T,w);const o=await $g(n.localStore,e,!0),l=new VO(e,o.Ns),c=l.Ga(o.documents),d=Gf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=l.applyChanges(c,n.isPrimaryClient,d);q0(n,t,f.Ya);const g=new _$(e,t,l);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),f.snapshot}async function w$(n,e,t){const i=me(n),r=i.ru.get(e),o=i.iu.get(r.targetId);if(o.length>1)return i.iu.set(r.targetId,o.filter(l=>!jf(l,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ec(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&bc(i.remoteStore,r.targetId),Ac(i,r.targetId)}).catch(Wa)):(Ac(i,r.targetId),await Ec(i.localStore,r.targetId,!0))}async function A$(n,e){const t=me(n),i=t.ru.get(e),r=t.iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),bc(t.remoteStore,i.targetId))}async function S$(n,e,t){const i=Qb(n);try{const r=await function(l,c){const d=me(l),f=wt.now(),g=c.reduce((w,A)=>w.add(A.key),ke());let _,T;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=oi(),D=ke();return d.Cs.getEntries(w,g).next(C=>{A=C,A.forEach((P,O)=>{O.isValidDocument()||(D=D.add(P))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,A)).next(C=>{_=C;const P=[];for(const O of c){const k=Kj(O,_.get(O.key).overlayedDocument);k!=null&&P.push(new Bs(O.key,k,pN(k.value.mapValue),bt.exists(!0)))}return d.mutationQueue.addMutationBatch(w,f,P,c)}).next(C=>{T=C;const P=C.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(w,C.batchId,P)})}).then(()=>({batchId:T.batchId,changes:RN(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,c,d){let f=l.uu[l.currentUser.toKey()];f||(f=new dt(Re)),f=f.insert(c,d),l.uu[l.currentUser.toKey()]=f}(i,r.batchId,t),await Fs(i,r.changes),await Fc(i.remoteStore)}catch(r){const o=jc(r,"Failed to persist write");t.reject(o)}}async function LO(n,e){const t=me(n);try{const i=await zq(t.localStore,e);e.targetChanges.forEach((r,o)=>{const l=t._u.get(o);l&&(ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.tu=!0:r.modifiedDocuments.size>0?ve(l.tu,14607):r.removedDocuments.size>0&&(ve(l.tu,42227),l.tu=!1))}),await Fs(t,i,e)}catch(i){await Wa(i)}}function NC(n,e,t){const i=me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ru.forEach((o,l)=>{const c=l.view.ga(e);c.snapshot&&r.push(c.snapshot)}),function(l,c){const d=me(l);d.onlineState=c;let f=!1;d.queries.forEach((g,_)=>{for(const T of _.Ra)T.ga(c)&&(f=!0)}),f&&$b(d)}(i.eventManager,e),r.length&&i.nu.Q_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function I$(n,e,t){const i=me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i._u.get(e),o=r&&r.key;if(o){let l=new dt(pe.comparator);l=l.insert(o,pt.newNoDocument(o,Ee.min()));const c=ke().add(o),d=new Hf(Ee.min(),new Map,new dt(Re),l,c);await LO(i,d),i.ou=i.ou.remove(o),i._u.delete(e),Yb(i)}else await Ec(i.localStore,e,!1).then(()=>Ac(i,e,t)).catch(Wa)}async function R$(n,e){const t=me(n),i=e.batch.batchId;try{const r=await Fq(t.localStore,e);Wb(t,i,null),Kb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Fs(t,r)}catch(r){await Wa(r)}}async function C$(n,e,t){const i=me(n);try{const r=await function(l,c){const d=me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,c).next(_=>(ve(_!==null,37113),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(i.localStore,e);Wb(i,e,t),Kb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Fs(i,r)}catch(r){await Wa(r)}}async function x$(n,e){const t=me(n);Xa(t.remoteStore)||le(Ja,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await function(l){const c=me(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(i===Pa)return void e.resolve();const r=t.cu.get(i)||[];r.push(e),t.cu.set(i,r)}catch(i){const r=jc(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}function Kb(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function Wb(n,e,t){const i=me(n);let r=i.uu[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.uu[i.currentUser.toKey()]=r}}function Ac(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||UO(n,i)})}function UO(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(bc(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Yb(n))}function q0(n,e,t){for(const i of t)i instanceof NO?(n.au.addReference(i.key,e),P$(n,i)):i instanceof OO?(le(Ja,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||UO(n,i.key)):ye(19791,{Iu:i})}function P$(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(le(Ja,"New document in limbo: "+t),n.su.add(i),Yb(n))}function Yb(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new pe(Fe.fromString(e)),i=n.lu.next();n._u.set(i,new v$(t)),n.ou=n.ou.insert(t,i),Oy(n.remoteStore,new vs(Xn(Mc(t.path)),i,"TargetPurposeLimboResolution",si.le))}}async function Fs(n,e,t){const i=me(n),r=[],o=[],l=[];i.ru.isEmpty()||(i.ru.forEach((c,d)=>{l.push(i.Pu(d,e,t).then(f=>{var g;if((f||t)&&i.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){r.push(f);const _=Ob.Ps(d.targetId,f);o.push(_)}}))}),await Promise.all(l),i.nu.Q_(r),await async function(d,f){const g=me(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>K.forEach(f,T=>K.forEach(T.ls,w=>g.persistence.referenceDelegate.addReference(_,T.targetId,w)).next(()=>K.forEach(T.hs,w=>g.persistence.referenceDelegate.removeReference(_,T.targetId,w)))))}catch(_){if(!Ya(_))throw _;le(Vb,"Failed to update sequence numbers: "+_)}for(const _ of f){const T=_.targetId;if(!_.fromCache){const w=g.Ss.get(T),A=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(A);g.Ss=g.Ss.insert(T,D)}}}(i.localStore,o))}async function D$(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){le(Ja,"User change. New user:",e.toKey());const i=await mO(t.localStore,e);t.currentUser=e,function(o,l){o.cu.forEach(c=>{c.forEach(d=>{d.reject(new oe(Z.CANCELLED,l))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fs(t,i.Ms)}}function k$(n,e){const t=me(n),i=t._u.get(e);if(i&&i.tu)return ke().add(i.key);{let r=ke();const o=t.iu.get(e);if(!o)return r;for(const l of o){const c=t.ru.get(l);r=r.unionWith(c.view.Wa)}return r}}async function N$(n,e){const t=me(n),i=await $g(t.localStore,e.query,!0),r=e.view.Xa(i);return t.isPrimaryClient&&q0(t,e.targetId,r.Ya),r}async function O$(n,e){const t=me(n);return vO(t.localStore,e).then(i=>Fs(t,i))}async function V$(n,e,t,i){const r=me(n),o=await function(c,d){const f=me(c),g=me(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Hn(_,d).next(T=>T?f.localDocuments.getDocuments(_,T):K.resolve(null)))}(r.localStore,e);o!==null?(t==="pending"?await Fc(r.remoteStore):t==="acknowledged"||t==="rejected"?(Wb(r,e,i||null),Kb(r,e),function(c,d){me(me(c).mutationQueue).Xn(d)}(r.localStore,e)):ye(6720,"Unknown batchState",{Eu:t}),await Fs(r,o)):le(Ja,"Cannot apply mutation batch with id: "+e)}async function M$(n,e){const t=me(n);if(Vy(t),Qb(t),e===!0&&t.hu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),r=await OC(t,i.toArray());t.hu=!0,await z0(t.remoteStore,!0);for(const o of r)Oy(t.remoteStore,o)}else if(e===!1&&t.hu!==!1){const i=[];let r=Promise.resolve();t.iu.forEach((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(Ac(t,l),Ec(t.localStore,l,!0))),bc(t.remoteStore,l)}),await r,await OC(t,i),function(l){const c=me(l);c._u.forEach((d,f)=>{bc(c.remoteStore,f)}),c.au.Kr(),c._u=new Map,c.ou=new dt(pe.comparator)}(t),t.hu=!1,await z0(t.remoteStore,!1)}}async function OC(n,e,t){const i=me(n),r=[],o=[];for(const l of e){let c;const d=i.iu.get(l);if(d&&d.length!==0){c=await Tc(i.localStore,Xn(d[0]));for(const f of d){const g=i.ru.get(f),_=await N$(i,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await _O(i.localStore,l);c=await Tc(i.localStore,f),await Gb(i,BO(f),l,!1,c.resumeToken)}r.push(c)}return i.nu.Q_(o),r}function BO(n){return bN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function L$(n){return function(t){return me(me(t).persistence).us()}(me(n).localStore)}async function U$(n,e,t,i){const r=me(n);if(r.hu)return void le(Ja,"Ignoring unexpected query state notification.");const o=r.iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=await vO(r.localStore,AN(o[0])),c=Hf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ut.EMPTY_BYTE_STRING);await Fs(r,l,c);break}case"rejected":await Ec(r.localStore,e,!0),Ac(r,e,i);break;default:ye(64155,t)}}async function B$(n,e,t){const i=Vy(n);if(i.hu){for(const r of e){if(i.iu.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){le(Ja,"Adding an already active target "+r);continue}const o=await _O(i.localStore,r),l=await Tc(i.localStore,o);await Gb(i,BO(o),l.targetId,!1,l.resumeToken),Oy(i.remoteStore,l)}for(const r of t)i.iu.has(r)&&await Ec(i.localStore,r,!1).then(()=>{bc(i.remoteStore,r),Ac(i,r)}).catch(Wa)}}function Vy(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I$.bind(null,e),e.nu.Q_=p$.bind(null,e.eventManager),e.nu.Tu=m$.bind(null,e.eventManager),e}function Qb(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C$.bind(null,e),e}function F$(n,e,t){const i=me(n);(async function(o,l,c){try{const d=await l.getMetadata();if(await function(w,A){const D=me(w),C=Gt(A.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",P=>D.ci.getBundleMetadata(P,A.id)).then(P=>!!P&&P.createTime.compareTo(C)>=0)}(o.localStore,d))return await l.close(),c._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(d)),Promise.resolve(new Set);c._updateProgress(kO(d));const f=new y$(d,o.localStore,l.serializer);let g=await l.du();for(;g;){const T=await f.Na(g);T&&c._updateProgress(T),g=await l.du()}const _=await f.complete();return await Fs(o,_.ka,void 0),await function(w,A){const D=me(w);return D.persistence.runTransaction("Save bundle","readwrite",C=>D.ci.saveBundleMetadata(C,A))}(o.localStore,d),c._completeWith(_.progress),Promise.resolve(_.La)}catch(d){return Fr(Ja,`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return pO(this.persistence,new fO,e.initialUser,this.serializer)}Ru(e){return new Db(Ny.Ei,this.serializer)}Au(e){return new AO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class z$ extends ff{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ve(this.persistence.referenceDelegate instanceof qg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oO(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new Db(i=>qg.Ei(i,t),this.serializer)}}class FO extends ff{constructor(e,t,i){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await Qb(this.gu.syncEngine),await Fc(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(e){return pO(this.persistence,new fO,e.initialUser,this.serializer)}mu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new oO(i,e.asyncQueue,t)}fu(e,t){const i=new Q9(t,this.persistence);return new Y9(e.asyncQueue,i)}Ru(e){const t=Nb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new kb(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,SO(),fg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new AO}}class j$ extends FO{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof OT&&(this.sharedClientState.syncEngine={yo:V$.bind(null,t),wo:U$.bind(null,t),bo:B$.bind(null,t),us:L$.bind(null,t),po:O$.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki(async i=>{await M$(this.gu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}Au(e){const t=SO();if(!OT.C(t))throw new oe(Z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Nb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class pf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>NC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D$.bind(null,this.syncEngine),await z0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f$}()}createDatastore(e){const t=Kf(e.databaseInfo.databaseId),i=function(o){return new Yq(o)}(e.databaseInfo);return function(o,l,c,d){return new Zq(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,l,c){return new t$(i,r,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>NC(this.syncEngine,t,0),function(){return IC.C()?new IC:new Hq}())}createSyncEngine(e,t){return function(r,o,l,c,d,f,g){const _=new T$(r,o,l,c,d,f);return g&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const o=me(r);le(El,"RemoteStore shutting down."),o.aa.add(5),await Bc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pf.provider={build:()=>new pf};function VC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new Rn,this.buffer=new Uint8Array,this.bu=function(){return new TextDecoder("utf-8")}(),this.Su().then(i=>{i&&i.xa()?this.metadata.resolve(i.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i==null?void 0:i.Ma)}`))},i=>this.metadata.reject(i))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const e=await this.Du();if(e===null)return null;const t=this.bu.decode(e),i=Number(t);isNaN(i)&&this.vu(`length string (${t}) is not valid number`);const r=await this.Cu(i);return new g$(JSON.parse(r),e.length+i)}Fu(){return this.buffer.findIndex(e=>e===123)}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(this.buffer.length===0)return null;const e=this.Fu();e<0&&this.vu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cu(e){for(;this.buffer.length<e;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const t=this.bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Mu(){const e=await this.wu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(r,o){const l=me(r),c={documents:o.map(_=>hf(l.serializer,_))},d=await l.Wo("BatchGetDocuments",l.serializer.databaseId,Fe.emptyPath(),c,o.length),f=new Map;d.forEach(_=>{const T=nq(l.serializer,_);f.set(T.key.toString(),T)});const g=[];return o.forEach(_=>{const T=f.get(_.toString());ve(!!T,55234,{key:_}),g.push(T)}),g}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Uc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{const r=pe.fromPath(i);this.mutations.push(new Eb(r,this.precondition(r)))}),await async function(i,r){const o=me(i),l={writes:r.map(c=>df(o.serializer,c))};await o.Qo("Commit",o.serializer.databaseId,Fe.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ye(50498,{xu:e.constructor.name});t=Ee.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new oe(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?bt.exists(!1):bt.updateTime(t):bt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new oe(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bt.updateTime(t)}return bt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Ou=i.maxAttempts,this.y_=new Lb(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new $$(this.datastore),t=this.Lu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.ku(r)}))}).catch(i=>{this.ku(i)})})}Lu(e){try{const t=this.updateFunction(e);return!Bf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!LN(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class G${constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=yn.UNAUTHENTICATED,this.clientId=jk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{le(za,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(le(za,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=jc(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function MT(n,e){n.asyncQueue.verifyOperationInProgress(),le(za,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await mO(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function MC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Xb(n);le(za,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>CC(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>CC(e.remoteStore,r)),n._onlineComponents=e}async function Xb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(za,"Using user provided OfflineComponentProvider");try{await MT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===Z.FAILED_PRECONDITION||r.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Fr("Error using user provided cache. Falling back to memory cache: "+t),await MT(n,new ff)}}else le(za,"Using default OfflineComponentProvider"),await MT(n,new z$(void 0));return n._offlineComponents}async function Ly(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(za,"Using user provided OnlineComponentProvider"),await MC(n,n._uninitializedComponentsProvider._online)):(le(za,"Using default OnlineComponentProvider"),await MC(n,new pf))),n._onlineComponents}function zO(n){return Xb(n).then(e=>e.persistence)}function Jb(n){return Xb(n).then(e=>e.localStore)}function jO(n){return Ly(n).then(e=>e.remoteStore)}function Zb(n){return Ly(n).then(e=>e.syncEngine)}function K$(n){return Ly(n).then(e=>e.datastore)}async function Sc(n){const e=await Ly(n),t=e.eventManager;return t.onListen=E$.bind(null,e.syncEngine),t.onUnlisten=w$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=b$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=A$.bind(null,e.syncEngine),t}function W$(n){return n.asyncQueue.enqueue(async()=>{const e=await zO(n),t=await jO(n);return e.setNetworkEnabled(!0),function(r){const o=me(r);return o.aa.delete(0),Wf(o)}(t)})}function Y$(n){return n.asyncQueue.enqueue(async()=>{const e=await zO(n),t=await jO(n);return e.setNetworkEnabled(!1),async function(r){const o=me(r);o.aa.add(0),await Bc(o),o.la.set("Offline")}(t)})}function Q$(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>async function(r,o,l){try{const c=await function(f,g){const _=me(f);return _.persistence.runTransaction("read document","readonly",T=>_.localDocuments.getDocument(T,g))}(r,o);c.isFoundDocument()?l.resolve(c):c.isNoDocument()?l.resolve(null):l.reject(new oe(Z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=jc(c,`Failed to get document '${o} from cache`);l.reject(d)}}(await Jb(n),e,t)),t.promise}function qO(n,e,t={}){const i=new Rn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const g=new My({next:T=>{g.yu(),l.enqueueAndForget(()=>qb(o,_));const w=T.docs.has(c);!w&&T.fromCache?f.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&d&&d.source==="server"?f.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),_=new Hb(Mc(c.path),g,{includeMetadataChanges:!0,Fa:!0});return jb(o,_)}(await Sc(n),n.asyncQueue,e,t,i)),i.promise}function X$(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>async function(r,o,l){try{const c=await $g(r,o,!0),d=new VO(o,c.Ns),f=d.Ga(c.documents),g=d.applyChanges(f,!1);l.resolve(g.snapshot)}catch(c){const d=jc(c,`Failed to execute query '${o} against cache`);l.reject(d)}}(await Jb(n),e,t)),t.promise}function $O(n,e,t={}){const i=new Rn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const g=new My({next:T=>{g.yu(),l.enqueueAndForget(()=>qb(o,_)),T.fromCache&&d.source==="server"?f.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),_=new Hb(c,g,{includeMetadataChanges:!0,Fa:!0});return jb(o,_)}(await Sc(n),n.asyncQueue,e,t,i)),i.promise}function J$(n,e){const t=new My(e);return n.asyncQueue.enqueueAndForget(async()=>function(r,o){me(r).fa.add(o),o.next()}(await Sc(n),t)),()=>{t.yu(),n.asyncQueue.enqueueAndForget(async()=>function(r,o){me(r).fa.delete(o)}(await Sc(n),t))}}function Z$(n,e,t,i){const r=function(l,c){let d;return d=typeof l=="string"?lb().encode(l):l,function(g,_){return new q$(g,_)}(function(g,_){if(g instanceof Uint8Array)return VC(g,_);if(g instanceof ArrayBuffer)return VC(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),c)}(t,Kf(e));n.asyncQueue.enqueueAndForget(async()=>{F$(await Zb(n),r,i)})}function e8(n,e){return n.asyncQueue.enqueue(async()=>function(i,r){const o=me(i);return o.persistence.runTransaction("Get named query","readonly",l=>o.ci.getNamedQuery(l,r))}(await Jb(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n,e,t){if(!t)throw new oe(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GO(n,e,t,i){if(e===!0&&i===!0)throw new oe(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UC(n){if(!pe.isDocumentKey(n))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BC(n){if(pe.isDocumentKey(n))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function Ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uy(n);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KO(n,e){if(e<=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="firestore.googleapis.com",FC=!0;class zC{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WO,this.ssl=FC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:FC;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Eq)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HO((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new U9;switch(i.type){case"firstParty":return new j9(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=LC.get(t);i&&(le("ComponentProvider","Removing Datastore"),LC.delete(t),i.terminate())}(this),Promise.resolve()}}function t8(n,e,t,i={}){var r;const o=(n=Ye(n,Yf))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==WO&&o.host!==c&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:i});if(!ka(d,l)&&(n._setSettings(d),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=yn.MOCK_USER;else{f=yD(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new yn(_)}n._authCredentials=new B9(new zk(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class YO{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new YO(this.firestore,e,this._query)}},Ct=class QO{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new QO(this.firestore,e,this._key)}},Da=class XO extends Jn{constructor(e,t,i){super(e,t,Mc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new pe(e))}withConverter(e){return new XO(this.firestore,e,this._path)}};function JO(n,e,...t){if(n=Te(n),ew("collection","path",e),n instanceof Yf){const i=Fe.fromString(e,...t);return BC(i),new Da(n,null,i)}{if(!(n instanceof Ct||n instanceof Da))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fe.fromString(e,...t));return BC(i),new Da(n.firestore,null,i)}}function n8(n,e){if(n=Ye(n,Yf),ew("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jn(n,null,function(i){return new Ls(Fe.emptyPath(),i)}(e))}function Wg(n,e,...t){if(n=Te(n),arguments.length===1&&(e=jk.newId()),ew("doc","path",e),n instanceof Yf){const i=Fe.fromString(e,...t);return UC(i),new Ct(n,null,new pe(i))}{if(!(n instanceof Ct||n instanceof Da))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fe.fromString(e,...t));return UC(i),new Ct(n.firestore,n instanceof Da?n.converter:null,new pe(i))}}function ZO(n,e){return n=Te(n),e=Te(e),(n instanceof Ct||n instanceof Da)&&(e instanceof Ct||e instanceof Da)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function eV(n,e){return n=Te(n),e=Te(e),n instanceof Jn&&e instanceof Jn&&n.firestore===e.firestore&&jf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="AsyncQueue";class qC{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Lb(this,"async_queue_retry"),this.ju=()=>{const i=fg();i&&le(jC,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=fg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=fg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Rn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ya(e))throw e;le(jC,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Ht("INTERNAL UNHANDLED ERROR: ",$C(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=zb.createAndSchedule(this,e,t,i,o=>this.Xu(o));return this.Uu.push(r),r}Ju(){this.Ku&&ye(47125,{ec:$C(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function $C(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class i8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=-1;let Kt=class extends Yf{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new qC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qC(e),this._firestoreClient=void 0,await e}}};function Fn(n){if(n._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tV(n),n._firestoreClient}function tV(n){var e,t,i;const r=n._freezeSettings(),o=function(c,d,f,g){return new Sj(c,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,HO(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new G$(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(n._componentsProvider))}function s8(n,e){Fr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return nV(n,pf.provider,{build:i=>new FO(i,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function a8(n){Fr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();nV(n,pf.provider,{build:t=>new j$(t,e.cacheSizeBytes)})}function nV(n,e,t){if((n=Ye(n,Kt))._firestoreClient||n._terminated)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new oe(Z.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},tV(n)}function o8(n){if(n._initialized&&!n._terminated)throw new oe(Z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(i){if(!kr.C())return Promise.resolve();const r=i+dO;await kr.delete(r)}(Nb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function l8(n){return function(t){const i=new Rn;return t.asyncQueue.enqueueAndForget(async()=>x$(await Zb(t),i)),i.promise}(Fn(n=Ye(n,Kt)))}function u8(n){return W$(Fn(n=Ye(n,Kt)))}function c8(n){return Y$(Fn(n=Ye(n,Kt)))}function h8(n,e){const t=Fn(n=Ye(n,Kt)),i=new i8;return Z$(t,n._databaseId,e,i),i}function d8(n,e){return e8(Fn(n=Ye(n,Kt)),e).then(t=>t?new Jn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jr(Ut.fromBase64String(e))}catch(t){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jr(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=/^__.*__$/;class p8{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lc(e,this.data,t,this.fieldTransforms)}}class iV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{oc:n})}}class Fy{constructor(e,t,i,r,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ac({path:i,cc:!1});return r.lc(e),r}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ac({path:i,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Yg(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(rV(this.oc)&&f8.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class m8{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Kf(e)}dc(e,t,i,r=!1){return new Fy({oc:e,methodName:t,Ec:i,path:Et.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xl(n){const e=n._freezeSettings(),t=Kf(n._databaseId);return new m8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zy(n,e,t,i,r,o={}){const l=n.dc(o.merge||o.mergeFields?2:0,e,t,r);lw("Data must be an object, but it was:",l,i);const c=oV(i,l);let d,f;if(o.merge)d=new ai(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const T=H0(e,_,t);if(!l.contains(T))throw new oe(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);uV(g,T)||g.push(T)}d=new ai(g),f=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=l.fieldTransforms;return new p8(new In(c),d,f)}class Qf extends Cl{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function sV(n,e,t){return new Fy({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nw extends Cl{_toFieldTransform(e){return new $f(e.path,new yc)}isEqual(e){return e instanceof nw}}class iw extends Cl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=sV(this,e,!0),i=this.Ac.map(o=>Pl(o,t)),r=new gl(i);return new $f(e.path,r)}isEqual(e){return e instanceof iw&&ka(this.Ac,e.Ac)}}class rw extends Cl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=sV(this,e,!0),i=this.Ac.map(o=>Pl(o,t)),r=new yl(i);return new $f(e.path,r)}isEqual(e){return e instanceof rw&&ka(this.Ac,e.Ac)}}class sw extends Cl{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new _c(e.serializer,PN(e.serializer,this.Rc));return new $f(e.path,t)}isEqual(e){return e instanceof sw&&this.Rc===e.Rc}}function aw(n,e,t,i){const r=n.dc(1,e,t);lw("Data must be an object, but it was:",r,i);const o=[],l=In.empty();Qa(i,(d,f)=>{const g=uw(e,d,t);f=Te(f);const _=r.hc(g);if(f instanceof Qf)o.push(g);else{const T=Pl(f,_);T!=null&&(o.push(g),l.set(g,T))}});const c=new ai(o);return new iV(l,c,r.fieldTransforms)}function ow(n,e,t,i,r,o){const l=n.dc(1,e,t),c=[H0(e,i,t)],d=[r];if(o.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)c.push(H0(e,o[T])),d.push(o[T+1]);const f=[],g=In.empty();for(let T=c.length-1;T>=0;--T)if(!uV(f,c[T])){const w=c[T];let A=d[T];A=Te(A);const D=l.hc(w);if(A instanceof Qf)f.push(w);else{const C=Pl(A,D);C!=null&&(f.push(w),g.set(w,C))}}const _=new ai(f);return new iV(g,_,l.fieldTransforms)}function aV(n,e,t,i=!1){return Pl(t,n.dc(i?4:3,e))}function Pl(n,e){if(lV(n=Te(n)))return lw("Unsupported field value:",e,n),oV(n,e);if(n instanceof Cl)return function(i,r){if(!rV(r.oc))throw r.Tc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const c of i){let d=Pl(c,r.Pc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Te(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PN(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=wt.fromDate(i);return{timestampValue:vc(r.serializer,o)}}if(i instanceof wt){const o=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vc(r.serializer,o)}}if(i instanceof By)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jr)return{bytesValue:zN(r.serializer,i._byteString)};if(i instanceof Ct){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ib(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof tw)return function(l,c){return{mapValue:{fields:{[mb]:{stringValue:gb},[pc]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Tc("VectorValues must only contain numeric values.");return Tb(c.serializer,f)})}}}}}}(i,r);throw r.Tc(`Unsupported field value: ${Uy(i)}`)}(n,e)}function oV(n,e){const t={};return sN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(n,(i,r)=>{const o=Pl(r,e.uc(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function lV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof By||n instanceof jr||n instanceof Ct||n instanceof Cl||n instanceof tw)}function lw(n,e,t){if(!lV(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=Uy(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function H0(n,e,t){if((e=Te(e))instanceof ja)return e._internalPath;if(typeof e=="string")return uw(n,e);throw Yg("Field path arguments must be of type string or ",n,!1,void 0,t)}const g8=new RegExp("[~\\*/\\[\\]]");function uw(n,e,t){if(e.search(g8)>=0)throw Yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ja(...e.split("."))._internalPath}catch{throw Yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yg(n,e,t,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new oe(Z.INVALID_ARGUMENT,c+n+d)}function uV(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class y8 extends mf{data(){return super.data()}}function jy(n,e){return typeof e=="string"?uw(n,e):e instanceof ja?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cw{}class Xf extends cw{}function Ta(n,e,...t){let i=[];e instanceof cw&&i.push(e),i=i.concat(t),function(o){const l=o.filter(d=>d instanceof hw).length,c=o.filter(d=>d instanceof qy).length;if(l>1||l>0&&c>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class qy extends Xf{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new qy(e,t,i)}_apply(e){const t=this._parse(e);return dV(e._query,t),new Jn(e.firestore,e.converter,D0(e._query,t))}_parse(e){const t=xl(e.firestore);return function(o,l,c,d,f,g,_){let T;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){GC(_,g);const A=[];for(const D of _)A.push(HC(d,o,D));T={arrayValue:{values:A}}}else T=HC(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||GC(_,g),T=aV(c,l,_,g==="in"||g==="not-in");return ze.create(f,g,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _8(n,e,t){const i=e,r=jy("where",n);return qy._create(r,i,t)}class hw extends cw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hw(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:it.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let l=r;const c=o.getFlattenedFilters();for(const d of c)dV(l,d),l=D0(l,d)}(e._query,t),new Jn(e.firestore,e.converter,D0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dw extends Xf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dw(e,t)}_apply(e){const t=function(r,o,l){if(r.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cf(o,l)}(e._query,this._field,this._direction);return new Jn(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Ls(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function v8(n,e="asc"){const t=e,i=jy("orderBy",n);return dw._create(i,t)}class $y extends Xf{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new $y(e,t,i)}_apply(e){return new Jn(e.firestore,e.converter,Bg(e._query,this._limit,this._limitType))}}function T8(n){return KO("limit",n),$y._create("limit",n,"F")}function E8(n){return KO("limitToLast",n),$y._create("limitToLast",n,"L")}class Hy extends Xf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Hy(e,t,i)}_apply(e){const t=hV(e,this.type,this._docOrFields,this._inclusive);return new Jn(e.firestore,e.converter,function(r,o){return new Ls(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,t))}}function b8(...n){return Hy._create("startAt",n,!0)}function w8(...n){return Hy._create("startAfter",n,!1)}class Gy extends Xf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Gy(e,t,i)}_apply(e){const t=hV(e,this.type,this._docOrFields,this._inclusive);return new Jn(e.firestore,e.converter,function(r,o){return new Ls(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,t))}}function A8(...n){return Gy._create("endBefore",n,!1)}function S8(...n){return Gy._create("endAt",n,!0)}function hV(n,e,t,i){if(t[0]=Te(t[0]),t[0]instanceof mf)return function(o,l,c,d,f){if(!d)throw new oe(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const _ of Qu(o))if(_.field.isKeyField())g.push(pl(l,d.key));else{const T=d.data.field(_.field);if(Iy(T))throw new oe(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const w=_.field.canonicalString();throw new oe(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}g.push(T)}return new Ba(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=xl(n.firestore);return function(l,c,d,f,g,_){const T=l.explicitOrderBy;if(g.length>T.length)throw new oe(Z.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let A=0;A<g.length;A++){const D=g[A];if(T[A].field.isKeyField()){if(typeof D!="string")throw new oe(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof D}`);if(!_b(l)&&D.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${D}' contains a slash.`);const C=l.path.child(Fe.fromString(D));if(!pe.isDocumentKey(C))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const P=new pe(C);w.push(pl(c,P))}else{const C=aV(d,f,D);w.push(C)}}return new Ba(w,_)}(n._query,n.firestore._databaseId,r,e,t,i)}}function HC(n,e,t){if(typeof(t=Te(t))=="string"){if(t==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_b(e)&&t.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Fe.fromString(t));if(!pe.isDocumentKey(i))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pl(n,new pe(i))}if(t instanceof Ct)return pl(n,t._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uy(t)}.`)}function GC(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dV(n,e){const t=function(r,o){for(const l of r)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fw{convertValue(e,t="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qa(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;const o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[pc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>Tt(l.doubleValue));return new tw(o)}convertGeoPoint(e){return new By(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ry(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(of(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Fe.fromString(e);ve(JN(i),9688,{name:e});const r=new Ma(i.get(1),i.get(3)),o=new pe(i.popFirst(5));return r.isEqual(t)||Ht(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class I8 extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ps=class extends mf{constructor(e,t,i,r,o,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Bd=class extends Ps{data(e={}){return super.data(e)}},qa=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bd(this._firestore,this._userDataWriter,i.key,i,new Jo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>{const d=new Bd(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Jo(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Bd(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Jo(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:R8(c.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function R8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}function fV(n,e){return n instanceof Ps&&e instanceof Ps?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qa&&e instanceof qa&&n._firestore===e._firestore&&eV(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(n){n=Ye(n,Ct);const e=Ye(n.firestore,Kt);return qO(Fn(e),n._key).then(t=>pw(e,n,t))}class Dl extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function x8(n){n=Ye(n,Ct);const e=Ye(n.firestore,Kt),t=Fn(e),i=new Dl(e);return Q$(t,n._key).then(r=>new Ps(e,i,n._key,r,new Jo(r!==null&&r.hasLocalMutations,!0),n.converter))}function P8(n){n=Ye(n,Ct);const e=Ye(n.firestore,Kt);return qO(Fn(e),n._key,{source:"server"}).then(t=>pw(e,n,t))}function D8(n){n=Ye(n,Jn);const e=Ye(n.firestore,Kt),t=Fn(e),i=new Dl(e);return cV(n._query),$O(t,n._query).then(r=>new qa(e,i,n,r))}function k8(n){n=Ye(n,Jn);const e=Ye(n.firestore,Kt),t=Fn(e),i=new Dl(e);return X$(t,n._query).then(r=>new qa(e,i,n,r))}function N8(n){n=Ye(n,Jn);const e=Ye(n.firestore,Kt),t=Fn(e),i=new Dl(e);return $O(t,n._query,{source:"server"}).then(r=>new qa(e,i,n,r))}function KC(n,e,t){n=Ye(n,Ct);const i=Ye(n.firestore,Kt),r=Ky(n.converter,e,t);return Jf(i,[zy(xl(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,bt.none())])}function WC(n,e,t,...i){n=Ye(n,Ct);const r=Ye(n.firestore,Kt),o=xl(r);let l;return l=typeof(e=Te(e))=="string"||e instanceof ja?ow(o,"updateDoc",n._key,e,t,i):aw(o,"updateDoc",n._key,e),Jf(r,[l.toMutation(n._key,bt.exists(!0))])}function O8(n){return Jf(Ye(n.firestore,Kt),[new Uc(n._key,bt.none())])}function V8(n,e){const t=Ye(n.firestore,Kt),i=Wg(n),r=Ky(n.converter,e);return Jf(t,[zy(xl(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,bt.exists(!1))]).then(()=>i)}function pV(n,...e){var t,i,r;n=Te(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||$0(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if($0(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),e[l+2]=(r=_.complete)===null||r===void 0?void 0:r.bind(_)}let d,f,g;if(n instanceof Ct)f=Ye(n.firestore,Kt),g=Mc(n._key.path),d={next:_=>{e[l]&&e[l](pw(f,n,_))},error:e[l+1],complete:e[l+2]};else{const _=Ye(n,Jn);f=Ye(_.firestore,Kt),g=_._query;const T=new Dl(f);d={next:w=>{e[l]&&e[l](new qa(f,T,_,w))},error:e[l+1],complete:e[l+2]},cV(n._query)}return function(T,w,A,D){const C=new My(D),P=new Hb(w,C,A);return T.asyncQueue.enqueueAndForget(async()=>jb(await Sc(T),P)),()=>{C.yu(),T.asyncQueue.enqueueAndForget(async()=>qb(await Sc(T),P))}}(Fn(f),g,c,d)}function M8(n,e){return J$(Fn(n=Ye(n,Kt)),$0(e)?e:{next:e})}function Jf(n,e){return function(i,r){const o=new Rn;return i.asyncQueue.enqueueAndForget(async()=>S$(await Zb(i),r,o)),o.promise}(Fn(n),e)}function pw(n,e,t){const i=t.docs.get(e._key),r=new Dl(n);return new Ps(n,r,e._key,i,new Jo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U8=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}set(e,t,i){this._verifyNotCommitted();const r=Ia(e,this._firestore),o=Ky(r.converter,t,i),l=zy(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(l.toMutation(r._key,bt.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Ia(e,this._firestore);let l;return l=typeof(t=Te(t))=="string"||t instanceof ja?ow(this._dataReader,"WriteBatch.update",o._key,t,i,r):aw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ia(e,this._firestore);return this._mutations=this._mutations.concat(new Uc(t._key,bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ia(n,e){if((n=Te(n)).firestore!==e)throw new oe(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xl(e)}get(e){const t=Ia(e,this._firestore),i=new I8(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||r.length!==1)return ye(24041);const o=r[0];if(o.isFoundDocument())return new mf(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new mf(this._firestore,i,t._key,null,t.converter);throw ye(18433,{doc:o})})}set(e,t,i){const r=Ia(e,this._firestore),o=Ky(r.converter,t,i),l=zy(this._dataReader,"Transaction.set",r._key,o,r.converter!==null,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const o=Ia(e,this._firestore);let l;return l=typeof(t=Te(t))=="string"||t instanceof ja?ow(this._dataReader,"Transaction.update",o._key,t,i,r):aw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=Ia(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F8=class extends B8{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ia(e,this._firestore),i=new Dl(this._firestore);return super.get(e).then(r=>new Ps(this._firestore,i,t._key,r._document,new Jo(!1,!1),t.converter))}};function z8(n,e,t){n=Ye(n,Kt);const i=Object.assign(Object.assign({},L8),t);return function(o){if(o.maxAttempts<1)throw new oe(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,l,c){const d=new Rn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await K$(o);new H$(o.asyncQueue,f,c,l,d).Nu()}),d.promise}(Fn(n),r=>e(new F8(n,r)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(){return new Qf("deleteField")}function q8(){return new nw("serverTimestamp")}function $8(...n){return new iw("arrayUnion",n)}function H8(...n){return new rw("arrayRemove",n)}function G8(n){return new sw("increment",n)}(function(e,t=!0){(function(r){Vc=r})(Os),Is(new Hi("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Kt(new F9(i.getProvider("auth-internal")),new q9(l,i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(f.options.projectId,g)}(l,r),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),bi(A1,S1,e),bi(A1,S1,"esm2017")})();const K8="@firebase/firestore-compat",W8="0.3.46";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){if(typeof Uint8Array>"u")throw new oe("unimplemented","Uint8Arrays are not available in this environment.")}function QC(){if(!wj())throw new oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let mV=class G0{constructor(e){this._delegate=e}static fromBase64String(e){return QC(),new G0(jr.fromBase64String(e))}static fromUint8Array(e){return YC(),new G0(jr.fromUint8Array(e))}toBase64(){return QC(),this._delegate.toBase64()}toUint8Array(){return YC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n){return Y8(n,["next","error","complete"])}function Y8(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{enableIndexedDbPersistence(e,t){return s8(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return a8(e._delegate)}clearIndexedDbPersistence(e){return o8(e._delegate)}}class gV{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){t8(this._delegate,e,t,i)}enableNetwork(){return u8(this._delegate)}disableNetwork(){return c8(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,GO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return l8(this._delegate)}onSnapshotsInSync(e){return M8(this._delegate,e)}get app(){if(!this._appCompat)throw new oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ic(this,JO(this._delegate,e))}catch(t){throw Kn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fi(this,Wg(this._delegate,e))}catch(t){throw Kn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gn(this,n8(this._delegate,e))}catch(t){throw Kn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return z8(this._delegate,t=>e(new yV(this,t)))}batch(){return Fn(this._delegate),new _V(new U8(this._delegate,e=>Jf(this._delegate,e)))}loadBundle(e){return h8(this._delegate,e)}namedQuery(e){return d8(this._delegate,e).then(t=>t?new Gn(this,t):null)}}class Wy extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new mV(new jr(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fi.forKey(t,this.firestore,null)}}function X8(n){M9(n)}class yV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Wy(e)}get(e){const t=Zo(e);return this._delegate.get(t).then(i=>new gf(this._firestore,new Ps(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Zo(e);return i?(mw("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Zo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Zo(e);return this._delegate.delete(t),this}}class _V{constructor(e){this._delegate=e}set(e,t,i){const r=Zo(e);return i?(mw("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Zo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Zo(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bl{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Bd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yf(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=bl.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new bl(e,new Wy(e),t),r.set(t,o)),o}}bl.INSTANCES=new WeakMap;class Fi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wy(e)}static forPath(e,t,i){if(e.length%2!==0)throw new oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fi(t,new Ct(t._delegate,i,new pe(e)))}static forKey(e,t,i){return new Fi(t,new Ct(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ic(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ic(this.firestore,JO(this._delegate,e))}catch(t){throw Kn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Te(e),e instanceof Ct?ZO(this._delegate,e):!1}set(e,t){t=mw("DocumentReference.set",t);try{return t?KC(this._delegate,e,t):KC(this._delegate,e)}catch(i){throw Kn(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?WC(this._delegate,e):WC(this._delegate,e,t,...i)}catch(r){throw Kn(r,"updateDoc()","DocumentReference.update()")}}delete(){return O8(this._delegate)}onSnapshot(...e){const t=vV(e),i=TV(e,r=>new gf(this.firestore,new Ps(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return pV(this._delegate,t,i)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=x8(this._delegate):(e==null?void 0:e.source)==="server"?t=P8(this._delegate):t=C8(this._delegate),t.then(i=>new gf(this.firestore,new Ps(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Fi(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Kn(n,e,t){return n.message=n.message.replace(e,t),n}function vV(n){for(const e of n)if(typeof e=="object"&&!K0(e))return e;return{}}function TV(n,e){var t,i;let r;return K0(n[0])?r=n[0]:K0(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:(t=r.error)===null||t===void 0?void 0:t.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}class gf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fV(this._delegate,e._delegate)}}class yf extends gf{data(e){const t=this._delegate.data(e);return this._delegate._converter||L9(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Gn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wy(e)}where(e,t,i){try{return new Gn(this.firestore,Ta(this._delegate,_8(e,t,i)))}catch(r){throw Kn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gn(this.firestore,Ta(this._delegate,v8(e,t)))}catch(i){throw Kn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gn(this.firestore,Ta(this._delegate,T8(e)))}catch(t){throw Kn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gn(this.firestore,Ta(this._delegate,E8(e)))}catch(t){throw Kn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gn(this.firestore,Ta(this._delegate,b8(...e)))}catch(t){throw Kn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gn(this.firestore,Ta(this._delegate,w8(...e)))}catch(t){throw Kn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gn(this.firestore,Ta(this._delegate,A8(...e)))}catch(t){throw Kn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gn(this.firestore,Ta(this._delegate,S8(...e)))}catch(t){throw Kn(t,"endAt()","Query.endAt()")}}isEqual(e){return eV(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=k8(this._delegate):(e==null?void 0:e.source)==="server"?t=N8(this._delegate):t=D8(this._delegate),t.then(i=>new W0(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=vV(e),i=TV(e,r=>new W0(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return pV(this._delegate,t,i)}withConverter(e){return new Gn(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class J8{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new yf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class W0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new J8(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new yf(this._firestore,i))})}isEqual(e){return fV(this._delegate,e._delegate)}}class Ic extends Gn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fi(this.firestore,e):null}doc(e){try{return e===void 0?new Fi(this.firestore,Wg(this._delegate)):new Fi(this.firestore,Wg(this._delegate,e))}catch(t){throw Kn(t,"doc()","CollectionReference.doc()")}}add(e){return V8(this._delegate,e).then(t=>new Fi(this.firestore,t))}isEqual(e){return ZO(this._delegate,e._delegate)}withConverter(e){return new Ic(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zo(n){return Ye(n,Ct)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(...e){this._delegate=new ja(...e)}static documentId(){return new gw(Et.keyField().canonicalString())}isEqual(e){return e=Te(e),e instanceof ja?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static serverTimestamp(){const e=q8();return e._methodName="FieldValue.serverTimestamp",new Wo(e)}static delete(){const e=j8();return e._methodName="FieldValue.delete",new Wo(e)}static arrayUnion(...e){const t=$8(...e);return t._methodName="FieldValue.arrayUnion",new Wo(t)}static arrayRemove(...e){const t=H8(...e);return t._methodName="FieldValue.arrayRemove",new Wo(t)}static increment(e){const t=G8(e);return t._methodName="FieldValue.increment",new Wo(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8={Firestore:gV,GeoPoint:By,Timestamp:wt,Blob:mV,Transaction:yV,WriteBatch:_V,DocumentReference:Fi,DocumentSnapshot:gf,Query:Gn,QueryDocumentSnapshot:yf,QuerySnapshot:W0,CollectionReference:Ic,FieldPath:gw,FieldValue:Wo,setLogLevel:X8,CACHE_SIZE_UNLIMITED:r8};function eH(n,e){n.INTERNAL.registerComponent(new Hi("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Z8)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(n){eH(n,(e,t)=>new gV(e,t,new Q8)),n.registerVersion(K8,W8)}tH(Ga);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebasestorage.googleapis.com",bV="storageBucket",nH=2*60*1e3,iH=10*60*1e3,rH=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends Un{constructor(e,t,i=0){super(LT(e),`Firebase Storage: ${t} (${LT(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return LT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function LT(n){return"storage/"+n}function yw(){const n="An unknown error occurred, please check the error payload for server response.";return new Nt(gt.UNKNOWN,n)}function sH(n){return new Nt(gt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function aH(n){return new Nt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oH(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(gt.UNAUTHENTICATED,n)}function lH(){return new Nt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uH(n){return new Nt(gt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function wV(){return new Nt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AV(){return new Nt(gt.CANCELED,"User canceled the upload/download.")}function cH(n){return new Nt(gt.INVALID_URL,"Invalid URL '"+n+"'.")}function hH(n){return new Nt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function dH(){return new Nt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bV+"' property when initializing the app?")}function SV(){return new Nt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fH(){return new Nt(gt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function pH(){return new Nt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mH(n){return new Nt(gt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ju(n){return new Nt(gt.INVALID_ARGUMENT,n)}function IV(){return new Nt(gt.APP_DELETED,"The Firebase app was deleted.")}function RV(n){return new Nt(gt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fd(n,e){return new Nt(gt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function pd(n){throw new Nt(gt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Mn.makeFromUrl(e,t)}catch{return new Mn(e,"")}if(i.path==="")return i;throw hH(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+r+l,"i"),d={bucket:1,path:3};function f(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${g}/b/${r}/o${T}`,"i"),A={bucket:1,path:3},D=t===EV?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",P=new RegExp(`^https?://${D}/${r}/${C}`,"i"),k=[{regex:c,indices:d,postModify:o},{regex:w,indices:A,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let q=0;q<k.length;q++){const j=k[q],Q=j.regex.exec(e);if(Q){const x=Q[j.indices.bucket];let I=Q[j.indices.path];I||(I=""),i=new Mn(x,I),j.postModify(i);break}}if(i==null)throw cH(e);return i}}class gH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(n,e,t){let i=1,r=null,o=null,l=!1,c=0;function d(){return c===2}let f=!1;function g(...C){f||(f=!0,e.apply(null,C))}function _(C){r=setTimeout(()=>{r=null,n(w,d())},C)}function T(){o&&clearTimeout(o)}function w(C,...P){if(f){T();return}if(C){T(),g.call(null,C,...P);return}if(d()||l){T(),g.call(null,C,...P);return}i<64&&(i*=2);let k;c===1?(c=2,k=0):k=(i+Math.random())*1e3,_(k)}let A=!1;function D(C){A||(A=!0,T(),!f&&(r!==null?(C||(c=2),clearTimeout(r),_(0)):C||(c=1)))}return _(0),o=setTimeout(()=>{l=!0,D(!0)},t),D}function _H(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(n){return n!==void 0}function TH(n){return typeof n=="function"}function EH(n){return typeof n=="object"&&!Array.isArray(n)}function Yy(n){return typeof n=="string"||n instanceof String}function XC(n){return _w()&&n instanceof Blob}function _w(){return typeof Blob<"u"}function Y0(n,e,t,i){if(i<e)throw Ju(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Ju(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function CV(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var ol;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ol||(ol={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,t,i,r,o,l,c,d,f,g,_,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=_,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,A)=>{this.resolve_=w,this.reject_=A,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Fm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===ol.NO_ERROR,d=o.getStatus();if(!c||xV(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===ol.ABORT;i(!1,new Fm(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;i(!0,new Fm(f,o))})},t=(i,r)=>{const o=this.resolve_,l=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());vH(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=yw();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(r.canceled){const d=this.appDelete_?IV():AV();l(d)}else{const d=wV();l(d)}};this.canceled_?t(!1,new Fm(!1,null,!0)):this.backoffId_=yH(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_H(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fm{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function wH(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function AH(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SH(n,e){e&&(n["X-Firebase-GMPID"]=e)}function IH(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function RH(n,e,t,i,r,o,l=!0){const c=CV(n.urlParams),d=n.url+c,f=Object.assign({},n.headers);return SH(f,e),wH(f,t),AH(f,o),IH(f,i),new bH(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xH(...n){const e=CH();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(_w())return new Blob(n);throw new Nt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PH(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(n){if(typeof atob>"u")throw mH("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class UT{constructor(e,t){this.data=e,this.contentType=t||null}}function PV(n,e){switch(n){case zi.RAW:return new UT(DV(e));case zi.BASE64:case zi.BASE64URL:return new UT(kV(n,e));case zi.DATA_URL:return new UT(NH(e),OH(e))}throw yw()}function DV(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=n.charCodeAt(++t);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function kH(n){let e;try{e=decodeURIComponent(n)}catch{throw Fd(zi.DATA_URL,"Malformed data URL.")}return DV(e)}function kV(n,e){switch(n){case zi.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Fd(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case zi.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Fd(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=DH(e)}catch(r){throw r.message.includes("polyfill")?r:Fd(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class NV{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Fd(zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=VH(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function NH(n){const e=new NV(n);return e.base64?kV(zi.BASE64,e.rest):kH(e.rest)}function OH(n){return new NV(n).contentType}function VH(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){let i=0,r="";XC(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(XC(this.data_)){const i=this.data_,r=PH(i,e,t);return r===null?null:new ys(r)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ys(i,!0)}}static getBlob(...e){if(_w()){const t=e.map(i=>i instanceof ys?i.data_:i);return new ys(xH.apply(null,t))}else{const t=e.map(l=>Yy(l)?PV(zi.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)r[o++]=l[c]}),new ys(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n){let e;try{e=JSON.parse(n)}catch{return null}return EH(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function LH(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function OV(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(n,e){return e}class Hn{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||UH}}let zm=null;function BH(n){return!Yy(n)||n.length<2?n:OV(n)}function Qy(){if(zm)return zm;const n=[];n.push(new Hn("bucket")),n.push(new Hn("generation")),n.push(new Hn("metageneration")),n.push(new Hn("name","fullPath",!0));function e(o,l){return BH(l)}const t=new Hn("name");t.xform=e,n.push(t);function i(o,l){return l!==void 0?Number(l):l}const r=new Hn("size");return r.xform=i,n.push(r),n.push(new Hn("timeCreated")),n.push(new Hn("updated")),n.push(new Hn("md5Hash",null,!0)),n.push(new Hn("cacheControl",null,!0)),n.push(new Hn("contentDisposition",null,!0)),n.push(new Hn("contentEncoding",null,!0)),n.push(new Hn("contentLanguage",null,!0)),n.push(new Hn("contentType",null,!0)),n.push(new Hn("metadata","customMetadata",!0)),zm=n,zm}function FH(n,e){function t(){const i=n.bucket,r=n.fullPath,o=new Mn(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function zH(n,e,t){const i={};i.type="file";const r=t.length;for(let o=0;o<r;o++){const l=t[o];i[l.local]=l.xform(i,e[l.server])}return FH(i,n),i}function VV(n,e,t){const i=vw(e);return i===null?null:zH(n,i,t)}function jH(n,e,t,i){const r=vw(e);if(r===null||!Yy(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const g=n.bucket,_=n.fullPath,T="/b/"+l(g)+"/o/"+l(_),w=Za(T,t,i),A=CV({alt:"media",token:f});return w+A})[0]}function Tw(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="prefixes",ZC="items";function qH(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[JC])for(const r of t[JC]){const o=r.replace(/\/$/,""),l=n._makeStorageReference(new Mn(e,o));i.prefixes.push(l)}if(t[ZC])for(const r of t[ZC]){const o=n._makeStorageReference(new Mn(e,r.name));i.items.push(o)}return i}function $H(n,e,t){const i=vw(t);return i===null?null:qH(n,e,i)}class zs{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(n){if(!n)throw yw()}function Xy(n,e){function t(i,r){const o=VV(n,r,e);return Or(o!==null),o}return t}function HH(n,e){function t(i,r){const o=$H(n,e,r);return Or(o!==null),o}return t}function GH(n,e){function t(i,r){const o=VV(n,r,e);return Or(o!==null),jH(o,r,n.host,n._protocol)}return t}function qc(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=lH():r=oH():t.getStatus()===402?r=aH(n.bucket):t.getStatus()===403?r=uH(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Jy(n){const e=qc(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=sH(n.path)),o.serverResponse=r.serverResponse,o}return t}function MV(n,e,t){const i=e.fullServerUrl(),r=Za(i,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new zs(r,o,Xy(n,t),l);return c.errorHandler=Jy(e),c}function KH(n,e,t,i,r){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t.length>0&&(o.delimiter=t),i&&(o.pageToken=i),r&&(o.maxResults=r);const l=e.bucketOnlyServerUrl(),c=Za(l,n.host,n._protocol),d="GET",f=n.maxOperationRetryTime,g=new zs(c,d,HH(n,e.bucket),f);return g.urlParams=o,g.errorHandler=qc(e),g}function WH(n,e,t){const i=e.fullServerUrl(),r=Za(i,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new zs(r,o,GH(n,t),l);return c.errorHandler=Jy(e),c}function YH(n,e,t,i){const r=e.fullServerUrl(),o=Za(r,n.host,n._protocol),l="PATCH",c=Tw(t,i),d={"Content-Type":"application/json; charset=utf-8"},f=n.maxOperationRetryTime,g=new zs(o,l,Xy(n,i),f);return g.headers=d,g.body=c,g.errorHandler=Jy(e),g}function QH(n,e){const t=e.fullServerUrl(),i=Za(t,n.host,n._protocol),r="DELETE",o=n.maxOperationRetryTime;function l(d,f){}const c=new zs(i,r,l,o);return c.successCodes=[200,204],c.errorHandler=Jy(e),c}function XH(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function LV(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=XH(null,e)),i}function JH(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let q=0;q<2;q++)k=k+Math.random().toString().slice(2);return k}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const f=LV(e,i,r),g=Tw(f,t),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,T=`\r
--`+d+"--",w=ys.getBlob(_,i,T);if(w===null)throw SV();const A={name:f.fullPath},D=Za(o,n.host,n._protocol),C="POST",P=n.maxUploadRetryTime,O=new zs(D,C,Xy(n,t),P);return O.urlParams=A,O.headers=l,O.body=w.uploadData(),O.errorHandler=qc(e),O}class Qg{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function Ew(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Or(!1)}return Or(!!t&&(e||["active"]).indexOf(t)!==-1),t}function ZH(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),l=LV(e,i,r),c={name:l.fullPath},d=Za(o,n.host,n._protocol),f="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},_=Tw(l,t),T=n.maxUploadRetryTime;function w(D){Ew(D);let C;try{C=D.getResponseHeader("X-Goog-Upload-URL")}catch{Or(!1)}return Or(Yy(C)),C}const A=new zs(d,f,w,T);return A.urlParams=c,A.headers=g,A.body=_,A.errorHandler=qc(e),A}function e7(n,e,t,i){const r={"X-Goog-Upload-Command":"query"};function o(f){const g=Ew(f,["active","final"]);let _=null;try{_=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Or(!1)}_||Or(!1);const T=Number(_);return Or(!isNaN(T)),new Qg(T,i.size(),g==="final")}const l="POST",c=n.maxUploadRetryTime,d=new zs(t,l,o,c);return d.headers=r,d.errorHandler=qc(e),d}const ex=256*1024;function t7(n,e,t,i,r,o,l,c){const d=new Qg(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=i.size()),i.size()!==d.total)throw fH();const f=d.total-d.current;let g=f;r>0&&(g=Math.min(g,r));const _=d.current,T=_+g;let w="";g===0?w="finalize":f===g?w="upload, finalize":w="upload";const A={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${d.current}`},D=i.slice(_,T);if(D===null)throw SV();function C(q,j){const Q=Ew(q,["active","final"]),x=d.current+g,I=i.size();let N;return Q==="final"?N=Xy(e,o)(q,j):N=null,new Qg(x,I,Q==="final",N)}const P="POST",O=e.maxUploadRetryTime,k=new zs(t,P,C,O);return k.headers=A,k.body=D.uploadData(),k.progressCallback=c||null,k.errorHandler=qc(n),k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7={STATE_CHANGED:"state_changed"},Wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function BT(n){switch(n){case"running":case"pausing":case"canceling":return Wn.RUNNING;case"paused":return Wn.PAUSED;case"success":return Wn.SUCCESS;case"canceled":return Wn.CANCELED;case"error":return Wn.ERROR;default:return Wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,t,i){if(TH(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class r7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ol.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ol.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ol.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw pd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s7 extends r7{initXhr(){this.xhr_.responseType="text"}}function Cr(){return new s7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Qy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(gt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(xV(r.status,[]))if(o)r=wV();else{this.sleepTime=Math.max(this.sleepTime*2,rH),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(gt.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const i=ZH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Cr,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=e7(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,Cr,t,i);this._request=o,o.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=ex*this._chunkMultiplier,t=new Qg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let l;try{l=t7(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const c=this._ref.storage._makeRequest(l,Cr,r,o,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ex*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=MV(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Cr,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=JH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Cr,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=AV(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=BT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const o=new i7(t||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(BT(this._state)){case Wn.SUCCESS:ku(this._resolve.bind(null,this.snapshot))();break;case Wn.CANCELED:case Wn.ERROR:const t=this._reject;ku(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(BT(this._state)){case Wn.RUNNING:case Wn.PAUSED:e.next&&ku(e.next.bind(e,this.snapshot))();break;case Wn.SUCCESS:e.complete&&ku(e.complete.bind(e))();break;case Wn.CANCELED:case Wn.ERROR:e.error&&ku(e.error.bind(e,this._error))();break;default:e.error&&ku(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t){this._service=e,t instanceof Mn?this._location=t:this._location=Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wl(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OV(this._location.path)}get storage(){return this._service}get parent(){const e=MH(this._location.path);if(e===null)return null;const t=new Mn(this._location.bucket,e);return new wl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw RV(e)}}function a7(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new UV(n,new ys(e),t)}function o7(n){const e={prefixes:[],items:[]};return BV(n,e).then(()=>e)}async function BV(n,e,t){const r=await FV(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&await BV(n,e,r.nextPageToken)}function FV(n,e){e!=null&&typeof e.maxResults=="number"&&Y0("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=KH(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Cr)}function l7(n){n._throwIfRoot("getMetadata");const e=MV(n.storage,n._location,Qy());return n.storage.makeRequestWithTokens(e,Cr)}function u7(n,e){n._throwIfRoot("updateMetadata");const t=YH(n.storage,n._location,e,Qy());return n.storage.makeRequestWithTokens(t,Cr)}function c7(n){n._throwIfRoot("getDownloadURL");const e=WH(n.storage,n._location,Qy());return n.storage.makeRequestWithTokens(e,Cr).then(t=>{if(t===null)throw pH();return t})}function h7(n){n._throwIfRoot("deleteObject");const e=QH(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Cr)}function zV(n,e){const t=LH(n._location.path,e),i=new Mn(n._location.bucket,t);return new wl(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(n){return/^[A-Za-z]+:\/\//.test(n)}function f7(n,e){return new wl(n,e)}function jV(n,e){if(n instanceof bw){const t=n;if(t._bucket==null)throw dH();const i=new wl(t,t._bucket);return e!=null?jV(i,e):i}else return e!==void 0?zV(n,e):n}function p7(n,e){if(e&&d7(e)){if(n instanceof bw)return f7(n,e);throw Ju("To use ref(service, url), the first argument must be a Storage instance.")}else return jV(n,e)}function tx(n,e){const t=e==null?void 0:e[bV];return t==null?null:Mn.makeFromBucketSpec(t,n)}function m7(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:yD(r,n.app.options.projectId))}class bw{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=EV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nH,this._maxUploadRetryTime=iH,this._requests=new Set,r!=null?this._bucket=Mn.makeFromBucketSpec(r,this._host):this._bucket=tx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=tx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(mt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wl(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new gH(IV());{const l=RH(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const nx="@firebase/storage",ix="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="storage";function y7(n,e,t){return n=Te(n),a7(n,e,t)}function _7(n){return n=Te(n),l7(n)}function v7(n,e){return n=Te(n),u7(n,e)}function T7(n,e){return n=Te(n),FV(n,e)}function E7(n){return n=Te(n),o7(n)}function b7(n){return n=Te(n),c7(n)}function w7(n){return n=Te(n),h7(n)}function rx(n,e){return n=Te(n),p7(n,e)}function A7(n,e){return zV(n,e)}function S7(n,e,t,i={}){m7(n,e,t,i)}function I7(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new bw(t,i,r,e,Os)}function R7(){Is(new Hi(g7,I7,"PUBLIC").setMultipleInstances(!0)),bi(nx,ix,""),bi(nx,ix,"esm2017")}R7();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new jm(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new jm(i,this,this._ref))},t)}on(e,t,i,r){let o;return t&&(typeof t=="function"?o=l=>t(new jm(l,this,this._ref)):o={next:t.next?l=>t.next(new jm(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}}class ax{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ws(e,this._service))}get items(){return this._delegate.items.map(e=>new ws(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=A7(this._delegate,e);return new ws(t,this.storage)}get root(){return new ws(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new ws(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new sx(y7(this._delegate,e,t),this)}putString(e,t=zi.RAW,i){this._throwIfRoot("putString");const r=PV(t,e),o=Object.assign({},i);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new sx(new UV(this._delegate,new ys(r.data,!0),o),this)}listAll(){return E7(this._delegate).then(e=>new ax(e,this.storage))}list(e){return T7(this._delegate,e||void 0).then(t=>new ax(t,this.storage))}getMetadata(){return _7(this._delegate)}updateMetadata(e){return v7(this._delegate,e)}getDownloadURL(){return b7(this._delegate)}delete(){return this._throwIfRoot("delete"),w7(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw RV(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(ox(e))throw Ju("ref() expected a child path but got a URL, use refFromURL instead.");return new ws(rx(this._delegate,e),this)}refFromURL(e){if(!ox(e))throw Ju("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Mn.makeFromUrl(e,this._delegate.host)}catch{throw Ju("refFromUrl() expected a valid full URL but got an invalid one.")}return new ws(rx(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){S7(this._delegate,e,t,i)}}function ox(n){return/^[A-Za-z]+:\/\//.test(n)}const C7="@firebase/storage-compat",x7="0.3.17";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="storage-compat";function D7(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new qV(t,i)}function k7(n){const e={TaskState:Wn,TaskEvent:n7,StringFormat:zi,Storage:qV,Reference:ws};n.INTERNAL.registerComponent(new Hi(P7,D7,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(C7,x7)}k7(Ga);const N7={apiKey:"AIzaSyCZYp2eOQLBVuryGD7GtlRR1ITcvpczWLI",authDomain:"react-app-mini-blog-877ae.firebaseapp.com",projectId:"react-app-mini-blog-877ae",storageBucket:"react-app-mini-blog-877ae.firebasestorage.app",messagingSenderId:"385355169112",appId:void 0,measurementId:"G-YV5JY1TSEJ"},O7=Ga.initializeApp(N7),Ts=O7.firestore(),V7=Ga.storage();function $V(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=$V(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function ll(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=$V(n))&&(i&&(i+=" "),i+=e);return i}function M7(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}M7(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Zf=n=>typeof n=="number"&&!isNaN(n),Al=n=>typeof n=="string",Ds=n=>typeof n=="function",L7=n=>Al(n)||Zf(n),Q0=n=>Al(n)||Ds(n)?n:null,U7=(n,e)=>n===!1||Zf(n)&&n>0?n:e,X0=n=>U.isValidElement(n)||Al(n)||Ds(n)||Zf(n);function B7(n,e,t=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${t}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,t)})})}function F7({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:o,position:l,preventExitTransition:c,done:d,nodeRef:f,isIn:g,playToast:_}){let T=t?`${n}--${l}`:n,w=t?`${e}--${l}`:e,A=U.useRef(0);return U.useLayoutEffect(()=>{let D=f.current,C=T.split(" "),P=O=>{O.target===f.current&&(_(),D.removeEventListener("animationend",P),D.removeEventListener("animationcancel",P),A.current===0&&O.type!=="animationcancel"&&D.classList.remove(...C))};D.classList.add(...C),D.addEventListener("animationend",P),D.addEventListener("animationcancel",P)},[]),U.useEffect(()=>{let D=f.current,C=()=>{D.removeEventListener("animationend",C),i?B7(D,d,r):d()};g||(c?C():(A.current=1,D.className+=` ${w}`,D.addEventListener("animationend",C)))},[g]),Ze.createElement(Ze.Fragment,null,o)}}function lx(n,e){return{content:HV(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function HV(n,e,t=!1){return U.isValidElement(n)&&!Al(n.type)?U.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ds(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function z7({closeToast:n,theme:e,ariaLabel:t="close"}){return Ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},Ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function j7({delay:n,isRunning:e,closeToast:t,type:i="default",hide:r,className:o,controlledProgress:l,progress:c,rtl:d,isIn:f,theme:g}){let _=r||l&&c===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(T.transform=`scaleX(${c})`);let w=ll("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),A=Ds(o)?o({rtl:d,type:i,defaultClassName:w}):ll(w,o),D={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&t()}};return Ze.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Ze.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${i}`}),Ze.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:A,style:T,...D}))}var q7=1,GV=()=>`${q7++}`;function $7(n,e,t){let i=1,r=0,o=[],l=[],c=e,d=new Map,f=new Set,g=O=>(f.add(O),()=>f.delete(O)),_=()=>{l=Array.from(d.values()),f.forEach(O=>O())},T=({containerId:O,toastId:k,updateId:q})=>{let j=O?O!==n:n!==1,Q=d.has(k)&&q==null;return j||Q},w=(O,k)=>{d.forEach(q=>{var j;(k==null||k===q.props.toastId)&&((j=q.toggle)==null||j.call(q,O))})},A=O=>{var k,q;(q=(k=O.props)==null?void 0:k.onClose)==null||q.call(k,O.removalReason),O.isActive=!1},D=O=>{if(O==null)d.forEach(A);else{let k=d.get(O);k&&A(k)}_()},C=()=>{r-=o.length,o=[]},P=O=>{var k,q;let{toastId:j,updateId:Q}=O.props,x=Q==null;O.staleId&&d.delete(O.staleId),O.isActive=!0,d.set(j,O),_(),t(lx(O,x?"added":"updated")),x&&((q=(k=O.props).onOpen)==null||q.call(k))};return{id:n,props:c,observe:g,toggle:w,removeToast:D,toasts:d,clearQueue:C,buildToast:(O,k)=>{if(T(k))return;let{toastId:q,updateId:j,data:Q,staleId:x,delay:I}=k,N=j==null;N&&r++;let L={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(k).filter(([$,M])=>M!=null)),toastId:q,updateId:j,data:Q,isIn:!1,className:Q0(k.className||c.toastClassName),progressClassName:Q0(k.progressClassName||c.progressClassName),autoClose:k.isLoading?!1:U7(k.autoClose,c.autoClose),closeToast($){d.get(q).removalReason=$,D(q)},deleteToast(){let $=d.get(q);if($!=null){if(t(lx($,"removed")),d.delete(q),r--,r<0&&(r=0),o.length>0){P(o.shift());return}_()}}};L.closeButton=c.closeButton,k.closeButton===!1||X0(k.closeButton)?L.closeButton=k.closeButton:k.closeButton===!0&&(L.closeButton=X0(c.closeButton)?c.closeButton:!0);let F={content:O,props:L,staleId:x};c.limit&&c.limit>0&&r>c.limit&&N?o.push(F):Zf(I)?setTimeout(()=>{P(F)},I):P(F)},setProps(O){c=O},setToggle:(O,k)=>{let q=d.get(O);q&&(q.toggle=k)},isToastActive:O=>{var k;return(k=d.get(O))==null?void 0:k.isActive},getSnapshot:()=>l}}var Yn=new Map,_f=[],J0=new Set,H7=n=>J0.forEach(e=>e(n)),KV=()=>Yn.size>0;function G7(){_f.forEach(n=>YV(n.content,n.options)),_f=[]}var K7=(n,{containerId:e})=>{var t;return(t=Yn.get(e||1))==null?void 0:t.toasts.get(n)};function WV(n,e){var t;if(e)return!!((t=Yn.get(e))!=null&&t.isToastActive(n));let i=!1;return Yn.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function W7(n){if(!KV()){_f=_f.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||L7(n))Yn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Yn.get(n.containerId);e?e.removeToast(n.id):Yn.forEach(t=>{t.removeToast(n.id)})}}var Y7=(n={})=>{Yn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function YV(n,e){X0(n)&&(KV()||_f.push({content:n,options:e}),Yn.forEach(t=>{t.buildToast(n,e)}))}function Q7(n){var e;(e=Yn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function QV(n,e){Yn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function X7(n){let e=n.containerId||1;return{subscribe(t){let i=$7(e,n,H7);Yn.set(e,i);let r=i.observe(t);return G7(),()=>{r(),Yn.delete(e)}},setProps(t){var i;(i=Yn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Yn.get(e))==null?void 0:t.getSnapshot()}}}function J7(n){return J0.add(n),()=>{J0.delete(n)}}function Z7(n){return n&&(Al(n.toastId)||Zf(n.toastId))?n.toastId:GV()}function ep(n,e){return YV(n,e),e.toastId}function Zy(n,e){return{...e,type:e&&e.type||n,toastId:Z7(e)}}function e_(n){return(e,t)=>ep(e,Zy(n,t))}function Ge(n,e){return ep(n,Zy("default",e))}Ge.loading=(n,e)=>ep(n,Zy("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function eG(n,{pending:e,error:t,success:i},r){let o;e&&(o=Al(e)?Ge.loading(e,r):Ge.loading(e.render,{...r,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,g,_)=>{if(g==null){Ge.dismiss(o);return}let T={type:f,...l,...r,data:_},w=Al(g)?{render:g}:g;return o?Ge.update(o,{...T,...w}):Ge(w.render,{...T,...w}),_},d=Ds(n)?n():n;return d.then(f=>c("success",i,f)).catch(f=>c("error",t,f)),d}Ge.promise=eG;Ge.success=e_("success");Ge.info=e_("info");Ge.error=e_("error");Ge.warning=e_("warning");Ge.warn=Ge.warning;Ge.dark=(n,e)=>ep(n,Zy("default",{theme:"dark",...e}));function tG(n){W7(n)}Ge.dismiss=tG;Ge.clearWaitingQueue=Y7;Ge.isActive=WV;Ge.update=(n,e={})=>{let t=K7(n,e);if(t){let{props:i,content:r}=t,o={delay:100,...i,...e,toastId:e.toastId||n,updateId:GV()};o.toastId!==n&&(o.staleId=n);let l=o.render||r;delete o.render,ep(l,o)}};Ge.done=n=>{Ge.update(n,{progress:1})};Ge.onChange=J7;Ge.play=n=>QV(!0,n);Ge.pause=n=>QV(!1,n);function nG(n){var e;let{subscribe:t,getSnapshot:i,setProps:r}=U.useRef(X7(n)).current;r(n);let o=(e=U.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function l(c){if(!o)return[];let d=new Map;return n.newestOnTop&&o.reverse(),o.forEach(f=>{let{position:g}=f.props;d.has(g)||d.set(g,[]),d.get(g).push(f)}),Array.from(d,f=>c(f[0],f[1]))}return{getToastToRender:l,isToastActive:WV,count:o==null?void 0:o.length}}function iG(n){let[e,t]=U.useState(!1),[i,r]=U.useState(!1),o=U.useRef(null),l=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:f,onClick:g,closeOnClick:_}=n;Q7({id:n.toastId,containerId:n.containerId,fn:t}),U.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{w()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||P(),window.addEventListener("focus",C),window.addEventListener("blur",P)}function w(){window.removeEventListener("focus",C),window.removeEventListener("blur",P)}function A(x){if(n.draggable===!0||n.draggable===x.pointerType){O();let I=o.current;l.canCloseOnClick=!0,l.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(l.start=x.clientX,l.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(l.start=x.clientY,l.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function D(x){let{top:I,bottom:N,left:L,right:F}=o.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&n.pauseOnHover&&x.clientX>=L&&x.clientX<=F&&x.clientY>=I&&x.clientY<=N?P():C()}function C(){t(!0)}function P(){t(!1)}function O(){l.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",j)}function k(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",j)}function q(x){let I=o.current;if(l.canDrag&&I){l.didMove=!0,e&&P(),n.draggableDirection==="x"?l.delta=x.clientX-l.start:l.delta=x.clientY-l.start,l.start!==x.clientX&&(l.canCloseOnClick=!1);let N=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;I.style.transform=`translate3d(${N},0)`,I.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function j(){k();let x=o.current;if(l.canDrag&&l.didMove&&x){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let Q={onPointerDown:A,onPointerUp:D};return c&&d&&(Q.onMouseEnter=P,n.stacked||(Q.onMouseLeave=C)),_&&(Q.onClick=x=>{g&&g(x),l.canCloseOnClick&&f(!0)}),{playToast:C,pauseToast:P,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:Q}}var rG=typeof window<"u"?U.useLayoutEffect:U.useEffect,t_=({theme:n,type:e,isLoading:t,...i})=>Ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function sG(n){return Ze.createElement(t_,{...n},Ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function aG(n){return Ze.createElement(t_,{...n},Ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function oG(n){return Ze.createElement(t_,{...n},Ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function lG(n){return Ze.createElement(t_,{...n},Ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function uG(){return Ze.createElement("div",{className:"Toastify__spinner"})}var Z0={info:aG,warning:sG,success:oG,error:lG,spinner:uG},cG=n=>n in Z0;function hG({theme:n,type:e,isLoading:t,icon:i}){let r=null,o={theme:n,type:e};return i===!1||(Ds(i)?r=i({...o,isLoading:t}):U.isValidElement(i)?r=U.cloneElement(i,o):t?r=Z0.spinner():cG(e)&&(r=Z0[e](o))),r}var dG=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:r,playToast:o}=iG(n),{closeButton:l,children:c,autoClose:d,onClick:f,type:g,hideProgressBar:_,closeToast:T,transition:w,position:A,className:D,style:C,progressClassName:P,updateId:O,role:k,progress:q,rtl:j,toastId:Q,deleteToast:x,isIn:I,isLoading:N,closeOnClick:L,theme:F,ariaLabel:$}=n,M=ll("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":L}),yt=Ds(D)?D({rtl:j,position:A,type:g,defaultClassName:M}):ll(M,D),st=hG(n),ne=!!q||!d,ue={closeToast:T,type:g,theme:F},ge=null;return l===!1||(Ds(l)?ge=l(ue):U.isValidElement(l)?ge=U.cloneElement(l,ue):ge=z7(ue)),Ze.createElement(w,{isIn:I,done:x,position:A,preventExitTransition:t,nodeRef:i,playToast:o},Ze.createElement("div",{id:Q,tabIndex:0,onClick:f,"data-in":I,className:yt,...r,style:C,ref:i,...I&&{role:k,"aria-label":$}},st!=null&&Ze.createElement("div",{className:ll("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},st),HV(c,n,!e),ge,!n.customProgressBar&&Ze.createElement(j7,{...O&&!ne?{key:`p-${O}`}:{},rtl:j,theme:F,delay:d,isRunning:e,isIn:I,closeToast:T,hide:_,type:g,className:P,controlledProgress:ne,progress:q||0})))},fG=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),pG=F7(fG("bounce",!0)),mG={position:"top-right",transition:pG,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function gG(n){let e={...mG,...n},t=n.stacked,[i,r]=U.useState(!0),o=U.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=nG(e),{className:f,style:g,rtl:_,containerId:T,hotKeys:w}=e;function A(C){let P=ll("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":_});return Ds(f)?f({position:C,rtl:_,defaultClassName:P}):ll(P,Q0(f))}function D(){t&&(r(!0),Ge.play())}return rG(()=>{var C;if(t){let P=o.current.querySelectorAll('[data-in="true"]'),O=12,k=(C=e.position)==null?void 0:C.includes("top"),q=0,j=0;Array.from(P).reverse().forEach((Q,x)=>{let I=Q;I.classList.add("Toastify__toast--stacked"),x>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=k?"top":"bot");let N=q*(i?.2:1)+(i?0:O*x);I.style.setProperty("--y",`${k?N:N*-1}px`),I.style.setProperty("--g",`${O}`),I.style.setProperty("--s",`${1-(i?j:0)}`),q+=I.offsetHeight,j+=.025})}},[i,d,t]),U.useEffect(()=>{function C(P){var O;let k=o.current;w(P)&&((O=k.querySelector('[tabIndex="0"]'))==null||O.focus(),r(!1),Ge.pause()),P.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(r(!0),Ge.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[w]),Ze.createElement("section",{ref:o,className:"Toastify",id:T,onMouseEnter:()=>{t&&(r(!1),Ge.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((C,P)=>{let O=P.length?{...g}:{...g,pointerEvents:"none"};return Ze.createElement("div",{tabIndex:-1,className:A(C),"data-stacked":t,style:O,key:`c-${C}`},P.map(({content:k,props:q})=>Ze.createElement(dG,{...q,stacked:t,collapseAll:D,isIn:c(q.toastId,q.containerId),key:`t-${q.key}`},k)))}))}const ww=U.createContext({});function Aw(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const Sw=typeof window<"u",XV=Sw?U.useLayoutEffect:U.useEffect,n_=U.createContext(null),Iw=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class yG extends U.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _G({children:n,isPresent:e,anchorX:t}){const i=U.useId(),r=U.useRef(null),o=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=U.useContext(Iw);return U.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:g,right:_}=o.current;if(e||!r.current||!c||!d)return;const T=t==="left"?`left: ${g}`:`right: ${_}`;r.current.dataset.motionPopId=i;const w=document.createElement("style");return l&&(w.nonce=l),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${T}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(w)&&document.head.removeChild(w)}},[e]),te.jsx(yG,{isPresent:e,childRef:r,sizeRef:o,children:U.cloneElement(n,{ref:r})})}const vG=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:l,anchorX:c})=>{const d=Aw(TG),f=U.useId();let g=!0,_=U.useMemo(()=>(g=!1,{id:f,initial:e,isPresent:t,custom:r,onExitComplete:T=>{d.set(T,!0);for(const w of d.values())if(!w)return;i&&i()},register:T=>(d.set(T,!1),()=>d.delete(T))}),[t,d,i]);return o&&g&&(_={..._}),U.useMemo(()=>{d.forEach((T,w)=>d.set(w,!1))},[t]),U.useEffect(()=>{!t&&!d.size&&i&&i()},[t]),l==="popLayout"&&(n=te.jsx(_G,{isPresent:t,anchorX:c,children:n})),te.jsx(n_.Provider,{value:_,children:n})};function TG(){return new Map}function JV(n=!0){const e=U.useContext(n_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,o=U.useId();U.useEffect(()=>{if(n)return r(o)},[n]);const l=U.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,l]:[!0]}const qm=n=>n.key||"";function ux(n){const e=[];return U.Children.forEach(n,t=>{U.isValidElement(t)&&e.push(t)}),e}const EG=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1,anchorX:c="left"})=>{const[d,f]=JV(l),g=U.useMemo(()=>ux(n),[n]),_=l&&!d?[]:g.map(qm),T=U.useRef(!0),w=U.useRef(g),A=Aw(()=>new Map),[D,C]=U.useState(g),[P,O]=U.useState(g);XV(()=>{T.current=!1,w.current=g;for(let j=0;j<P.length;j++){const Q=qm(P[j]);_.includes(Q)?A.delete(Q):A.get(Q)!==!0&&A.set(Q,!1)}},[P,_.length,_.join("-")]);const k=[];if(g!==D){let j=[...g];for(let Q=0;Q<P.length;Q++){const x=P[Q],I=qm(x);_.includes(I)||(j.splice(Q,0,x),k.push(x))}return o==="wait"&&k.length&&(j=k),O(ux(j)),C(g),null}const{forceRender:q}=U.useContext(ww);return te.jsx(te.Fragment,{children:P.map(j=>{const Q=qm(j),x=l&&!d?!1:g===P||_.includes(Q),I=()=>{if(A.has(Q))A.set(Q,!0);else return;let N=!0;A.forEach(L=>{L||(N=!1)}),N&&(q==null||q(),O(w.current),l&&(f==null||f()),i&&i())};return te.jsx(vG,{isPresent:x,initial:!T.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:o,onExitComplete:x?void 0:I,anchorX:c,children:j},Q)})})};function Rw(n,e){n.indexOf(e)===-1&&n.push(e)}function Cw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ks=(n,e,t)=>t>e?e:t<n?n:t;let xw=()=>{};const Ns={},ZV=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),eM=n=>/^0[^.\s]+$/u.test(n);function Pw(n){let e;return()=>(e===void 0&&(e=n()),e)}const qi=n=>n,bG=(n,e)=>t=>e(n(t)),tp=(...n)=>n.reduce(bG),vf=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class Dw{constructor(){this.subscriptions=[]}add(e){return Rw(this.subscriptions,e),()=>Cw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vr=n=>n*1e3,Mr=n=>n/1e3;function tM(n,e){return e?n*(1e3/e):0}const nM=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,wG=1e-7,AG=12;function SG(n,e,t,i,r){let o,l,c=0;do l=e+(t-e)/2,o=nM(l,i,r)-n,o>0?t=l:e=l;while(Math.abs(o)>wG&&++c<AG);return l}function np(n,e,t,i){if(n===e&&t===i)return qi;const r=o=>SG(o,0,1,n,t);return o=>o===0||o===1?o:nM(r(o),e,i)}const iM=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,rM=n=>e=>1-n(1-e),sM=np(.33,1.53,.69,.99),kw=rM(sM),aM=iM(kw),oM=n=>(n*=2)<1?.5*kw(n):.5*(2-Math.pow(2,-10*(n-1))),Nw=n=>1-Math.sin(Math.acos(n)),lM=rM(Nw),uM=iM(Nw),IG=np(.42,0,1,1),RG=np(0,0,.58,1),cM=np(.42,0,.58,1),CG=n=>Array.isArray(n)&&typeof n[0]!="number",hM=n=>Array.isArray(n)&&typeof n[0]=="number",xG={linear:qi,easeIn:IG,easeInOut:cM,easeOut:RG,circIn:Nw,circInOut:uM,circOut:lM,backIn:kw,backInOut:aM,backOut:sM,anticipate:oM},PG=n=>typeof n=="string",cx=n=>{if(hM(n)){xw(n.length===4);const[e,t,i,r]=n;return np(e,t,i,r)}else if(PG(n))return xG[n];return n},$m=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],hx={value:null};function DG(n,e){let t=new Set,i=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function f(_){l.has(_)&&(g.schedule(_),n()),d++,_(c)}const g={schedule:(_,T=!1,w=!1)=>{const D=w&&r?t:i;return T&&l.add(_),D.has(_)||D.add(_),_},cancel:_=>{i.delete(_),l.delete(_)},process:_=>{if(c=_,r){o=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),e&&hx.value&&hx.value.frameloop[e].push(d),d=0,t.clear(),r=!1,o&&(o=!1,g.process(_))}};return g}const kG=40;function dM(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=$m.reduce((k,q)=>(k[q]=DG(o,e?q:void 0),k),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:g,update:_,preRender:T,render:w,postRender:A}=l,D=()=>{const k=Ns.useManualTiming?r.timestamp:performance.now();t=!1,Ns.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(k-r.timestamp,kG),1)),r.timestamp=k,r.isProcessing=!0,c.process(r),d.process(r),f.process(r),g.process(r),_.process(r),T.process(r),w.process(r),A.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(D))},C=()=>{t=!0,i=!0,r.isProcessing||n(D)};return{schedule:$m.reduce((k,q)=>{const j=l[q];return k[q]=(Q,x=!1,I=!1)=>(t||C(),j.schedule(Q,x,I)),k},{}),cancel:k=>{for(let q=0;q<$m.length;q++)l[$m[q]].cancel(k)},state:r,steps:l}}const{schedule:xt,cancel:$a,state:An,steps:FT}=dM(typeof requestAnimationFrame<"u"?requestAnimationFrame:qi,!0);let pg;function NG(){pg=void 0}const li={now:()=>(pg===void 0&&li.set(An.isProcessing||Ns.useManualTiming?An.timestamp:performance.now()),pg),set:n=>{pg=n,queueMicrotask(NG)}},fM=n=>e=>typeof e=="string"&&e.startsWith(n),Ow=fM("--"),OG=fM("var(--"),Vw=n=>OG(n)?VG.test(n.split("/*")[0].trim()):!1,VG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$c={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Tf={...$c,transform:n=>ks(0,1,n)},Hm={...$c,default:1},zd=n=>Math.round(n*1e5)/1e5,Mw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MG(n){return n==null}const LG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lw=(n,e)=>t=>!!(typeof t=="string"&&LG.test(t)&&t.startsWith(n)||e&&!MG(t)&&Object.prototype.hasOwnProperty.call(t,e)),pM=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,o,l,c]=i.match(Mw);return{[n]:parseFloat(r),[e]:parseFloat(o),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},UG=n=>ks(0,255,n),zT={...$c,transform:n=>Math.round(UG(n))},el={test:Lw("rgb","red"),parse:pM("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+zT.transform(n)+", "+zT.transform(e)+", "+zT.transform(t)+", "+zd(Tf.transform(i))+")"};function BG(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const eE={test:Lw("#"),parse:BG,transform:el.transform},ip=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ba=ip("deg"),Lr=ip("%"),xe=ip("px"),FG=ip("vh"),zG=ip("vw"),dx={...Lr,parse:n=>Lr.parse(n)/100,transform:n=>Lr.transform(n*100)},Fu={test:Lw("hsl","hue"),parse:pM("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Lr.transform(zd(e))+", "+Lr.transform(zd(t))+", "+zd(Tf.transform(i))+")"},On={test:n=>el.test(n)||eE.test(n)||Fu.test(n),parse:n=>el.test(n)?el.parse(n):Fu.test(n)?Fu.parse(n):eE.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?el.transform(n):Fu.transform(n)},jG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qG(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Mw))==null?void 0:e.length)||0)+(((t=n.match(jG))==null?void 0:t.length)||0)>0}const mM="number",gM="color",$G="var",HG="var(",fx="${}",GG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ef(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let o=0;const c=e.replace(GG,d=>(On.test(d)?(i.color.push(o),r.push(gM),t.push(On.parse(d))):d.startsWith(HG)?(i.var.push(o),r.push($G),t.push(d)):(i.number.push(o),r.push(mM),t.push(parseFloat(d))),++o,fx)).split(fx);return{values:t,split:c,indexes:i,types:r}}function yM(n){return Ef(n).values}function _M(n){const{split:e,types:t}=Ef(n),i=e.length;return r=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],r[l]!==void 0){const c=t[l];c===mM?o+=zd(r[l]):c===gM?o+=On.transform(r[l]):o+=r[l]}return o}}const KG=n=>typeof n=="number"?0:n;function WG(n){const e=yM(n);return _M(n)(e.map(KG))}const Ha={test:qG,parse:yM,createTransformer:_M,getAnimatableNone:WG};function jT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function YG({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,o=0,l=0;if(!e)r=o=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;r=jT(d,c,n+1/3),o=jT(d,c,n),l=jT(d,c,n-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Xg(n,e){return t=>t>0?e:n}const It=(n,e,t)=>n+(e-n)*t,qT=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},QG=[eE,el,Fu],XG=n=>QG.find(e=>e.test(n));function px(n){const e=XG(n);if(!e)return!1;let t=e.parse(n);return e===Fu&&(t=YG(t)),t}const mx=(n,e)=>{const t=px(n),i=px(e);if(!t||!i)return Xg(n,e);const r={...t};return o=>(r.red=qT(t.red,i.red,o),r.green=qT(t.green,i.green,o),r.blue=qT(t.blue,i.blue,o),r.alpha=It(t.alpha,i.alpha,o),el.transform(r))},tE=new Set(["none","hidden"]);function JG(n,e){return tE.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function ZG(n,e){return t=>It(n,e,t)}function Uw(n){return typeof n=="number"?ZG:typeof n=="string"?Vw(n)?Xg:On.test(n)?mx:nK:Array.isArray(n)?vM:typeof n=="object"?On.test(n)?mx:eK:Xg}function vM(n,e){const t=[...n],i=t.length,r=n.map((o,l)=>Uw(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)t[l]=r[l](o);return t}}function eK(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=Uw(n[r])(n[r],e[r]));return r=>{for(const o in i)t[o]=i[o](r);return t}}function tK(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],l=n.indexes[o][i[o]],c=n.values[l]??0;t[r]=c,i[o]++}return t}const nK=(n,e)=>{const t=Ha.createTransformer(e),i=Ef(n),r=Ef(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?tE.has(n)&&!r.values.length||tE.has(e)&&!i.values.length?JG(n,e):tp(vM(tK(i,r),r.values),t):Xg(n,e)};function TM(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?It(n,e,t):Uw(n)(n,e)}const iK=n=>{const e=({timestamp:t})=>n(t);return{start:()=>xt.update(e,!0),stop:()=>$a(e),now:()=>An.isProcessing?An.timestamp:li.now()}},EM=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let o=0;o<r;o++)i+=n(o/(r-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Jg=2e4;function Bw(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Jg;)e+=t,i=n.next(e);return e>=Jg?1/0:e}function rK(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(Bw(i),Jg);return{type:"keyframes",ease:o=>i.next(r*o).value/e,duration:Mr(r)}}const sK=5;function bM(n,e,t){const i=Math.max(e-sK,0);return tM(t-n(i),e-i)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gx=.001;function aK({duration:n=Lt.duration,bounce:e=Lt.bounce,velocity:t=Lt.velocity,mass:i=Lt.mass}){let r,o,l=1-e;l=ks(Lt.minDamping,Lt.maxDamping,l),n=ks(Lt.minDuration,Lt.maxDuration,Mr(n)),l<1?(r=f=>{const g=f*l,_=g*n,T=g-t,w=nE(f,l),A=Math.exp(-_);return gx-T/w*A},o=f=>{const _=f*l*n,T=_*t+t,w=Math.pow(l,2)*Math.pow(f,2)*n,A=Math.exp(-_),D=nE(Math.pow(f,2),l);return(-r(f)+gx>0?-1:1)*((T-w)*A)/D}):(r=f=>{const g=Math.exp(-f*n),_=(f-t)*n+1;return-.001+g*_},o=f=>{const g=Math.exp(-f*n),_=(t-f)*(n*n);return g*_});const c=5/n,d=lK(r,o,c);if(n=Vr(n),isNaN(d))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:n};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const oK=12;function lK(n,e,t){let i=t;for(let r=1;r<oK;r++)i=i-n(i)/e(i);return i}function nE(n,e){return n*Math.sqrt(1-e*e)}const uK=["duration","bounce"],cK=["stiffness","damping","mass"];function yx(n,e){return e.some(t=>n[t]!==void 0)}function hK(n){let e={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...n};if(!yx(n,cK)&&yx(n,uK))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,o=2*ks(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Lt.mass,stiffness:r,damping:o}}else{const t=aK(n);e={...e,...t,mass:Lt.mass},e.isResolvedFromDuration=!0}return e}function Zg(n=Lt.visualDuration,e=Lt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:g,duration:_,velocity:T,isResolvedFromDuration:w}=hK({...t,velocity:-Mr(t.velocity||0)}),A=T||0,D=f/(2*Math.sqrt(d*g)),C=l-o,P=Mr(Math.sqrt(d/g)),O=Math.abs(C)<5;i||(i=O?Lt.restSpeed.granular:Lt.restSpeed.default),r||(r=O?Lt.restDelta.granular:Lt.restDelta.default);let k;if(D<1){const j=nE(P,D);k=Q=>{const x=Math.exp(-D*P*Q);return l-x*((A+D*P*C)/j*Math.sin(j*Q)+C*Math.cos(j*Q))}}else if(D===1)k=j=>l-Math.exp(-P*j)*(C+(A+P*C)*j);else{const j=P*Math.sqrt(D*D-1);k=Q=>{const x=Math.exp(-D*P*Q),I=Math.min(j*Q,300);return l-x*((A+D*P*C)*Math.sinh(I)+j*C*Math.cosh(I))/j}}const q={calculatedDuration:w&&_||null,next:j=>{const Q=k(j);if(w)c.done=j>=_;else{let x=j===0?A:0;D<1&&(x=j===0?Vr(A):bM(k,j,Q));const I=Math.abs(x)<=i,N=Math.abs(l-Q)<=r;c.done=I&&N}return c.value=c.done?l:Q,c},toString:()=>{const j=Math.min(Bw(q),Jg),Q=EM(x=>q.next(j*x).value,j,30);return j+"ms "+Q},toTransition:()=>{}};return q}Zg.applyToOptions=n=>{const e=rK(n,100,Zg);return n.ease=e.ease,n.duration=Vr(e.duration),n.type="keyframes",n};function iE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:g}){const _=n[0],T={done:!1,value:_},w=I=>c!==void 0&&I<c||d!==void 0&&I>d,A=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let D=t*e;const C=_+D,P=l===void 0?C:l(C);P!==C&&(D=P-_);const O=I=>-D*Math.exp(-I/i),k=I=>P+O(I),q=I=>{const N=O(I),L=k(I);T.done=Math.abs(N)<=f,T.value=T.done?P:L};let j,Q;const x=I=>{w(T.value)&&(j=I,Q=Zg({keyframes:[T.value,A(T.value)],velocity:bM(k,I,T.value),damping:r,stiffness:o,restDelta:f,restSpeed:g}))};return x(0),{calculatedDuration:null,next:I=>{let N=!1;return!Q&&j===void 0&&(N=!0,q(I),x(I)),j!==void 0&&I>=j?Q.next(I-j):(!N&&q(I),T)}}}function dK(n,e,t){const i=[],r=t||Ns.mix||TM,o=n.length-1;for(let l=0;l<o;l++){let c=r(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||qi:e;c=tp(d,c)}i.push(c)}return i}function fK(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const o=n.length;if(xw(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=dK(e,i,r),d=c.length,f=g=>{if(l&&g<n[0])return e[0];let _=0;if(d>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const T=vf(n[_],n[_+1],g);return c[_](T)};return t?g=>f(ks(n[0],n[o-1],g)):f}function pK(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=vf(0,e,i);n.push(It(t,1,r))}}function mK(n){const e=[0];return pK(e,n.length-1),e}function gK(n,e){return n.map(t=>t*e)}function yK(n,e){return n.map(()=>e||cM).splice(0,n.length-1)}function jd({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=CG(i)?i.map(cx):cx(i),o={done:!1,value:e[0]},l=gK(t&&t.length===e.length?t:mK(e),n),c=fK(l,e,{ease:Array.isArray(r)?r:yK(e,r)});return{calculatedDuration:n,next:d=>(o.value=c(d),o.done=d>=n,o)}}const _K=n=>n!==null;function Fw(n,{repeat:e,repeatType:t="loop"},i,r=1){const o=n.filter(_K),c=r<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const vK={decay:iE,inertia:iE,tween:jd,keyframes:jd,spring:Zg};function wM(n){typeof n.type=="string"&&(n.type=vK[n.type])}class zw{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const TK=n=>n/100;class AM extends zw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;if(t&&t.updatedAt!==li.now()&&this.tick(li.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:i}=this.options;i&&i()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;wM(e);const{type:t=jd,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const d=t||jd;d!==jd&&typeof c[0]!="number"&&(this.mixKeyframes=tp(TK,TM(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Bw(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:g,repeat:_,repeatType:T,repeatDelay:w,type:A,onUpdate:D,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const P=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?P<0:P>r;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let k=this.currentTime,q=i;if(_){const I=Math.min(this.currentTime,r)/c;let N=Math.floor(I),L=I%1;!L&&I>=1&&(L=1),L===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(T==="reverse"?(L=1-L,w&&(L-=w/c)):T==="mirror"&&(q=l)),k=ks(0,1,L)*c}const j=O?{done:!1,value:g[0]}:q.next(k);o&&(j.value=o(j.value));let{done:Q}=j;!O&&d!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return x&&A!==iE&&(j.value=Fw(g,this.options,C,this.speed)),D&&D(j.value),x&&this.finish(),j}then(e,t){return this.finished.then(e,t)}get duration(){return Mr(this.calculatedDuration)}get time(){return Mr(this.currentTime)}set time(e){e=Vr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(li.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Mr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=iK,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function EK(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const tl=n=>n*180/Math.PI,rE=n=>{const e=tl(Math.atan2(n[1],n[0]));return sE(e)},bK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:rE,rotateZ:rE,skewX:n=>tl(Math.atan(n[1])),skewY:n=>tl(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},sE=n=>(n=n%360,n<0&&(n+=360),n),_x=rE,vx=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Tx=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),wK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vx,scaleY:Tx,scale:n=>(vx(n)+Tx(n))/2,rotateX:n=>sE(tl(Math.atan2(n[6],n[5]))),rotateY:n=>sE(tl(Math.atan2(-n[2],n[0]))),rotateZ:_x,rotate:_x,skewX:n=>tl(Math.atan(n[4])),skewY:n=>tl(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Ex(n){return n.includes("scale")?1:0}function aE(n,e){if(!n||n==="none")return Ex(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=wK,r=t;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=bK,r=c}if(!r)return Ex(e);const o=i[e],l=r[1].split(",").map(SK);return typeof o=="function"?o(l):l[o]}const AK=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return aE(t,e)};function SK(n){return parseFloat(n.trim())}const Hc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gc=new Set(Hc),bx=n=>n===$c||n===xe,IK=new Set(["x","y","z"]),RK=Hc.filter(n=>!IK.has(n));function CK(n){const e=[];return RK.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const ul={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>aE(e,"x"),y:(n,{transform:e})=>aE(e,"y")};ul.translateX=ul.x;ul.translateY=ul.y;const cl=new Set;let oE=!1,lE=!1,uE=!1;function SM(){if(lE){const n=Array.from(cl).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=CK(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([o,l])=>{var c;(c=i.getValue(o))==null||c.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}lE=!1,oE=!1,cl.forEach(n=>n.complete(uE)),cl.clear()}function IM(){cl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(lE=!0)})}function xK(){uE=!0,IM(),SM(),uE=!1}class jw{constructor(e,t,i,r,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cl.add(this),oE||(oE=!0,xt.read(IM),xt.resolveKeyframes(SM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const o=r==null?void 0:r.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const c=i.readValue(t,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),r&&o===void 0&&r.set(e[0])}EK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const PK=n=>n.startsWith("--");function DK(n,e,t){PK(e)?n.style.setProperty(e,t):n.style[e]=t}const kK=Pw(()=>window.ScrollTimeline!==void 0),NK={};function OK(n,e){const t=Pw(n);return()=>NK[e]??t()}const RM=OK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sd=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,wx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sd([0,.65,.55,1]),circOut:Sd([.55,0,1,.45]),backIn:Sd([.31,.01,.66,-.59]),backOut:Sd([.33,1.53,.69,.99])};function CM(n,e){if(n)return typeof n=="function"?RM()?EM(n,e):"ease-out":hM(n)?Sd(n):Array.isArray(n)?n.map(t=>CM(t,e)||wx.easeOut):wx[n]}function VK(n,e,t,{delay:i=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const g={[e]:t};d&&(g.offset=d);const _=CM(c,r);Array.isArray(_)&&(g.easing=_);const T={delay:i,duration:r,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(T.pseudoElement=f),n.animate(g,T)}function xM(n){return typeof n=="function"&&"applyToOptions"in n}function MK({type:n,...e}){return xM(n)&&RM()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LK extends zw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,xw(typeof e.type!="string");const f=MK(e);this.animation=VK(t,i,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=Fw(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):DK(t,i,g),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return Mr(Number(e))}get time(){return Mr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&kK()?(this.animation.timeline=e,qi):t(this)}}const PM={anticipate:oM,backInOut:aM,circInOut:uM};function UK(n){return n in PM}function BK(n){typeof n.ease=="string"&&UK(n.ease)&&(n.ease=PM[n.ease])}const Ax=10;class FK extends LK{constructor(e){BK(e),wM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:o,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new AM({...l,autoplay:!1}),d=Vr(this.finishedTime??this.time);t.setWithVelocity(c.sample(d-Ax).value,c.sample(d).value,Ax),c.stop()}}const Sx=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ha.test(n)||n==="0")&&!n.startsWith("url("));function zK(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function jK(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=Sx(r,e),c=Sx(o,e);return!l||!c?!1:zK(n)||(t==="spring"||xM(t))&&i}const qK=new Set(["opacity","clipPath","filter","transform"]),$K=Pw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HK(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:o,type:l}=n;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return $K()&&t&&qK.has(t)&&(t!=="transform"||!d)&&!c&&!i&&r!=="mirror"&&o!==0&&l!=="inertia"}const GK=40;class KK extends zw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:g,..._}){var A;super(),this.stop=()=>{var D,C;this._animation?(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)):(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=li.now();const T={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:g,..._},w=(g==null?void 0:g.KeyframeResolver)||jw;this.keyframeResolver=new w(c,(D,C,P)=>this.onKeyframesResolved(D,C,T,!P),d,f,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:g}=i;this.resolvedAt=li.now(),jK(e,o,l,c)||((Ns.instantAnimations||!d)&&(g==null||g(Fw(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const T={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>GK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},w=!f&&HK(T)?new FK({...T,element:T.motionValue.owner.current}):new AM(T);w.finished.then(()=>this.notifyFinished()).catch(qi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||xK(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const WK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YK(n){const e=WK.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function DM(n,e,t=1){const[i,r]=YK(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return ZV(l)?parseFloat(l):l}return Vw(r)?DM(r,e,t+1):r}function qw(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const kM=new Set(["width","height","top","left","right","bottom",...Hc]),QK={test:n=>n==="auto",parse:n=>n},NM=n=>e=>e.test(n),OM=[$c,xe,Lr,ba,zG,FG,QK],Ix=n=>OM.find(NM(n));function XK(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||eM(n):!0}const JK=new Set(["brightness","contrast","saturate","opacity"]);function ZK(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Mw)||[];if(!i)return n;const r=t.replace(i,"");let o=JK.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+r+")"}const eW=/\b([a-z-]*)\(.*?\)/gu,cE={...Ha,getAnimatableNone:n=>{const e=n.match(eW);return e?e.map(ZK).join(" "):n}},Rx={...$c,transform:Math.round},tW={rotate:ba,rotateX:ba,rotateY:ba,rotateZ:ba,scale:Hm,scaleX:Hm,scaleY:Hm,scaleZ:Hm,skew:ba,skewX:ba,skewY:ba,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Tf,originX:dx,originY:dx,originZ:xe},$w={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...tW,zIndex:Rx,fillOpacity:Tf,strokeOpacity:Tf,numOctaves:Rx},nW={...$w,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:cE,WebkitFilter:cE},VM=n=>nW[n];function MM(n,e){let t=VM(n);return t!==cE&&(t=Ha),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const iW=new Set(["auto","none","0"]);function rW(n,e,t){let i=0,r;for(;i<n.length&&!r;){const o=n[i];typeof o=="string"&&!iW.has(o)&&Ef(o).values.length&&(r=n[i]),i++}if(r&&t)for(const o of e)n[o]=MM(t,r)}class sW extends jw{constructor(e,t,i,r,o){super(e,t,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),Vw(f))){const g=DM(f,t.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!kM.has(i)||e.length!==2)return;const[r,o]=e,l=Ix(r),c=Ix(o);if(l!==c)if(bx(l)&&bx(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else ul[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||XK(e[r]))&&i.push(r);i.length&&rW(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ul[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var c;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=ul[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function aW(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=(t==null?void 0:t[n])??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const{schedule:Hw}=dM(queueMicrotask,!1),Zi={x:!1,y:!1};function LM(){return Zi.x||Zi.y}function oW(n){return n==="x"||n==="y"?Zi[n]?null:(Zi[n]=!0,()=>{Zi[n]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}function UM(n,e){const t=aW(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function Cx(n){return!(n.pointerType==="touch"||LM())}function lW(n,e,t={}){const[i,r,o]=UM(n,t),l=c=>{if(!Cx(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const g=_=>{Cx(_)&&(f(_),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,r)};return i.forEach(c=>{c.addEventListener("pointerenter",l,r)}),o}const BM=(n,e)=>e?n===e?!0:BM(n,e.parentElement):!1,Gw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,uW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cW(n){return uW.has(n.tagName)||n.tabIndex!==-1}const Id=new WeakSet;function xx(n){return e=>{e.key==="Enter"&&n(e)}}function $T(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hW=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=xx(()=>{if(Id.has(t))return;$T(t,"down");const r=xx(()=>{$T(t,"up")}),o=()=>$T(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Px(n){return Gw(n)&&!LM()}function dW(n,e,t={}){const[i,r,o]=UM(n,t),l=c=>{const d=c.currentTarget;if(!Px(c)||Id.has(d))return;Id.add(d);const f=e(d,c),g=(w,A)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),!(!Px(w)||!Id.has(d))&&(Id.delete(d),typeof f=="function"&&f(w,{success:A}))},_=w=>{g(w,d===window||d===document||t.useGlobalTarget||BM(d,w.target))},T=w=>{g(w,!1)};window.addEventListener("pointerup",_,r),window.addEventListener("pointercancel",T,r)};return i.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",l,r),c instanceof HTMLElement&&(c.addEventListener("focus",f=>hW(f,r)),!cW(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}const Dx=30,fW=n=>!isNaN(parseFloat(n));class pW{constructor(e,t={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{var l,c;const o=li.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current)),r&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=li.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Dw);const i=this.events[e].add(t);return e==="change"?()=>{i(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Dx)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Dx);return tM(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bf(n,e){return new pW(n,e)}const mW=[...OM,On,Ha],gW=n=>mW.find(NM(n)),FM=(n,e)=>e&&typeof n=="number"?e.transform(n):n,zM=U.createContext({strict:!1}),kx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rc={};for(const n in kx)Rc[n]={isEnabled:e=>kx[n].some(t=>!!e[t])};function yW(n){for(const e in n)Rc[e]={...Rc[e],...n[e]}}const _W=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ey(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||_W.has(n)}let jM=n=>!ey(n);function vW(n){n&&(jM=e=>e.startsWith("on")?!ey(e):n(e))}try{vW(require("@emotion/is-prop-valid").default)}catch{}function TW(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(jM(r)||t===!0&&ey(r)||!e&&!ey(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function EW(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const i_=U.createContext({});function r_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wf(n){return typeof n=="string"||Array.isArray(n)}const Kw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ww=["initial",...Kw];function s_(n){return r_(n.animate)||Ww.some(e=>wf(n[e]))}function qM(n){return!!(s_(n)||n.variants)}function bW(n,e){if(s_(n)){const{initial:t,animate:i}=n;return{initial:t===!1||wf(t)?t:void 0,animate:wf(i)?i:void 0}}return n.inherit!==!1?e:{}}function wW(n){const{initial:e,animate:t}=bW(n,U.useContext(i_));return U.useMemo(()=>({initial:e,animate:t}),[Nx(e),Nx(t)])}function Nx(n){return Array.isArray(n)?n.join(" "):n}const AW=Symbol.for("motionComponentSymbol");function zu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function SW(n,e,t){return U.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):zu(t)&&(t.current=i))},[e])}const Yw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IW="framerAppearId",$M="data-"+Yw(IW),HM=U.createContext({});function RW(n,e,t,i,r){var D,C;const{visualElement:o}=U.useContext(i_),l=U.useContext(zM),c=U.useContext(n_),d=U.useContext(Iw).reducedMotion,f=U.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(n,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,_=U.useContext(HM);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&CW(f.current,t,r,_);const T=U.useRef(!1);U.useInsertionEffect(()=>{g&&T.current&&g.update(t,c)});const w=t[$M],A=U.useRef(!!w&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,w))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,w)));return XV(()=>{g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Hw.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),U.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,w)}),A.current=!1))}),g}function CW(n,e,t,i){const{layoutId:r,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:GM(n.parent)),n.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||c&&zu(c),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:f})}function GM(n){if(n)return n.options.allowProjection!==!1?n.projection:GM(n.parent)}function xW({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&yW(n);function o(c,d){let f;const g={...U.useContext(Iw),...c,layoutId:PW(c)},{isStatic:_}=g,T=wW(c),w=i(c,_);if(!_&&Sw){DW();const A=kW(g);f=A.MeasureLayout,T.visualElement=RW(r,w,g,e,A.ProjectionNode)}return te.jsxs(i_.Provider,{value:T,children:[f&&T.visualElement?te.jsx(f,{visualElement:T.visualElement,...g}):null,t(r,c,SW(w,T.visualElement,d),w,_,T.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const l=U.forwardRef(o);return l[AW]=r,l}function PW({layoutId:n}){const e=U.useContext(ww).id;return e&&n!==void 0?e+"-"+n:n}function DW(n,e){U.useContext(zM).strict}function kW(n){const{drag:e,layout:t}=Rc;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Af={};function NW(n){for(const e in n)Af[e]=n[e],Ow(e)&&(Af[e].isCSSVariable=!0)}function KM(n,{layout:e,layoutId:t}){return Gc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Af[n]||n==="opacity")}const Ln=n=>!!(n&&n.getVelocity),OW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VW=Hc.length;function MW(n,e,t){let i="",r=!0;for(let o=0;o<VW;o++){const l=Hc[o],c=n[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const f=FM(c,$w[l]);if(!d){r=!1;const g=OW[l]||l;i+=`${g}(${f}) `}t&&(e[l]=f)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function Qw(n,e,t){const{style:i,vars:r,transformOrigin:o}=n;let l=!1,c=!1;for(const d in e){const f=e[d];if(Gc.has(d)){l=!0;continue}else if(Ow(d)){r[d]=f;continue}else{const g=FM(f,$w[d]);d.startsWith("origin")?(c=!0,o[d]=g):i[d]=g}}if(e.transform||(l||t?i.transform=MW(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${f} ${g}`}}const Xw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WM(n,e,t){for(const i in e)!Ln(e[i])&&!KM(i,t)&&(n[i]=e[i])}function LW({transformTemplate:n},e){return U.useMemo(()=>{const t=Xw();return Qw(t,e,n),Object.assign({},t.vars,t.style)},[e])}function UW(n,e){const t=n.style||{},i={};return WM(i,t,n),Object.assign(i,LW(n,e)),i}function BW(n,e){const t={},i=UW(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const FW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jw(n){return typeof n!="string"||n.includes("-")?!1:!!(FW.indexOf(n)>-1||/[A-Z]/u.test(n))}const zW={offset:"stroke-dashoffset",array:"stroke-dasharray"},jW={offset:"strokeDashoffset",array:"strokeDasharray"};function qW(n,e,t=1,i=0,r=!0){n.pathLength=1;const o=r?zW:jW;n[o.offset]=xe.transform(-i);const l=xe.transform(e),c=xe.transform(t);n[o.array]=`${l} ${c}`}function YM(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...c},d,f,g){if(Qw(n,c,f),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:T}=n;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),i!==void 0&&(_.scale=i),r!==void 0&&qW(_,r,o,l,!1)}const QM=()=>({...Xw(),attrs:{}}),XM=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $W(n,e,t,i){const r=U.useMemo(()=>{const o=QM();return YM(o,e,XM(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};WM(o,n.style,n),r.style={...o,...r.style}}return r}function HW(n=!1){return(t,i,r,{latestValues:o},l)=>{const d=(Jw(t)?$W:BW)(i,o,l,t),f=TW(i,typeof t=="string",n),g=t!==U.Fragment?{...f,...d,ref:r}:{},{children:_}=i,T=U.useMemo(()=>Ln(_)?_.get():_,[_]);return U.createElement(t,{...g,children:T})}}function Ox(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Zw(n,e,t,i){if(typeof e=="function"){const[r,o]=Ox(i);e=e(t!==void 0?t:n.custom,r,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,o]=Ox(i);e=e(t!==void 0?t:n.custom,r,o)}return e}function mg(n){return Ln(n)?n.get():n}function GW({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:KW(t,i,r,n),renderState:e()}}const JM=n=>(e,t)=>{const i=U.useContext(i_),r=U.useContext(n_),o=()=>GW(n,e,i,r);return t?o():Aw(o)};function KW(n,e,t,i){const r={},o=i(n,{});for(const T in o)r[T]=mg(o[T]);let{initial:l,animate:c}=n;const d=s_(n),f=qM(n);e&&f&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const _=g?c:l;if(_&&typeof _!="boolean"&&!r_(_)){const T=Array.isArray(_)?_:[_];for(let w=0;w<T.length;w++){const A=Zw(n,T[w]);if(A){const{transitionEnd:D,transition:C,...P}=A;for(const O in P){let k=P[O];if(Array.isArray(k)){const q=g?k.length-1:0;k=k[q]}k!==null&&(r[O]=k)}for(const O in D)r[O]=D[O]}}}return r}function eA(n,e,t){var o;const{style:i}=n,r={};for(const l in i)(Ln(i[l])||e.style&&Ln(e.style[l])||KM(l,n)||((o=t==null?void 0:t.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(r[l]=i[l]);return r}const WW={useVisualState:JM({scrapeMotionValuesFromProps:eA,createRenderState:Xw})};function ZM(n,e,t){const i=eA(n,e,t);for(const r in n)if(Ln(n[r])||Ln(e[r])){const o=Hc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=n[r]}return i}const YW={useVisualState:JM({scrapeMotionValuesFromProps:ZM,createRenderState:QM})};function QW(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const l={...Jw(i)?YW:WW,preloadedFeatures:n,useRender:HW(r),createVisualElement:e,Component:i};return xW(l)}}function Sf(n,e,t){const i=n.getProps();return Zw(i,e,t!==void 0?t:i.custom,n)}const hE=n=>Array.isArray(n);function XW(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,bf(t))}function JW(n){return hE(n)?n[n.length-1]||0:n}function ZW(n,e){const t=Sf(n,e);let{transitionEnd:i={},transition:r={},...o}=t||{};o={...o,...i};for(const l in o){const c=JW(o[l]);XW(n,l,c)}}function eY(n){return!!(Ln(n)&&n.add)}function dE(n,e){const t=n.getValue("willChange");if(eY(t))return t.add(e);if(!t&&Ns.WillChange){const i=new Ns.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function e2(n){return n.props[$M]}const tY=n=>n!==null;function nY(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(tY),o=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[o]}const iY={type:"spring",stiffness:500,damping:25,restSpeed:10},rY=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),sY={type:"keyframes",duration:.8},aY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oY=(n,{keyframes:e})=>e.length>2?sY:Gc.has(n)?n.startsWith("scale")?rY(e[1]):iY:aY;function lY({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const tA=(n,e,t,i={},r,o)=>l=>{const c=qw(i,n)||{},d=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Vr(d);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:T=>{e.set(T),c.onUpdate&&c.onUpdate(T)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:o?void 0:r};lY(c)||Object.assign(g,oY(n,g)),g.duration&&(g.duration=Vr(g.duration)),g.repeatDelay&&(g.repeatDelay=Vr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),(Ns.instantAnimations||Ns.skipAnimations)&&(_=!0,g.duration=0,g.delay=0),g.allowFlatten=!c.type&&!c.ease,_&&!o&&e.get()!==void 0){const T=nY(g.keyframes,c);if(T!==void 0){xt.update(()=>{g.onUpdate(T),g.onComplete()});return}}return new KK(g)};function uY({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function t2(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:l,...c}=e;i&&(o=i);const d=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const g in c){const _=n.getValue(g,n.latestValues[g]??null),T=c[g];if(T===void 0||f&&uY(f,g))continue;const w={delay:t,...qw(o||{},g)},A=_.get();if(A!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===A&&!w.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const P=e2(n);if(P){const O=window.MotionHandoffAnimation(P,g,xt);O!==null&&(w.startTime=O,D=!0)}}dE(n,g),_.start(tA(g,_,T,n.shouldReduceMotion&&kM.has(g)?{type:!1}:w,n,D));const C=_.animation;C&&d.push(C)}return l&&Promise.all(d).then(()=>{xt.update(()=>{l&&ZW(n,l)})}),d}function fE(n,e,t={}){var d;const i=Sf(n,e,t.type==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const o=i?()=>Promise.all(t2(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:T}=r;return cY(n,e,g+f,_,T,t)}:()=>Promise.resolve(),{when:c}=r;if(c){const[f,g]=c==="beforeChildren"?[o,l]:[l,o];return f().then(()=>g())}else return Promise.all([o(),l(t.delay)])}function cY(n,e,t=0,i=0,r=1,o){const l=[],c=(n.variantChildren.size-1)*i,d=r===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(n.variantChildren).sort(hY).forEach((f,g)=>{f.notify("AnimationStart",e),l.push(fE(f,e,{...o,delay:t+d(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function hY(n,e){return n.sortNodePosition(e)}function dY(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>fE(n,o,t));i=Promise.all(r)}else if(typeof e=="string")i=fE(n,e,t);else{const r=typeof e=="function"?Sf(n,e,t.custom):e;i=Promise.all(t2(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function n2(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const fY=Ww.length;function i2(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?i2(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<fY;t++){const i=Ww[t],r=n.props[i];(wf(r)||r===!1)&&(e[i]=r)}return e}const pY=[...Kw].reverse(),mY=Kw.length;function gY(n){return e=>Promise.all(e.map(({animation:t,options:i})=>dY(n,t,i)))}function yY(n){let e=gY(n),t=Vx(),i=!0;const r=d=>(f,g)=>{var T;const _=Sf(n,g,d==="exit"?(T=n.presenceContext)==null?void 0:T.custom:void 0);if(_){const{transition:w,transitionEnd:A,...D}=_;f={...f,...D,...A}}return f};function o(d){e=d(n)}function l(d){const{props:f}=n,g=i2(n.parent)||{},_=[],T=new Set;let w={},A=1/0;for(let C=0;C<mY;C++){const P=pY[C],O=t[P],k=f[P]!==void 0?f[P]:g[P],q=wf(k),j=P===d?O.isActive:null;j===!1&&(A=C);let Q=k===g[P]&&k!==f[P]&&q;if(Q&&i&&n.manuallyAnimateOnMount&&(Q=!1),O.protectedKeys={...w},!O.isActive&&j===null||!k&&!O.prevProp||r_(k)||typeof k=="boolean")continue;const x=_Y(O.prevProp,k);let I=x||P===d&&O.isActive&&!Q&&q||C>A&&q,N=!1;const L=Array.isArray(k)?k:[k];let F=L.reduce(r(P),{});j===!1&&(F={});const{prevResolvedValues:$={}}=O,M={...$,...F},yt=ue=>{I=!0,T.has(ue)&&(N=!0,T.delete(ue)),O.needsAnimating[ue]=!0;const ge=n.getValue(ue);ge&&(ge.liveStyle=!1)};for(const ue in M){const ge=F[ue],Pe=$[ue];if(w.hasOwnProperty(ue))continue;let B=!1;hE(ge)&&hE(Pe)?B=!n2(ge,Pe):B=ge!==Pe,B?ge!=null?yt(ue):T.add(ue):ge!==void 0&&T.has(ue)?yt(ue):O.protectedKeys[ue]=!0}O.prevProp=k,O.prevResolvedValues=F,O.isActive&&(w={...w,...F}),i&&n.blockInitialAnimation&&(I=!1),I&&(!(Q&&x)||N)&&_.push(...L.map(ue=>({animation:ue,options:{type:P}})))}if(T.size){const C={};if(typeof f.initial!="boolean"){const P=Sf(n,Array.isArray(f.initial)?f.initial[0]:f.initial);P&&P.transition&&(C.transition=P.transition)}T.forEach(P=>{const O=n.getBaseTarget(P),k=n.getValue(P);k&&(k.liveStyle=!0),C[P]=O??null}),_.push({animation:C})}let D=!!_.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(_):Promise.resolve()}function c(d,f){var _;if(t[d].isActive===f)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(T=>{var w;return(w=T.animationState)==null?void 0:w.setActive(d,f)}),t[d].isActive=f;const g=l(d);for(const T in t)t[T].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Vx(),i=!0}}}function _Y(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!n2(e,n):!1}function Bo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vx(){return{animate:Bo(!0),whileInView:Bo(),whileHover:Bo(),whileTap:Bo(),whileDrag:Bo(),whileFocus:Bo(),exit:Bo()}}class eo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vY extends eo{constructor(e){super(e),e.animationState||(e.animationState=yY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();r_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let TY=0;class EY extends eo{constructor(){super(...arguments),this.id=TY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bY={animation:{Feature:vY},exit:{Feature:EY}};function If(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function rp(n){return{point:{x:n.pageX,y:n.pageY}}}const wY=n=>e=>Gw(e)&&n(e,rp(e));function qd(n,e,t,i){return If(n,e,wY(t),i)}function r2({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function AY({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function SY(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const s2=1e-4,IY=1-s2,RY=1+s2,a2=.01,CY=0-a2,xY=0+a2;function Qn(n){return n.max-n.min}function PY(n,e,t){return Math.abs(n-e)<=t}function Mx(n,e,t,i=.5){n.origin=i,n.originPoint=It(e.min,e.max,n.origin),n.scale=Qn(t)/Qn(e),n.translate=It(t.min,t.max,n.origin)-n.originPoint,(n.scale>=IY&&n.scale<=RY||isNaN(n.scale))&&(n.scale=1),(n.translate>=CY&&n.translate<=xY||isNaN(n.translate))&&(n.translate=0)}function $d(n,e,t,i){Mx(n.x,e.x,t.x,i?i.originX:void 0),Mx(n.y,e.y,t.y,i?i.originY:void 0)}function Lx(n,e,t){n.min=t.min+e.min,n.max=n.min+Qn(e)}function DY(n,e,t){Lx(n.x,e.x,t.x),Lx(n.y,e.y,t.y)}function Ux(n,e,t){n.min=e.min-t.min,n.max=n.min+Qn(e)}function Hd(n,e,t){Ux(n.x,e.x,t.x),Ux(n.y,e.y,t.y)}const Bx=()=>({translate:0,scale:1,origin:0,originPoint:0}),ju=()=>({x:Bx(),y:Bx()}),Fx=()=>({min:0,max:0}),$t=()=>({x:Fx(),y:Fx()});function Bi(n){return[n("x"),n("y")]}function HT(n){return n===void 0||n===1}function pE({scale:n,scaleX:e,scaleY:t}){return!HT(n)||!HT(e)||!HT(t)}function qo(n){return pE(n)||o2(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function o2(n){return zx(n.x)||zx(n.y)}function zx(n){return n&&n!=="0%"}function ty(n,e,t){const i=n-t,r=e*i;return t+r}function jx(n,e,t,i,r){return r!==void 0&&(n=ty(n,r,i)),ty(n,t,i)+e}function mE(n,e=0,t=1,i,r){n.min=jx(n.min,e,t,i,r),n.max=jx(n.max,e,t,i,r)}function l2(n,{x:e,y:t}){mE(n.x,e.translate,e.scale,e.originPoint),mE(n.y,t.translate,t.scale,t.originPoint)}const qx=.999999999999,$x=1.0000000000001;function kY(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let o,l;for(let c=0;c<r;c++){o=t[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&$u(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,l2(n,l)),i&&qo(o.latestValues)&&$u(n,o.latestValues))}e.x<$x&&e.x>qx&&(e.x=1),e.y<$x&&e.y>qx&&(e.y=1)}function qu(n,e){n.min=n.min+e,n.max=n.max+e}function Hx(n,e,t,i,r=.5){const o=It(n.min,n.max,r);mE(n,e,t,o,i)}function $u(n,e){Hx(n.x,e.x,e.scaleX,e.scale,e.originX),Hx(n.y,e.y,e.scaleY,e.scale,e.originY)}function u2(n,e){return r2(SY(n.getBoundingClientRect(),e))}function NY(n,e,t){const i=u2(n,t),{scroll:r}=e;return r&&(qu(i.x,r.offset.x),qu(i.y,r.offset.y)),i}const c2=({current:n})=>n?n.ownerDocument.defaultView:null,Gx=(n,e)=>Math.abs(n-e);function OY(n,e){const t=Gx(n.x,e.x),i=Gx(n.y,e.y);return Math.sqrt(t**2+i**2)}class h2{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=KT(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,w=OY(_.offset,{x:0,y:0})>=3;if(!T&&!w)return;const{point:A}=_,{timestamp:D}=An;this.history.push({...A,timestamp:D});const{onStart:C,onMove:P}=this.handlers;T||(C&&C(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=GT(T,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:w,onSessionEnd:A,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=KT(_.type==="pointercancel"?this.lastMoveEventInfo:GT(T,this.transformPagePoint),this.history);this.startEvent&&w&&w(_,C),A&&A(_,C)},!Gw(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const l=rp(e),c=GT(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=An;this.history=[{...d,timestamp:f}];const{onSessionStart:g}=t;g&&g(e,KT(c,this.history)),this.removeListeners=tp(qd(this.contextWindow,"pointermove",this.handlePointerMove),qd(this.contextWindow,"pointerup",this.handlePointerUp),qd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$a(this.updatePoint)}}function GT(n,e){return e?{point:e(n.point)}:n}function Kx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function KT({point:n},e){return{point:n,delta:Kx(n,d2(e)),offset:Kx(n,VY(e)),velocity:MY(e,.1)}}function VY(n){return n[0]}function d2(n){return n[n.length-1]}function MY(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=d2(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Vr(e)));)t--;if(!i)return{x:0,y:0};const o=Mr(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function LY(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?It(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?It(t,n,i.max):Math.min(n,t)),n}function Wx(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function UY(n,{top:e,left:t,bottom:i,right:r}){return{x:Wx(n.x,t,r),y:Wx(n.y,e,i)}}function Yx(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function BY(n,e){return{x:Yx(n.x,e.x),y:Yx(n.y,e.y)}}function FY(n,e){let t=.5;const i=Qn(n),r=Qn(e);return r>i?t=vf(e.min,e.max-i,n.min):i>r&&(t=vf(n.min,n.max-r,e.min)),ks(0,1,t)}function zY(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const gE=.35;function jY(n=gE){return n===!1?n=0:n===!0&&(n=gE),{x:Qx(n,"left","right"),y:Qx(n,"top","bottom")}}function Qx(n,e,t){return{min:Xx(n,e),max:Xx(n,t)}}function Xx(n,e){return typeof n=="number"?n:n[e]||0}const qY=new WeakMap;class $Y{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(rp(g).point)},o=(g,_)=>{const{drag:T,dragPropagation:w,onDragStart:A}=this.getProps();if(T&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oW(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bi(C=>{let P=this.getAxisMotionValue(C).get()||0;if(Lr.test(P)){const{projection:O}=this.visualElement;if(O&&O.layout){const k=O.layout.layoutBox[C];k&&(P=Qn(k)*(parseFloat(P)/100))}}this.originPoint[C]=P}),A&&xt.postRender(()=>A(g,_)),dE(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:T,dragDirectionLock:w,onDirectionLock:A,onDrag:D}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:C}=_;if(w&&this.currentDirection===null){this.currentDirection=HY(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,C),this.updateAxis("y",_.point,C),this.visualElement.render(),D&&D(g,_)},c=(g,_)=>this.stop(g,_),d=()=>Bi(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)==null?void 0:_.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new h2(e,{onSessionStart:r,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:c2(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&xt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Gm(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=LY(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;e&&zu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=UY(i.layoutBox,e):this.constraints=!1,this.elastic=jY(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=zY(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=NY(i,r.root,this.visualElement.getTransformPagePoint());let l=BY(r.layout.layoutBox,o);if(t){const c=t(AY(l));this.hasMutatedConstraints=!!c,c&&(l=r2(c))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Bi(g=>{if(!Gm(g,t,this.currentDirection))return;let _=d&&d[g]||{};l&&(_={min:0,max:0});const T=r?200:1e6,w=r?40:1e7,A={type:"inertia",velocity:i?e[g]:0,bounceStiffness:T,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(g,A)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return dE(this.visualElement,e),i.start(tA(e,i,0,t,this.visualElement,!1))}stopAnimation(){Bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bi(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Bi(t=>{const{drag:i}=this.getProps();if(!Gm(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:l,max:c}=r.layout.layoutBox[t];o.set(e[t]-It(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!zu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Bi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();r[l]=FY({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Bi(l=>{if(!Gm(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(It(d,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;qY.set(this.visualElement,this);const e=this.visualElement.current,t=qd(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();zu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),xt.read(i);const l=If(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Bi(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=d[g].translate,_.set(_.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=gE,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Gm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function HY(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class GY extends eo{constructor(e){super(e),this.removeGroupControls=qi,this.removeListeners=qi,this.controls=new $Y(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jx=n=>(e,t)=>{n&&xt.postRender(()=>n(e,t))};class KY extends eo{constructor(){super(...arguments),this.removePointerDownListener=qi}onPointerDown(e){this.session=new h2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Jx(e),onStart:Jx(t),onMove:i,onEnd:(o,l)=>{delete this.session,r&&xt.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=qd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const md={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xe.test(n))n=parseFloat(n);else return n;const t=Zx(n,e.target.x),i=Zx(n,e.target.y);return`${t}% ${i}%`}},WY={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Ha.parse(n);if(r.length>5)return i;const o=Ha.createTransformer(n),l=typeof r[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;r[0+l]/=c,r[1+l]/=d;const f=It(c,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}};class YY extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;NW(QY),o&&(t.group&&t.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),gg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,r||e.layoutDependency!==t||t===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||xt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function f2(n){const[e,t]=JV(),i=U.useContext(ww);return te.jsx(YY,{...n,layoutGroup:i,switchLayoutGroup:U.useContext(HM),isPresent:e,safeToRemove:t})}const QY={borderRadius:{...md,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:md,borderTopRightRadius:md,borderBottomLeftRadius:md,borderBottomRightRadius:md,boxShadow:WY};function XY(n,e,t){const i=Ln(n)?n:bf(n);return i.start(tA("",i,e,t)),i.animation}function JY(n){return n instanceof SVGElement&&n.tagName!=="svg"}const ZY=(n,e)=>n.depth-e.depth;class eQ{constructor(){this.children=[],this.isDirty=!1}add(e){Rw(this.children,e),this.isDirty=!0}remove(e){Cw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZY),this.isDirty=!1,this.children.forEach(e)}}function tQ(n,e){const t=li.now(),i=({timestamp:r})=>{const o=r-t;o>=e&&($a(i),n(o-e))};return xt.setup(i,!0),()=>$a(i)}const p2=["TopLeft","TopRight","BottomLeft","BottomRight"],nQ=p2.length,eP=n=>typeof n=="string"?parseFloat(n):n,tP=n=>typeof n=="number"||xe.test(n);function iQ(n,e,t,i,r,o){r?(n.opacity=It(0,t.opacity??1,rQ(i)),n.opacityExit=It(e.opacity??1,0,sQ(i))):o&&(n.opacity=It(e.opacity??1,t.opacity??1,i));for(let l=0;l<nQ;l++){const c=`border${p2[l]}Radius`;let d=nP(e,c),f=nP(t,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||tP(d)===tP(f)?(n[c]=Math.max(It(eP(d),eP(f),i),0),(Lr.test(f)||Lr.test(d))&&(n[c]+="%")):n[c]=f}(e.rotate||t.rotate)&&(n.rotate=It(e.rotate||0,t.rotate||0,i))}function nP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const rQ=m2(0,.5,lM),sQ=m2(.5,.95,qi);function m2(n,e,t){return i=>i<n?0:i>e?1:t(vf(n,e,i))}function iP(n,e){n.min=e.min,n.max=e.max}function Ui(n,e){iP(n.x,e.x),iP(n.y,e.y)}function rP(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function sP(n,e,t,i,r){return n-=e,n=ty(n,1/t,i),r!==void 0&&(n=ty(n,1/r,i)),n}function aQ(n,e=0,t=1,i=.5,r,o=n,l=n){if(Lr.test(e)&&(e=parseFloat(e),e=It(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=It(o.min,o.max,i);n===o&&(c-=e),n.min=sP(n.min,e,t,c,r),n.max=sP(n.max,e,t,c,r)}function aP(n,e,[t,i,r],o,l){aQ(n,e[t],e[i],e[r],e.scale,o,l)}const oQ=["x","scaleX","originX"],lQ=["y","scaleY","originY"];function oP(n,e,t,i){aP(n.x,e,oQ,t?t.x:void 0,i?i.x:void 0),aP(n.y,e,lQ,t?t.y:void 0,i?i.y:void 0)}function lP(n){return n.translate===0&&n.scale===1}function g2(n){return lP(n.x)&&lP(n.y)}function uP(n,e){return n.min===e.min&&n.max===e.max}function uQ(n,e){return uP(n.x,e.x)&&uP(n.y,e.y)}function cP(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function y2(n,e){return cP(n.x,e.x)&&cP(n.y,e.y)}function hP(n){return Qn(n.x)/Qn(n.y)}function dP(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class cQ{constructor(){this.members=[]}add(e){Rw(this.members,e),e.scheduleRender()}remove(e){if(Cw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hQ(n,e,t){let i="";const r=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((r||o||l)&&(i=`translate3d(${r}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:g,rotateX:_,rotateY:T,skewX:w,skewY:A}=t;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),w&&(i+=`skewX(${w}deg) `),A&&(i+=`skewY(${A}deg) `)}const c=n.x.scale*e.x,d=n.y.scale*e.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const WT=["","X","Y","Z"],dQ={visibility:"hidden"},fP=1e3;let fQ=0;function YT(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function _2(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=e2(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",xt,!(r||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&_2(i)}function v2({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},c=e==null?void 0:e()){this.id=fQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gQ),this.nodes.forEach(EQ),this.nodes.forEach(bQ),this.nodes.forEach(yQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new eQ)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Dw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=JY(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),n){let g;const _=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=tQ(_,250),gg.hasAnimatedSinceResize&&(gg.hasAnimatedSinceResize=!1,this.nodes.forEach(mP))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||f.getDefaultTransition()||RQ,{onLayoutAnimationStart:D,onLayoutAnimationComplete:C}=f.getProps(),P=!this.targetLayout||!y2(this.targetLayout,w),O=!_&&T;if(this.options.layoutRoot||this.resumeFrom||O||_&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,O);const k={...qw(A,"layout"),onPlay:D,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else _||mP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wQ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pP);return}this.isUpdating||this.nodes.forEach(vQ),this.isUpdating=!1,this.nodes.forEach(TQ),this.nodes.forEach(pQ),this.nodes.forEach(mQ),this.clearAllSnapshots();const c=li.now();An.delta=ks(0,1e3/60,c-An.timestamp),An.timestamp=c,An.isProcessing=!0,FT.update.process(An),FT.preRender.process(An),FT.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_Q),this.sharedNodes.forEach(AQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qn(this.snapshot.measuredBox.x)&&!Qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!g2(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||qo(this.latestValues)||g)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),CQ(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return $t();const c=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(xQ))){const{scroll:g}=this.root;g&&(qu(c.x,g.offset.x),qu(c.y,g.offset.y))}return c}removeElementScroll(l){var d;const c=$t();if(Ui(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:_,options:T}=g;g!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&Ui(c,l),qu(c.x,_.offset.x),qu(c.y,_.offset.y))}return c}applyTransform(l,c=!1){const d=$t();Ui(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$u(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qo(g.latestValues)&&$u(d,g.latestValues)}return qo(this.latestValues)&&$u(d,this.latestValues),d}removeTransform(l){const c=$t();Ui(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!qo(f.latestValues))continue;pE(f.latestValues)&&f.updateSnapshot();const g=$t(),_=f.measurePageBox();Ui(g,_),oP(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return qo(this.latestValues)&&oP(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var T;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Hd(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ui(this.target,this.layout.layoutBox),l2(this.target,this.targetDelta)):Ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Hd(this.relativeTargetOrigin,this.target,w.target),Ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pE(this.parent.latestValues)||o2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===An.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Ui(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;kY(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=$t());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rP(this.prevProjectionDelta.x,this.projectionDelta.x),rP(this.prevProjectionDelta.y,this.projectionDelta.y)),$d(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!dP(this.projectionDelta.x,this.prevProjectionDelta.x)||!dP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ju(),this.projectionDelta=ju(),this.projectionDeltaWithTransform=ju()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},_=ju();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const T=$t(),w=d?d.source:void 0,A=this.layout?this.layout.source:void 0,D=w!==A,C=this.getStack(),P=!C||C.members.length<=1,O=!!(D&&!P&&this.options.crossfade===!0&&!this.path.some(IQ));this.animationProgress=0;let k;this.mixTargetDelta=q=>{const j=q/1e3;gP(_.x,l.x,j),gP(_.y,l.y,j),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hd(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SQ(this.relativeTarget,this.relativeTargetOrigin,T,j),k&&uQ(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=$t()),Ui(k,this.relativeTarget)),D&&(this.animationValues=g,iQ(g,f,this.latestValues,j,O,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{gg.hasAnimatedSinceResize=!0,this.currentAnimation=XY(0,fP,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:g}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&T2(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||$t();const _=Qn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+_;const T=Qn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+T}Ui(c,d),$u(c,g),$d(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new cQ),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&YT("z",l,f,this.animationValues);for(let g=0;g<WT.length;g++)YT(`rotate${WT[g]}`,l,f,this.animationValues),YT(`skew${WT[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return dQ;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=mg(l==null?void 0:l.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=mg(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!qo(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=hQ(this.projectionDeltaWithTransform,this.treeScale,g),d&&(c.transform=d(g,c.transform));const{x:_,y:T}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,f.animationValues?c.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in Af){if(g[w]===void 0)continue;const{correct:A,applyTo:D,isCSSVariable:C}=Af[w],P=c.transform==="none"?g[w]:A(g[w],f);if(D){const O=D.length;for(let k=0;k<O;k++)c[D[k]]=P}else C?this.options.visualElement.renderState.vars[w]=P:c[w]=P}return this.options.layoutId&&(c.pointerEvents=f===this?mg(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(pP),this.root.sharedNodes.clear()}}}function pQ(n){n.updateLayout()}function mQ(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,l=e.source!==n.layout.source;o==="size"?Bi(_=>{const T=l?e.measuredBox[_]:e.layoutBox[_],w=Qn(T);T.min=i[_].min,T.max=T.min+w}):T2(o,e.layoutBox,i)&&Bi(_=>{const T=l?e.measuredBox[_]:e.layoutBox[_],w=Qn(i[_]);T.max=T.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+w)});const c=ju();$d(c,i,e.layoutBox);const d=ju();l?$d(d,n.applyTransform(r,!0),e.measuredBox):$d(d,i,e.layoutBox);const f=!g2(c);let g=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:w}=_;if(T&&w){const A=$t();Hd(A,e.layoutBox,T.layoutBox);const D=$t();Hd(D,i,w.layoutBox),y2(A,D)||(g=!0),_.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=A,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function gQ(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function yQ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _Q(n){n.clearSnapshot()}function pP(n){n.clearMeasurements()}function vQ(n){n.isLayoutDirty=!1}function TQ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function mP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function EQ(n){n.resolveTargetDelta()}function bQ(n){n.calcProjection()}function wQ(n){n.resetSkewAndRotation()}function AQ(n){n.removeLeadSnapshot()}function gP(n,e,t){n.translate=It(e.translate,0,t),n.scale=It(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function yP(n,e,t,i){n.min=It(e.min,t.min,i),n.max=It(e.max,t.max,i)}function SQ(n,e,t,i){yP(n.x,e.x,t.x,i),yP(n.y,e.y,t.y,i)}function IQ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const RQ={duration:.45,ease:[.4,0,.1,1]},_P=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),vP=_P("applewebkit/")&&!_P("chrome/")?Math.round:qi;function TP(n){n.min=vP(n.min),n.max=vP(n.max)}function CQ(n){TP(n.x),TP(n.y)}function T2(n,e,t){return n==="position"||n==="preserve-aspect"&&!PY(hP(e),hP(t),.2)}function xQ(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const PQ=v2({attachResizeListener:(n,e)=>If(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QT={current:void 0},E2=v2({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!QT.current){const n=new PQ({});n.mount(window),n.setOptions({layoutScroll:!0}),QT.current=n}return QT.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),DQ={pan:{Feature:KY},drag:{Feature:GY,ProjectionNode:E2,MeasureLayout:f2}};function EP(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,o=i[r];o&&xt.postRender(()=>o(e,rp(e)))}class kQ extends eo{mount(){const{current:e}=this.node;e&&(this.unmount=lW(e,(t,i)=>(EP(this.node,i,"Start"),r=>EP(this.node,r,"End"))))}unmount(){}}class NQ extends eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tp(If(this.node.current,"focus",()=>this.onFocus()),If(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bP(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),o=i[r];o&&xt.postRender(()=>o(e,rp(e)))}class OQ extends eo{mount(){const{current:e}=this.node;e&&(this.unmount=dW(e,(t,i)=>(bP(this.node,i,"Start"),(r,{success:o})=>bP(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yE=new WeakMap,XT=new WeakMap,VQ=n=>{const e=yE.get(n.target);e&&e(n)},MQ=n=>{n.forEach(VQ)};function LQ({root:n,...e}){const t=n||document;XT.has(t)||XT.set(t,{});const i=XT.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(MQ,{root:n,...e})),i[r]}function UQ(n,e,t){const i=LQ(e);return yE.set(n,t),i.observe(n),()=>{yE.delete(n),i.unobserve(n)}}const BQ={some:0,all:1};class FQ extends eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:BQ[r]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),T=f?g:_;T&&T(d)};return UQ(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(zQ(e,t))&&this.startObserver()}unmount(){}}function zQ({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const jQ={inView:{Feature:FQ},tap:{Feature:OQ},focus:{Feature:NQ},hover:{Feature:kQ}},qQ={layout:{ProjectionNode:E2,MeasureLayout:f2}},_E={current:null},b2={current:!1};function $Q(){if(b2.current=!0,!!Sw)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>_E.current=n.matches;n.addListener(e),e()}else _E.current=!1}const HQ=new WeakMap;function GQ(n,e,t){for(const i in e){const r=e[i],o=t[i];if(Ln(r))n.addValue(i,r);else if(Ln(o))n.addValue(i,bf(r,{owner:n}));else if(o!==r)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=n.getStaticValue(i);n.addValue(i,bf(l!==void 0?l:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const wP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KQ{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=li.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,xt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=s_(t),this.isVariantNode=qM(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in _){const w=_[T];d[T]!==void 0&&Ln(w)&&w.set(d[T],!1)}}mount(e){this.current=e,HQ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),b2.current||$Q(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_E.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$a(this.notifyUpdate),$a(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Gc.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&xt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rc){const t=Rc[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<wP.length;i++){const r=wP[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=e[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=GQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=bf(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ZV(i)||eM(i))?i=parseFloat(i):!gW(i)&&Ha.test(t)&&(i=MM(e,t)),this.setBaseTarget(e,Ln(i)?i.get():i)),Ln(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const l=Zw(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);l&&(i=l[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Ln(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Dw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class w2 extends KQ{constructor(){super(...arguments),this.KeyframeResolver=sW}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ln(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function A2(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const o in t)n.style.setProperty(o,t[o])}function WQ(n){return window.getComputedStyle(n)}class YQ extends w2{constructor(){super(...arguments),this.type="html",this.renderInstance=A2}readValueFromInstance(e,t){if(Gc.has(t))return AK(e,t);{const i=WQ(e),r=(Ow(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return u2(e,t)}build(e,t,i){Qw(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return eA(e,t,i)}}const S2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QQ(n,e,t,i){A2(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(S2.has(r)?r:Yw(r),e.attrs[r])}class XQ extends w2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gc.has(t)){const i=VM(t);return i&&i.default||0}return t=S2.has(t)?t:Yw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return ZM(e,t,i)}build(e,t,i){YM(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){QQ(e,t,i,r)}mount(e){this.isSVGTag=XM(e.tagName),super.mount(e)}}const JQ=(n,e)=>Jw(n)?new XQ(e):new YQ(e,{allowProjection:n!==U.Fragment}),ZQ=QW({...bY,...jQ,...DQ,...qQ},JQ),eX=EW(ZQ),tX=kt.input`
  max-width: 1512px;
  width: 100%;
  height: 60px;
  border-radius: 8px;
  background-color: #E7F3F8;
  font-size: 16px;
  font-weight: 500;
  outline: none;
  border: none;
  padding-left: 16px;
  margin-top: 20px;

  color: ${({disabled:n})=>n?"#131313":"#0077D4"};
`,nX=kt.input`
  font-size: 36px;
  line-height: 40px;
  font-weight: bold;
  border: none;
  background: transparent;
  outline: none;
  width: 1512px;
  margin-right: 20px;

  color: ${({disabled:n})=>n?"#131313":"#0077D4"};
`,iX=kt.div`
  max-width: 1512px;
  margin: 0 auto;
`;function rX(){const n=xf(),[e,t]=U.useState([]),[i,r]=U.useState(""),[o,l]=U.useState(""),[c,d]=U.useState(!1),[f,g]=U.useState("전체 작업"),[_,T]=U.useState(!1),[w,A]=U.useState("");U.useEffect(()=>{Ts.collection("meta").doc("intro").get().then(P=>{if(P.data){const{title:O="",text:k=""}=P.data();r(O||"고명현님의 Work-Log"),l(k||"블로그 소개 글을 작성해주세요")}else r("고명현님의 Work-Log"),l("블로그 소개 글을 작성해주세요")})},[]),U.useEffect(()=>{let P=[];Ts.collection("post").get().then(O=>{O.forEach(q=>{P.push({id:q.id,...q.data()})});const k=P.sort((q,j)=>Number(j.id)-Number(q.id));t(k)})},[]);const D=()=>{Ts.collection("meta").doc("intro").set({title:i,text:o},{merge:!0}).then(()=>{Ge.success("설정이 완료되었습니다!"),d(!1)})},C={"전체 작업":e.length,"급한 작업":e.filter(P=>P.status==="급한 작업").length,"진행 작업":e.filter(P=>P.status==="진행 작업").length,"완료 작업":e.filter(P=>P.status==="완료 작업").length,"보류 작업":e.filter(P=>P.status==="보류 작업").length};return te.jsxs("div",{children:[te.jsxs(iX,{children:[te.jsxs("div",{className:"headerTitleWrap",children:[te.jsx(nX,{value:i,onChange:P=>r(P.target.value),disabled:!c,maxLength:30}),te.jsx(Hu,{iconName:c?"check":"settings",onClick:c?D:()=>d(!0)})]}),te.jsx(tX,{value:o,onChange:P=>l(P.target.value),disabled:!c,maxLength:60})]}),te.jsxs("section",{className:"content",children:[te.jsxs("div",{className:"statusCon",children:[te.jsx("p",{className:"subtitletext",children:"Status"}),te.jsx("hr",{}),te.jsxs("div",{className:"statusConWrap",children:[te.jsx("div",{onClick:()=>g("전체 작업"),children:te.jsx(wr,{status:"전체 작업",select:f==="전체 작업",count:C["전체 작업"]})}),te.jsx("div",{onClick:()=>g("급한 작업"),children:te.jsx(wr,{status:"급한 작업",select:f==="급한 작업",count:C["급한 작업"]})}),te.jsx("div",{onClick:()=>g("진행 작업"),children:te.jsx(wr,{status:"진행 작업",select:f==="진행 작업",count:C["진행 작업"]})}),te.jsx("div",{onClick:()=>g("완료 작업"),children:te.jsx(wr,{status:"완료 작업",select:f==="완료 작업",count:C["완료 작업"]})}),te.jsx("div",{onClick:()=>g("보류 작업"),children:te.jsx(wr,{status:"보류 작업",select:f==="보류 작업",count:C["보류 작업"]})})]})]}),te.jsxs("div",{className:"postCon",children:[te.jsxs("div",{className:"postConTitle",children:[te.jsx("p",{className:"subtitletext",children:"Log list"}),te.jsxs("div",{className:"btnWrap",children:[te.jsx(Hu,{iconName:_?"close":"search",onClick:()=>{T(P=>!P),_&&A("")}}),te.jsx(EG,{children:_&&te.jsx(eX.input,{initial:{width:0,opacity:0},animate:{width:200,opacity:1},exit:{width:0,opacity:0},transition:{duration:.4},placeholder:"검색어 입력",value:w,onChange:P=>A(P.target.value),style:{height:40,padding:"0 8px",fontSize:14,borderRadius:8,border:"1px solid #EEEDEB",overflow:"hidden",outline:"none"}},"inputView")}),te.jsx(DE,{type:"write",onClick:()=>n("/write")})]})]}),te.jsx("hr",{}),te.jsx("div",{className:"postItemWrap",children:e.filter(P=>(f==="전체 작업"||P.status===f)&&P.title.toLowerCase().includes(w.toLowerCase())).map((P,O)=>te.jsx(KB,{post:P,itemClicked:()=>n(`/post/${P.id}`)},O))})]})]})]})}function AP(){const n=xf(),{id:e}=VP(),t=U.useRef(),[i,r]=U.useState(""),[o,l]=U.useState(""),[c,d]=U.useState(""),[f,g]=U.useState("급한 작업"),_=()=>{t.current.click()};U.useEffect(()=>{e&&Ts.collection("post").doc(e).get().then(A=>{if(A.exists){const D=A.data();r(D.title||""),l(D.content||""),d(D.imageUrl||""),g(D.status||"진행 작업")}})},[e]);const T=async A=>{const D=A.target.files[0];if(!D)return;const P=V7.ref().child(`images/${D.name}_${Date.now()}`);try{await P.put(D);const O=await P.getDownloadURL();d(O),Ge.success("이미지 업로드 완료!")}catch(O){console.error(O),Ge.error("이미지 업로드 실패")}},w=()=>{if(!i.trim()||!o.trim()){alert("제목과 내용을 모두 입력해주세요.");return}const A=e||new Date().getTime().toString(),D={id:A,title:i,content:o,imageUrl:c||"/default.png",status:f},C=Ts.collection("post").doc(A);(e?C.update(D):C.set({...D,comments:[]})).then(()=>{Ge.success(e?"수정 완료!":"글이 등록되었습니다!"),n("/")}).catch(O=>{Ge.error("저장 실패: 다시 시도해주세요."),console.error(O)})};return te.jsxs("div",{children:[te.jsx("div",{className:"viewImg",children:te.jsx("img",{className:"uploadImg",src:c||"/default.png"})}),te.jsxs("section",{className:"contentWrite",children:[te.jsxs("div",{className:"selectStauts",children:[te.jsx("div",{onClick:()=>g("급한 작업"),children:te.jsx(wr,{status:"급한 작업",select:f==="급한 작업"})}),te.jsx("div",{onClick:()=>g("진행 작업"),children:te.jsx(wr,{status:"진행 작업",select:f==="진행 작업"})}),te.jsx("div",{onClick:()=>g("완료 작업"),children:te.jsx(wr,{status:"완료 작업",select:f==="완료 작업"})}),te.jsx("div",{onClick:()=>g("보류 작업"),children:te.jsx(wr,{status:"보류 작업",select:f==="보류 작업"})})]}),te.jsxs("div",{className:"postCon",children:[te.jsxs("div",{className:"postConTitle",children:[te.jsx("input",{className:"writeTitle",placeholder:"제목을 작성해주세요",value:i,onChange:A=>r(A.target.value),maxLength:20}),te.jsxs("div",{className:"btnWrap",children:[te.jsx("label",{children:te.jsx(Hu,{iconName:"image",onClick:_})}),te.jsx("input",{type:"file",accept:"image/*",ref:t,onChange:T,style:{display:"none"}}),te.jsx(DE,{type:"share",onClick:w})]})]}),te.jsx("hr",{}),te.jsx("textarea",{placeholder:"본문을 입력해주세요",value:o,onChange:A=>l(A.target.value)})]})]})]})}const sX=kt.div`
  display: flex;
  gap: 16px;
  align-items: start;
  
`,aX=kt.div`
  display: flex;
  flex-direction: column;
`,oX=kt.div`
  display: flex;
  gap: 8px;
  align-items: center;

  h5 {
    font-size: 16px;
    font-weight: 500;
  }

  p {
    font-size: 14px;
    color: #888;
  }
`,lX=kt.p`
  font-size: 14px;
  color: #333;
`,uX=kt.button`
  font-size: 12px;
  color: #3B82F6;
  background-color: #EEEDEB;
  border: none;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
`;function SP({comment:n,idx:e,setCommentIndex:t}){const{name:i,date:r,content:o}=n;return te.jsxs(sX,{children:[te.jsx("img",{src:"/profile.png",alt:"profile",width:"32",height:"32"}),te.jsxs(aX,{children:[te.jsxs(oX,{children:[te.jsx("h5",{children:i}),te.jsx("p",{children:r}),t&&te.jsx(uX,{onClick:()=>t(e),children:"대댓글"})]}),te.jsx(lX,{children:o})]})]})}const cX=kt.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,I2=kt.input`
  border-radius: 4px;
  border: none;
  width: 1285px;
  outline: none;
  font-size: 16px;
  background-color: #EEEDEB;
  padding-left: 12px;
  height: 40px;
  font-size: 14px;
`,hX=kt(I2)`
  width: 800px;
`,R2=kt.div`
  display: flex;
  gap: 16px;
  img {
    width: 36px;
    height: 36px;
  }
`,dX=kt(R2)`
  margin-left: 40px;
  margin-top: 12px;
`;function fX(){var P;const n=xf(),{id:e}=VP(),[t,i]=U.useState(null),[r,o]=U.useState(""),[l,c]=U.useState(""),[d,f]=U.useState(null),[g,_]=U.useState(""),[T,w]=U.useState(!1);U.useEffect(()=>{Ts.collection("post").doc(e).get().then(O=>{O.exists?i(O.data()):(alert("해당 글을 찾을 수 없습니다."),n("/"))})},[e,n]);const A=()=>{if(r.trim()==="")return;const O={id:`${e}_${Date.now()}`,name:l||"익명",date:new Date().toISOString().slice(0,10).replace(/-/g,"."),content:r,reContent:[]},k=[...t.comments||[],O];Ts.collection("post").doc(e).update({comments:k}).then(()=>{i(q=>({...q,comments:k})),o("")})},D=O=>{if(g.trim()==="")return;const k=[...t.comments],q={name:l||"익명",date:new Date().toISOString().slice(0,10).replace(/-/g,"."),content:g};k[O].reContent||(k[O].reContent=[]),k[O].reContent.push(q),Ts.collection("post").doc(e).update({comments:k}).then(()=>{_(""),f(null)}).catch(j=>{console.error("대댓글 저장 실패:",j)})},C=()=>{Ts.collection("post").doc(e).delete().then(()=>{Ge.success("글이 삭제되었습니다!"),n("/")})};return t?te.jsxs("div",{children:[te.jsx("div",{className:"viewImg",onClick:()=>w(!0),children:t.imageUrl&&te.jsx("img",{className:"uploadImg",src:t.imageUrl,alt:"업로드된 이미지"})}),te.jsxs("section",{className:"contentWrite",children:[te.jsx("div",{className:"selectStauts",children:te.jsx(wr,{status:t.status})}),te.jsxs("div",{className:"postCon",children:[te.jsxs("div",{className:"postConTitle",children:[te.jsx("h1",{className:"writeTitle",children:t.title}),te.jsxs("div",{className:"btnWrap",children:[te.jsx(Hu,{iconName:"delete",onClick:C}),te.jsx(DE,{type:"edit",onClick:()=>n(`/write/${e}`)})]})]}),te.jsx("hr",{}),te.jsx("p",{className:"ViewText",children:t.content}),te.jsx("p",{className:"subtitletext",children:"Comments"}),te.jsxs("div",{className:"commentWrap",children:[te.jsxs(R2,{children:[te.jsx("img",{className:"profile",src:"/profile.png"}),te.jsx("input",{className:"nameInput",type:"text",placeholder:"닉네임",value:l,onChange:O=>c(O.target.value),maxLength:6}),te.jsx(I2,{type:"text",placeholder:"댓글을 입력해주세요",value:r,onChange:O=>o(O.target.value)})]}),te.jsx(Hu,{iconName:"send",onClick:A})]}),te.jsx("hr",{}),te.jsx(cX,{children:(P=t.comments)==null?void 0:P.map((O,k)=>{var q;return te.jsxs("div",{children:[te.jsx(SP,{comment:O,idx:k,setCommentIndex:f}),d===k&&te.jsxs(dX,{children:[te.jsx("img",{className:"profile",src:"/profile.png"}),te.jsx("input",{className:"nameInput",type:"text",placeholder:"닉네임",value:l,onChange:j=>c(j.target.value),maxLength:6}),te.jsx(hX,{type:"text",placeholder:"대댓글을 입력해주세요",value:g,onChange:j=>_(j.target.value)}),te.jsx(Hu,{iconName:"send",onClick:()=>D(k)})]}),(q=O.reContent)==null?void 0:q.map((j,Q)=>te.jsx("div",{className:"reCommentWrap",children:te.jsx(SP,{comment:j})},Q))]},k)})})]})]}),T&&te.jsx("div",{onClick:()=>w(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999},children:te.jsx("img",{src:t.imageUrl,alt:"원본 이미지",style:{maxWidth:"90%",maxHeight:"90%",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0,0,0,0.5)",backgroundColor:"#fff"}})})]}):te.jsx("p",{children:"로딩 중..."})}lU.createRoot(document.getElementById("root")).render(te.jsxs(b4,{children:[te.jsxs(JU,{children:[te.jsx(gd,{index:!0,element:te.jsx(rX,{})}),te.jsx(gd,{path:"write",element:te.jsx(AP,{})}),te.jsx(gd,{path:"write/:id",element:te.jsx(AP,{})}),te.jsx(gd,{path:"post/:id",element:te.jsx(fX,{})})]}),te.jsx(gG,{position:"bottom-right",autoClose:3e3})]}));
